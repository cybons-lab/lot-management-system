============================= test session starts ==============================
platform darwin -- Python 3.13.9, pytest-9.0.2, pluggy-1.6.0 -- /Users/kazuya/dev/projects/lot-management-system/backend/.venv/bin/python3
cachedir: .pytest_cache
hypothesis profile 'dev' -> deadline=None, max_examples=10
rootdir: /Users/kazuya/dev/projects/lot-management-system/backend
configfile: pytest.ini
plugins: anyio-4.12.1, hypothesis-6.150.2, asyncio-1.3.0, Faker-40.1.2
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 3 items

tests/api/test_rpa_material_delivery.py::test_get_runs_empty FAILED      [ 33%]
tests/api/test_rpa_material_delivery.py::test_create_run_from_csv FAILED [ 66%]
tests/api/test_rpa_material_delivery.py::test_update_item_uow FAILED     [100%]

=================================== FAILURES ===================================
_____________________________ test_get_runs_empty ______________________________
  + Exception Group Traceback (most recent call last):
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/runner.py", line 353, in from_call
    |     result: TResult | None = func()
    |                              ~~~~^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/runner.py", line 245, in <lambda>
    |     lambda: runtest_hook(item=item, **kwds),
    |             ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/logging.py", line 850, in pytest_runtest_call
    |     yield
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/capture.py", line 900, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/skipping.py", line 268, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/runner.py", line 179, in pytest_runtest_call
    |     item.runtest()
    |     ~~~~~~~~~~~~^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/python.py", line 1720, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/python.py", line 166, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/tests/api/test_rpa_material_delivery.py", line 9, in test_get_runs_empty
    |     response = client.get("/api/rpa/material-delivery-note/runs")
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 473, in get
    |     return super().get(
    |            ~~~~~~~~~~~^
    |         url,
    |         ^^^^
    |     ...<6 lines>...
    |         extensions=extensions,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1053, in get
    |     return self.request(
    |            ~~~~~~~~~~~~^
    |         "GET",
    |         ^^^^^^
    |     ...<7 lines>...
    |         extensions=extensions,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 445, in request
    |     return super().request(
    |            ~~~~~~~~~~~~~~~^
    |         method,
    |         ^^^^^^^
    |     ...<11 lines>...
    |         extensions=extensions,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 825, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    |     response = self._send_handling_auth(
    |         request,
    |     ...<2 lines>...
    |         history=[],
    |     )
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |         request,
    |         follow_redirects=follow_redirects,
    |         history=history,
    |     )
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    |     response = transport.handle_request(request)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 348, in handle_request
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 345, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/from_thread.py", line 334, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/from_thread.py", line 259, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py", line 179, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    |     result = context.run(func, *args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 210, in list_runs
    |     service = MaterialDeliveryNoteOrchestrator(uow)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py", line 30, in __init__
    |     self.db: Session = uow.session
    |                        ^^^^^^^^^^^
    | AttributeError: 'NoneType' object has no attribute 'session'
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kazuya/dev/projects/lot-management-system/backend/tests/api/test_rpa_material_delivery.py", line 9, in test_get_runs_empty
    response = client.get("/api/rpa/material-delivery-note/runs")
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 473, in get
    return super().get(
           ~~~~~~~~~~~^
        url,
        ^^^^
    ...<6 lines>...
        extensions=extensions,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1053, in get
    return self.request(
           ~~~~~~~~~~~~^
        "GET",
        ^^^^^^
    ...<7 lines>...
        extensions=extensions,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 445, in request
    return super().request(
           ~~~~~~~~~~~~~~~^
        method,
        ^^^^^^^
    ...<11 lines>...
        extensions=extensions,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 348, in handle_request
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 345, in handle_request
    portal.call(self.app, scope, receive, send)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/from_thread.py", line 334, in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py", line 456, in result
    return self.__get_result()
           ~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/from_thread.py", line 259, in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py", line 179, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 210, in list_runs
    service = MaterialDeliveryNoteOrchestrator(uow)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py", line 30, in __init__
    self.db: Session = uow.session
                       ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'session'

The above exception was the direct cause of the following exception:

client = <starlette.testclient.TestClient object at 0x1104dd010>

    def test_get_runs_empty(client):
>       response = client.get("/api/rpa/material-delivery-note/runs")
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/api/test_rpa_material_delivery.py:9: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.13/site-packages/starlette/testclient.py:473: in get
    return super().get(
.venv/lib/python3.13/site-packages/httpx/_client.py:1053: in get
    return self.request(
.venv/lib/python3.13/site-packages/starlette/testclient.py:445: in request
    return super().request(
.venv/lib/python3.13/site-packages/httpx/_client.py:825: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/httpx/_client.py:914: in send
    response = self._send_handling_auth(
.venv/lib/python3.13/site-packages/httpx/_client.py:942: in _send_handling_auth
    response = self._send_handling_redirects(
.venv/lib/python3.13/site-packages/httpx/_client.py:979: in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/httpx/_client.py:1014: in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/testclient.py:348: in handle_request
    raise exc
.venv/lib/python3.13/site-packages/starlette/testclient.py:345: in handle_request
    portal.call(self.app, scope, receive, send)
.venv/lib/python3.13/site-packages/anyio/from_thread.py:334: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py:456: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
.venv/lib/python3.13/site-packages/anyio/from_thread.py:259: in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/contextlib.py:162: in __exit__
    self.gen.throw(value)
.venv/lib/python3.13/site-packages/starlette/_utils.py:85: in collapse_excgroups
    raise exc
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/middleware/request_id.py:179: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/contextlib.py:162: in __exit__
    self.gen.throw(value)
.venv/lib/python3.13/site-packages/starlette/_utils.py:85: in collapse_excgroups
    raise exc
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/middleware/logging.py:284: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/contextlib.py:162: in __exit__
    self.gen.throw(value)
.venv/lib/python3.13/site-packages/starlette/_utils.py:85: in collapse_excgroups
    raise exc
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/middleware/metrics.py:371: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
.venv/lib/python3.13/site-packages/starlette/middleware/cors.py:85: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py:63: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:736: in app
    await route.handle(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:290: in handle
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/fastapi/routing.py:115: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
.venv/lib/python3.13/site-packages/fastapi/routing.py:101: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:355: in app
    raw_response = await run_endpoint_function(
.venv/lib/python3.13/site-packages/fastapi/routing.py:245: in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/concurrency.py:32: in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/anyio/to_thread.py:63: in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py:2502: in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py:986: in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
app/presentation/api/routes/rpa/material_delivery_note_router.py:210: in list_runs
    service = MaterialDeliveryNoteOrchestrator(uow)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <app.application.services.rpa.orchestrator.MaterialDeliveryNoteOrchestrator object at 0x110658ad0>
uow = None

    def __init__(self, uow: Any):
        """Initialize with UnitOfWork (or adapter)."""
        self.uow = uow
        # Alias for easier access, assuming uow has .session
>       self.db: Session = uow.session
                           ^^^^^^^^^^^
E       AttributeError: 'NoneType' object has no attribute 'session'

app/application/services/rpa/orchestrator.py:30: AttributeError
---------------------------- Captured stdout setup -----------------------------
DEBUG: Conftest - Imported Models.
DEBUG: Base.metadata.tables keys: ['user_supplier_assignments', 'users', 'roles', 'user_roles', 'cloud_flow_configs', 'cloud_flow_jobs', 'forecast_current', 'forecast_history', 'inbound_plans', 'inbound_plan_lines', 'expected_lots', 'lot_receipts', 'stock_history', 'adjustments', 'allocation_suggestions', 'allocation_traces', 'layer_code_mappings', 'operation_logs', 'master_change_logs', 'business_rules', 'batch_jobs', 'lot_master', 'lot_reservation_history', 'lot_reservations', 'warehouses', 'suppliers', 'customers', 'delivery_places', 'products', 'customer_items', 'product_mappings', 'product_uom_conversions', 'customer_item_jiku_mappings', 'customer_item_delivery_settings', 'warehouse_delivery_routes', 'missing_mapping_events', 'order_groups', 'orders', 'order_lines', 'product_suppliers', 'product_warehouse', 'rpa_runs', 'rpa_run_items', 'seed_snapshots', 'smartread_configs', 'system_configs', 'system_client_logs', 'v_lot_current_stock', 'v_customer_daily_products', 'v_lot_available_qty', 'v_order_line_context', 'v_customer_code_to_id', 'v_delivery_place_code_to_id', 'v_forecast_order_pairs', 'v_product_code_to_id', 'v_candidate_lots_by_order_line', 'v_lot_details', 'v_order_line_details', 'v_inventory_summary', 'withdrawal_lines', 'withdrawals']
2026-01-17 15:24:42,877 INFO sqlalchemy.engine.Engine select pg_catalog.version()
{"timestamp": "2026-01-17T06:24:42.877605+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,877 INFO sqlalchemy.engine.Engine [raw sql] {}
{"timestamp": "2026-01-17T06:24:42.877990+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,879 INFO sqlalchemy.engine.Engine select current_schema()
{"timestamp": "2026-01-17T06:24:42.879210+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "select current_schema()", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,879 INFO sqlalchemy.engine.Engine [raw sql] {}
{"timestamp": "2026-01-17T06:24:42.879296+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,880 INFO sqlalchemy.engine.Engine show standard_conforming_strings
{"timestamp": "2026-01-17T06:24:42.880207+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,880 INFO sqlalchemy.engine.Engine [raw sql] {}
{"timestamp": "2026-01-17T06:24:42.880272+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,881 INFO sqlalchemy.engine.Engine BEGIN (implicit)
{"timestamp": "2026-01-17T06:24:42.881183+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2710", "function": "_connection_begin_impl", "environment": "development"}
2026-01-17 15:24:42,882 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.883005+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,883 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'table_name': 'user_supplier_assignments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.883099+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[generated in 0.00015s] {'table_name': 'user_supplier_assignments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,886 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.886346+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,886 INFO sqlalchemy.engine.Engine [cached since 0.003507s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.886453+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.003507s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,887 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.887585+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,887 INFO sqlalchemy.engine.Engine [cached since 0.004714s ago] {'table_name': 'roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.887652+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.004714s ago] {'table_name': 'roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,888 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.888633+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,888 INFO sqlalchemy.engine.Engine [cached since 0.005796s ago] {'table_name': 'user_roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.888755+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.005796s ago] {'table_name': 'user_roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,889 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.889436+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,889 INFO sqlalchemy.engine.Engine [cached since 0.006562s ago] {'table_name': 'cloud_flow_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.889501+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.006562s ago] {'table_name': 'cloud_flow_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,890 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.890190+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,890 INFO sqlalchemy.engine.Engine [cached since 0.007315s ago] {'table_name': 'cloud_flow_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.890252+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.007315s ago] {'table_name': 'cloud_flow_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,890 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.890934+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,890 INFO sqlalchemy.engine.Engine [cached since 0.00806s ago] {'table_name': 'forecast_current', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.891001+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.00806s ago] {'table_name': 'forecast_current', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,891 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.891833+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,891 INFO sqlalchemy.engine.Engine [cached since 0.008956s ago] {'table_name': 'forecast_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.891893+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.008956s ago] {'table_name': 'forecast_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,892 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.892523+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,892 INFO sqlalchemy.engine.Engine [cached since 0.00965s ago] {'table_name': 'inbound_plans', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.892594+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.00965s ago] {'table_name': 'inbound_plans', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,893 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.893313+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,893 INFO sqlalchemy.engine.Engine [cached since 0.01044s ago] {'table_name': 'inbound_plan_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.893380+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.01044s ago] {'table_name': 'inbound_plan_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,894 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.894183+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,894 INFO sqlalchemy.engine.Engine [cached since 0.01138s ago] {'table_name': 'expected_lots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.894425+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.01138s ago] {'table_name': 'expected_lots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,895 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.895388+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,895 INFO sqlalchemy.engine.Engine [cached since 0.01254s ago] {'table_name': 'lot_receipts', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.895492+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.01254s ago] {'table_name': 'lot_receipts', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,896 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.896277+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,896 INFO sqlalchemy.engine.Engine [cached since 0.0134s ago] {'table_name': 'stock_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.896337+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.0134s ago] {'table_name': 'stock_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,897 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.897090+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,897 INFO sqlalchemy.engine.Engine [cached since 0.01421s ago] {'table_name': 'adjustments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.897153+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.01421s ago] {'table_name': 'adjustments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,898 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.898172+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,898 INFO sqlalchemy.engine.Engine [cached since 0.0153s ago] {'table_name': 'allocation_suggestions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.898234+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.0153s ago] {'table_name': 'allocation_suggestions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,899 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.899805+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,899 INFO sqlalchemy.engine.Engine [cached since 0.01693s ago] {'table_name': 'allocation_traces', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.899865+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.01693s ago] {'table_name': 'allocation_traces', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,900 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.900549+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,900 INFO sqlalchemy.engine.Engine [cached since 0.01769s ago] {'table_name': 'layer_code_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.900632+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.01769s ago] {'table_name': 'layer_code_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,901 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.901404+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,901 INFO sqlalchemy.engine.Engine [cached since 0.01853s ago] {'table_name': 'operation_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.901473+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.01853s ago] {'table_name': 'operation_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,902 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.902239+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,902 INFO sqlalchemy.engine.Engine [cached since 0.01937s ago] {'table_name': 'master_change_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.902307+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.01937s ago] {'table_name': 'master_change_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,902 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.902975+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,903 INFO sqlalchemy.engine.Engine [cached since 0.0201s ago] {'table_name': 'business_rules', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.903037+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.0201s ago] {'table_name': 'business_rules', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,903 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.903698+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,903 INFO sqlalchemy.engine.Engine [cached since 0.02083s ago] {'table_name': 'batch_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.903768+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02083s ago] {'table_name': 'batch_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,904 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.904376+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,904 INFO sqlalchemy.engine.Engine [cached since 0.0215s ago] {'table_name': 'lot_master', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.904440+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.0215s ago] {'table_name': 'lot_master', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,905 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.905127+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,905 INFO sqlalchemy.engine.Engine [cached since 0.02225s ago] {'table_name': 'lot_reservation_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.905188+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02225s ago] {'table_name': 'lot_reservation_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,906 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.906083+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,906 INFO sqlalchemy.engine.Engine [cached since 0.02323s ago] {'table_name': 'lot_reservations', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.906180+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02323s ago] {'table_name': 'lot_reservations', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,906 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.906974+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,907 INFO sqlalchemy.engine.Engine [cached since 0.02412s ago] {'table_name': 'warehouses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.907058+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02412s ago] {'table_name': 'warehouses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,907 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.907713+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,907 INFO sqlalchemy.engine.Engine [cached since 0.02484s ago] {'table_name': 'suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.907783+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02484s ago] {'table_name': 'suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,908 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.908332+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,908 INFO sqlalchemy.engine.Engine [cached since 0.02546s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.908395+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02546s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,908 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.908984+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,909 INFO sqlalchemy.engine.Engine [cached since 0.02611s ago] {'table_name': 'delivery_places', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.909044+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02611s ago] {'table_name': 'delivery_places', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,909 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.909655+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,909 INFO sqlalchemy.engine.Engine [cached since 0.02678s ago] {'table_name': 'products', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.909717+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02678s ago] {'table_name': 'products', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,910 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.910388+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,910 INFO sqlalchemy.engine.Engine [cached since 0.02752s ago] {'table_name': 'customer_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.910465+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02752s ago] {'table_name': 'customer_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,911 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.911348+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,911 INFO sqlalchemy.engine.Engine [cached since 0.0285s ago] {'table_name': 'product_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.911436+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.0285s ago] {'table_name': 'product_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,912 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.912183+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,912 INFO sqlalchemy.engine.Engine [cached since 0.02931s ago] {'table_name': 'product_uom_conversions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.912245+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02931s ago] {'table_name': 'product_uom_conversions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,912 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.912812+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,912 INFO sqlalchemy.engine.Engine [cached since 0.02995s ago] {'table_name': 'customer_item_jiku_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.912894+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.02995s ago] {'table_name': 'customer_item_jiku_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,913 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.913352+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,913 INFO sqlalchemy.engine.Engine [cached since 0.03048s ago] {'table_name': 'customer_item_delivery_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.913416+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03048s ago] {'table_name': 'customer_item_delivery_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,913 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.913769+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,913 INFO sqlalchemy.engine.Engine [cached since 0.0309s ago] {'table_name': 'warehouse_delivery_routes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.913839+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.0309s ago] {'table_name': 'warehouse_delivery_routes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,914 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.914252+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,914 INFO sqlalchemy.engine.Engine [cached since 0.03138s ago] {'table_name': 'missing_mapping_events', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.914322+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03138s ago] {'table_name': 'missing_mapping_events', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,914 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.914695+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,914 INFO sqlalchemy.engine.Engine [cached since 0.03183s ago] {'table_name': 'order_groups', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.914778+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03183s ago] {'table_name': 'order_groups', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,915 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.915120+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,915 INFO sqlalchemy.engine.Engine [cached since 0.03225s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.915184+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03225s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,915 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.915532+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,915 INFO sqlalchemy.engine.Engine [cached since 0.03267s ago] {'table_name': 'order_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.915617+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03267s ago] {'table_name': 'order_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,915 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.915971+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,916 INFO sqlalchemy.engine.Engine [cached since 0.0331s ago] {'table_name': 'product_suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.916036+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.0331s ago] {'table_name': 'product_suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,916 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.916353+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,916 INFO sqlalchemy.engine.Engine [cached since 0.03349s ago] {'table_name': 'product_warehouse', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.916434+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03349s ago] {'table_name': 'product_warehouse', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,916 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.916809+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,916 INFO sqlalchemy.engine.Engine [cached since 0.03394s ago] {'table_name': 'rpa_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.916877+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03394s ago] {'table_name': 'rpa_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,917 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.917250+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,917 INFO sqlalchemy.engine.Engine [cached since 0.03438s ago] {'table_name': 'rpa_run_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.917323+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03438s ago] {'table_name': 'rpa_run_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,917 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.917686+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,917 INFO sqlalchemy.engine.Engine [cached since 0.03482s ago] {'table_name': 'seed_snapshots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.917766+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03482s ago] {'table_name': 'seed_snapshots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,918 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.918132+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,918 INFO sqlalchemy.engine.Engine [cached since 0.03526s ago] {'table_name': 'smartread_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.918195+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03526s ago] {'table_name': 'smartread_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,918 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.918610+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,918 INFO sqlalchemy.engine.Engine [cached since 0.03575s ago] {'table_name': 'system_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.918689+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03575s ago] {'table_name': 'system_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,919 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.919035+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,919 INFO sqlalchemy.engine.Engine [cached since 0.03618s ago] {'table_name': 'system_client_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.919124+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03618s ago] {'table_name': 'system_client_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,919 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.919623+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,919 INFO sqlalchemy.engine.Engine [cached since 0.03676s ago] {'table_name': 'withdrawal_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.919700+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03676s ago] {'table_name': 'withdrawal_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,920 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:42.920432+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,920 INFO sqlalchemy.engine.Engine [cached since 0.03757s ago] {'table_name': 'withdrawals', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:42.920506+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 0.03757s ago] {'table_name': 'withdrawals', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,921 INFO sqlalchemy.engine.Engine 
CREATE TABLE users (
	id BIGSERIAL NOT NULL, 
	username VARCHAR(50) NOT NULL, 
	email VARCHAR(255) NOT NULL, 
	auth_provider VARCHAR(50) DEFAULT 'local' NOT NULL, 
	azure_object_id VARCHAR(100), 
	password_hash VARCHAR(255), 
	display_name VARCHAR(100) NOT NULL, 
	is_active BOOLEAN DEFAULT true NOT NULL, 
	last_login_at TIMESTAMP WITHOUT TIME ZONE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_users_username UNIQUE (username), 
	CONSTRAINT uq_users_email UNIQUE (email), 
	CONSTRAINT uq_users_azure_object_id UNIQUE (azure_object_id), 
	UNIQUE (azure_object_id)
)


{"timestamp": "2026-01-17T06:24:42.921610+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE users (\n\tid BIGSERIAL NOT NULL, \n\tusername VARCHAR(50) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tauth_provider VARCHAR(50) DEFAULT 'local' NOT NULL, \n\tazure_object_id VARCHAR(100), \n\tpassword_hash VARCHAR(255), \n\tdisplay_name VARCHAR(100) NOT NULL, \n\tis_active BOOLEAN DEFAULT true NOT NULL, \n\tlast_login_at TIMESTAMP WITHOUT TIME ZONE, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_users_username UNIQUE (username), \n\tCONSTRAINT uq_users_email UNIQUE (email), \n\tCONSTRAINT uq_users_azure_object_id UNIQUE (azure_object_id), \n\tUNIQUE (azure_object_id)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,921 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:42.921702+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,935 INFO sqlalchemy.engine.Engine CREATE INDEX idx_users_email ON users (email)
{"timestamp": "2026-01-17T06:24:42.935346+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_users_email ON users (email)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,935 INFO sqlalchemy.engine.Engine [no key 0.00018s] {}
{"timestamp": "2026-01-17T06:24:42.935469+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00018s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,936 INFO sqlalchemy.engine.Engine CREATE INDEX idx_users_username ON users (username)
{"timestamp": "2026-01-17T06:24:42.936057+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_users_username ON users (username)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,936 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:42.936143+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,936 INFO sqlalchemy.engine.Engine CREATE INDEX idx_users_auth_provider ON users (auth_provider)
{"timestamp": "2026-01-17T06:24:42.936723+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_users_auth_provider ON users (auth_provider)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,936 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
{"timestamp": "2026-01-17T06:24:42.936830+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00011s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,937 INFO sqlalchemy.engine.Engine CREATE INDEX idx_users_active ON users (is_active) WHERE is_active = TRUE
{"timestamp": "2026-01-17T06:24:42.937366+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_users_active ON users (is_active) WHERE is_active = TRUE", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,937 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:42.937456+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,938 INFO sqlalchemy.engine.Engine 
CREATE TABLE roles (
	id BIGSERIAL NOT NULL, 
	role_code VARCHAR(50) NOT NULL, 
	role_name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_roles_role_code UNIQUE (role_code)
)


{"timestamp": "2026-01-17T06:24:42.938208+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE roles (\n\tid BIGSERIAL NOT NULL, \n\trole_code VARCHAR(50) NOT NULL, \n\trole_name VARCHAR(100) NOT NULL, \n\tdescription TEXT, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_roles_role_code UNIQUE (role_code)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,938 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
{"timestamp": "2026-01-17T06:24:42.938303+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00011s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,943 INFO sqlalchemy.engine.Engine 
CREATE TABLE cloud_flow_configs (
	id BIGSERIAL NOT NULL, 
	config_key VARCHAR(100) NOT NULL, 
	config_value TEXT NOT NULL, 
	description TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (config_key)
)


{"timestamp": "2026-01-17T06:24:42.943055+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE cloud_flow_configs (\n\tid BIGSERIAL NOT NULL, \n\tconfig_key VARCHAR(100) NOT NULL, \n\tconfig_value TEXT NOT NULL, \n\tdescription TEXT, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tUNIQUE (config_key)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,943 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:42.943144+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,945 INFO sqlalchemy.engine.Engine 
CREATE TABLE forecast_history (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	forecast_date DATE NOT NULL, 
	forecast_quantity NUMERIC NOT NULL, 
	unit VARCHAR, 
	forecast_period VARCHAR(7) NOT NULL, 
	snapshot_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	archived_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id)
)


{"timestamp": "2026-01-17T06:24:42.945188+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE forecast_history (\n\tid BIGSERIAL NOT NULL, \n\tcustomer_id BIGINT NOT NULL, \n\tdelivery_place_id BIGINT NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\tforecast_date DATE NOT NULL, \n\tforecast_quantity NUMERIC NOT NULL, \n\tunit VARCHAR, \n\tforecast_period VARCHAR(7) NOT NULL, \n\tsnapshot_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, \n\tarchived_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,945 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:42.945271+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,947 INFO sqlalchemy.engine.Engine CREATE INDEX ix_forecast_history_key ON forecast_history (customer_id, delivery_place_id, product_id)
{"timestamp": "2026-01-17T06:24:42.947133+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX ix_forecast_history_key ON forecast_history (customer_id, delivery_place_id, product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,947 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.947200+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,947 INFO sqlalchemy.engine.Engine 
CREATE TABLE layer_code_mappings (
	layer_code VARCHAR(50) NOT NULL, 
	maker_name VARCHAR(100) NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (layer_code)
)


{"timestamp": "2026-01-17T06:24:42.947764+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE layer_code_mappings (\n\tlayer_code VARCHAR(50) NOT NULL, \n\tmaker_name VARCHAR(100) NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (layer_code)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,947 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:42.947850+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,948 INFO sqlalchemy.engine.Engine CREATE INDEX idx_layer_code_mappings_maker ON layer_code_mappings (maker_name)
{"timestamp": "2026-01-17T06:24:42.948547+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_layer_code_mappings_maker ON layer_code_mappings (maker_name)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,948 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.948621+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,949 INFO sqlalchemy.engine.Engine 
CREATE TABLE business_rules (
	id BIGSERIAL NOT NULL, 
	rule_code VARCHAR(50) NOT NULL, 
	rule_name VARCHAR(100) NOT NULL, 
	rule_type VARCHAR(50) NOT NULL, 
	rule_parameters JSONB NOT NULL, 
	is_active BOOLEAN DEFAULT true NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_business_rules_type CHECK (rule_type IN ('allocation', 'expiry_warning', 'kanban', 'inventory_sync_alert', 'other')), 
	CONSTRAINT uq_business_rules_rule_code UNIQUE (rule_code), 
	UNIQUE (rule_code)
)


{"timestamp": "2026-01-17T06:24:42.949406+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE business_rules (\n\tid BIGSERIAL NOT NULL, \n\trule_code VARCHAR(50) NOT NULL, \n\trule_name VARCHAR(100) NOT NULL, \n\trule_type VARCHAR(50) NOT NULL, \n\trule_parameters JSONB NOT NULL, \n\tis_active BOOLEAN DEFAULT true NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_business_rules_type CHECK (rule_type IN ('allocation', 'expiry_warning', 'kanban', 'inventory_sync_alert', 'other')), \n\tCONSTRAINT uq_business_rules_rule_code UNIQUE (rule_code), \n\tUNIQUE (rule_code)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,949 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.949483+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,954 INFO sqlalchemy.engine.Engine CREATE INDEX idx_business_rules_active ON business_rules (is_active) WHERE is_active = TRUE
{"timestamp": "2026-01-17T06:24:42.954189+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_business_rules_active ON business_rules (is_active) WHERE is_active = TRUE", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,954 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.954253+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,954 INFO sqlalchemy.engine.Engine CREATE INDEX idx_business_rules_type ON business_rules (rule_type)
{"timestamp": "2026-01-17T06:24:42.954774+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_business_rules_type ON business_rules (rule_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,954 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.954840+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,956 INFO sqlalchemy.engine.Engine 
CREATE TABLE batch_jobs (
	id BIGSERIAL NOT NULL, 
	job_name VARCHAR(100) NOT NULL, 
	job_type VARCHAR(50) NOT NULL, 
	status VARCHAR(20) DEFAULT 'pending' NOT NULL, 
	parameters JSONB, 
	result_message TEXT, 
	started_at TIMESTAMP WITHOUT TIME ZONE, 
	completed_at TIMESTAMP WITHOUT TIME ZONE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_batch_jobs_status CHECK (status IN ('pending', 'running', 'completed', 'failed')), 
	CONSTRAINT chk_batch_jobs_type CHECK (job_type IN ('allocation_suggestion', 'allocation_finalize', 'inventory_sync', 'data_import', 'report_generation'))
)


{"timestamp": "2026-01-17T06:24:42.956664+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE batch_jobs (\n\tid BIGSERIAL NOT NULL, \n\tjob_name VARCHAR(100) NOT NULL, \n\tjob_type VARCHAR(50) NOT NULL, \n\tstatus VARCHAR(20) DEFAULT 'pending' NOT NULL, \n\tparameters JSONB, \n\tresult_message TEXT, \n\tstarted_at TIMESTAMP WITHOUT TIME ZONE, \n\tcompleted_at TIMESTAMP WITHOUT TIME ZONE, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_batch_jobs_status CHECK (status IN ('pending', 'running', 'completed', 'failed')), \n\tCONSTRAINT chk_batch_jobs_type CHECK (job_type IN ('allocation_suggestion', 'allocation_finalize', 'inventory_sync', 'data_import', 'report_generation'))\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,956 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.956737+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,959 INFO sqlalchemy.engine.Engine CREATE INDEX idx_batch_jobs_created ON batch_jobs (created_at)
{"timestamp": "2026-01-17T06:24:42.959354+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_batch_jobs_created ON batch_jobs (created_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,959 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.959427+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,960 INFO sqlalchemy.engine.Engine CREATE INDEX idx_batch_jobs_status ON batch_jobs (status)
{"timestamp": "2026-01-17T06:24:42.960370+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_batch_jobs_status ON batch_jobs (status)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,960 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.960436+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,961 INFO sqlalchemy.engine.Engine CREATE INDEX idx_batch_jobs_type ON batch_jobs (job_type)
{"timestamp": "2026-01-17T06:24:42.961064+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_batch_jobs_type ON batch_jobs (job_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,961 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.961138+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,961 INFO sqlalchemy.engine.Engine 
CREATE TABLE lot_reservation_history (
	id BIGSERIAL NOT NULL, 
	reservation_id BIGINT NOT NULL, 
	operation VARCHAR(10) NOT NULL, 
	lot_id BIGINT, 
	source_type VARCHAR(20), 
	source_id BIGINT, 
	reserved_qty NUMERIC(15, 3), 
	status VARCHAR(20), 
	sap_document_no VARCHAR(20), 
	old_lot_id BIGINT, 
	old_source_type VARCHAR(20), 
	old_source_id BIGINT, 
	old_reserved_qty NUMERIC(15, 3), 
	old_status VARCHAR(20), 
	old_sap_document_no VARCHAR(20), 
	changed_by VARCHAR(100), 
	changed_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	change_reason VARCHAR(255), 
	PRIMARY KEY (id), 
	CONSTRAINT chk_lot_reservation_history_operation CHECK (operation IN ('INSERT', 'UPDATE', 'DELETE'))
)


{"timestamp": "2026-01-17T06:24:42.961879+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE lot_reservation_history (\n\tid BIGSERIAL NOT NULL, \n\treservation_id BIGINT NOT NULL, \n\toperation VARCHAR(10) NOT NULL, \n\tlot_id BIGINT, \n\tsource_type VARCHAR(20), \n\tsource_id BIGINT, \n\treserved_qty NUMERIC(15, 3), \n\tstatus VARCHAR(20), \n\tsap_document_no VARCHAR(20), \n\told_lot_id BIGINT, \n\told_source_type VARCHAR(20), \n\told_source_id BIGINT, \n\told_reserved_qty NUMERIC(15, 3), \n\told_status VARCHAR(20), \n\told_sap_document_no VARCHAR(20), \n\tchanged_by VARCHAR(100), \n\tchanged_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tchange_reason VARCHAR(255), \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_lot_reservation_history_operation CHECK (operation IN ('INSERT', 'UPDATE', 'DELETE'))\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,961 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.961954+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,965 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_reservation_history_lot ON lot_reservation_history (lot_id)
{"timestamp": "2026-01-17T06:24:42.965859+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_reservation_history_lot ON lot_reservation_history (lot_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,965 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.965929+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,966 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_reservation_history_reservation ON lot_reservation_history (reservation_id)
{"timestamp": "2026-01-17T06:24:42.966523+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_reservation_history_reservation ON lot_reservation_history (reservation_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,966 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:42.966607+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,966 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_reservation_history_changed_at ON lot_reservation_history (changed_at)
{"timestamp": "2026-01-17T06:24:42.967012+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_reservation_history_changed_at ON lot_reservation_history (changed_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,967 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.967077+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,967 INFO sqlalchemy.engine.Engine 
CREATE TABLE warehouses (
	id BIGSERIAL NOT NULL, 
	warehouse_code VARCHAR(50) NOT NULL, 
	warehouse_name VARCHAR(200) NOT NULL, 
	warehouse_type VARCHAR(20) NOT NULL, 
	default_transport_lead_time_days INTEGER, 
	short_name VARCHAR(50), 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_warehouses_warehouse_code UNIQUE (warehouse_code), 
	CONSTRAINT chk_warehouse_type CHECK (warehouse_type IN ('internal', 'external', 'supplier'))
)


{"timestamp": "2026-01-17T06:24:42.967669+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE warehouses (\n\tid BIGSERIAL NOT NULL, \n\twarehouse_code VARCHAR(50) NOT NULL, \n\twarehouse_name VARCHAR(200) NOT NULL, \n\twarehouse_type VARCHAR(20) NOT NULL, \n\tdefault_transport_lead_time_days INTEGER, \n\tshort_name VARCHAR(50), \n\tvalid_to DATE DEFAULT '9999-12-31' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_warehouses_warehouse_code UNIQUE (warehouse_code), \n\tCONSTRAINT chk_warehouse_type CHECK (warehouse_type IN ('internal', 'external', 'supplier'))\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,967 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:42.967761+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,969 INFO sqlalchemy.engine.Engine CREATE INDEX idx_warehouses_valid_to ON warehouses (valid_to)
{"timestamp": "2026-01-17T06:24:42.969132+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_warehouses_valid_to ON warehouses (valid_to)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,969 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.969206+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,969 INFO sqlalchemy.engine.Engine CREATE INDEX idx_warehouses_type ON warehouses (warehouse_type)
{"timestamp": "2026-01-17T06:24:42.969780+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_warehouses_type ON warehouses (warehouse_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,969 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.969850+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,970 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN warehouses.default_transport_lead_time_days IS ''
{"timestamp": "2026-01-17T06:24:42.970279+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN warehouses.default_transport_lead_time_days IS '\u30c7\u30d5\u30a9\u30eb\u30c8\u8f38\u9001\u30ea\u30fc\u30c9\u30bf\u30a4\u30e0\uff08\u65e5\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,970 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:42.970367+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,970 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN warehouses.short_name IS 'UI'
{"timestamp": "2026-01-17T06:24:42.970893+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN warehouses.short_name IS '\u77ed\u7e2e\u8868\u793a\u540d\uff08UI\u7701\u30b9\u30da\u30fc\u30b9\u7528\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,971 INFO sqlalchemy.engine.Engine [no key 0.00029s] {}
{"timestamp": "2026-01-17T06:24:42.971183+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00029s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,971 INFO sqlalchemy.engine.Engine 
CREATE TABLE suppliers (
	id BIGSERIAL NOT NULL, 
	supplier_code VARCHAR(50) NOT NULL, 
	supplier_name VARCHAR(200) NOT NULL, 
	short_name VARCHAR(50), 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_suppliers_supplier_code UNIQUE (supplier_code)
)


{"timestamp": "2026-01-17T06:24:42.971566+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE suppliers (\n\tid BIGSERIAL NOT NULL, \n\tsupplier_code VARCHAR(50) NOT NULL, \n\tsupplier_name VARCHAR(200) NOT NULL, \n\tshort_name VARCHAR(50), \n\tvalid_to DATE DEFAULT '9999-12-31' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_suppliers_supplier_code UNIQUE (supplier_code)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,971 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.971639+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,972 INFO sqlalchemy.engine.Engine CREATE INDEX idx_suppliers_valid_to ON suppliers (valid_to)
{"timestamp": "2026-01-17T06:24:42.972852+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_suppliers_valid_to ON suppliers (valid_to)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,972 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.972921+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,973 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN suppliers.short_name IS 'UI'
{"timestamp": "2026-01-17T06:24:42.973411+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN suppliers.short_name IS '\u77ed\u7e2e\u8868\u793a\u540d\uff08UI\u7701\u30b9\u30da\u30fc\u30b9\u7528\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,973 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.973481+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,973 INFO sqlalchemy.engine.Engine 
CREATE TABLE customers (
	id BIGSERIAL NOT NULL, 
	customer_code VARCHAR(50) NOT NULL, 
	customer_name VARCHAR(200) NOT NULL, 
	address VARCHAR(500), 
	contact_name VARCHAR(100), 
	phone VARCHAR(50), 
	email VARCHAR(200), 
	short_name VARCHAR(50), 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_customers_customer_code UNIQUE (customer_code)
)


{"timestamp": "2026-01-17T06:24:42.973867+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE customers (\n\tid BIGSERIAL NOT NULL, \n\tcustomer_code VARCHAR(50) NOT NULL, \n\tcustomer_name VARCHAR(200) NOT NULL, \n\taddress VARCHAR(500), \n\tcontact_name VARCHAR(100), \n\tphone VARCHAR(50), \n\temail VARCHAR(200), \n\tshort_name VARCHAR(50), \n\tvalid_to DATE DEFAULT '9999-12-31' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_customers_customer_code UNIQUE (customer_code)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,973 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:42.973946+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,978 INFO sqlalchemy.engine.Engine CREATE INDEX idx_customers_valid_to ON customers (valid_to)
{"timestamp": "2026-01-17T06:24:42.979016+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_customers_valid_to ON customers (valid_to)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,979 INFO sqlalchemy.engine.Engine [no key 0.00015s] {}
{"timestamp": "2026-01-17T06:24:42.979120+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00015s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,979 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customers.short_name IS 'UI'
{"timestamp": "2026-01-17T06:24:42.979750+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customers.short_name IS '\u77ed\u7e2e\u8868\u793a\u540d\uff08UI\u7701\u30b9\u30da\u30fc\u30b9\u7528\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,979 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.979826+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,980 INFO sqlalchemy.engine.Engine 
CREATE TABLE products (
	id BIGSERIAL NOT NULL, 
	maker_part_code VARCHAR(100) NOT NULL, 
	product_name VARCHAR(200) NOT NULL, 
	base_unit VARCHAR(20) NOT NULL, 
	consumption_limit_days INTEGER, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	internal_unit VARCHAR(20) DEFAULT 'CAN' NOT NULL, 
	external_unit VARCHAR(20) DEFAULT 'KG' NOT NULL, 
	qty_per_internal_unit NUMERIC(10, 4) DEFAULT '1.0' NOT NULL, 
	customer_part_no VARCHAR(100), 
	maker_item_code VARCHAR(100), 
	PRIMARY KEY (id), 
	CONSTRAINT uq_products_maker_part_code UNIQUE (maker_part_code)
)


{"timestamp": "2026-01-17T06:24:42.980308+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE products (\n\tid BIGSERIAL NOT NULL, \n\tmaker_part_code VARCHAR(100) NOT NULL, \n\tproduct_name VARCHAR(200) NOT NULL, \n\tbase_unit VARCHAR(20) NOT NULL, \n\tconsumption_limit_days INTEGER, \n\tvalid_to DATE DEFAULT '9999-12-31' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tinternal_unit VARCHAR(20) DEFAULT 'CAN' NOT NULL, \n\texternal_unit VARCHAR(20) DEFAULT 'KG' NOT NULL, \n\tqty_per_internal_unit NUMERIC(10, 4) DEFAULT '1.0' NOT NULL, \n\tcustomer_part_no VARCHAR(100), \n\tmaker_item_code VARCHAR(100), \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_products_maker_part_code UNIQUE (maker_part_code)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,980 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:42.980391+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,982 INFO sqlalchemy.engine.Engine CREATE INDEX idx_products_valid_to ON products (valid_to)
{"timestamp": "2026-01-17T06:24:42.982145+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_products_valid_to ON products (valid_to)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,982 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.982213+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,982 INFO sqlalchemy.engine.Engine CREATE INDEX idx_products_name ON products (product_name)
{"timestamp": "2026-01-17T06:24:42.982646+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_products_name ON products (product_name)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,982 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.982714+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,983 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN products.customer_part_no IS ''
{"timestamp": "2026-01-17T06:24:42.983144+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN products.customer_part_no IS '\u5148\u65b9\u54c1\u756a\uff08\u5f97\u610f\u5148\u306e\u54c1\u756a\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,983 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.983210+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,983 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN products.maker_item_code IS ''
{"timestamp": "2026-01-17T06:24:42.983495+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN products.maker_item_code IS '\u30e1\u30fc\u30ab\u30fc\u54c1\u756a\uff08\u4ed5\u5165\u5148\u306e\u54c1\u756a\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,983 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.983566+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,983 INFO sqlalchemy.engine.Engine 
CREATE TABLE seed_snapshots (
	id SERIAL NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	created_at TIMESTAMP WITH TIME ZONE NOT NULL, 
	params_json JSONB NOT NULL, 
	profile_json JSONB, 
	csv_dir TEXT, 
	summary_json JSONB, 
	PRIMARY KEY (id)
)


{"timestamp": "2026-01-17T06:24:42.983941+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE seed_snapshots (\n\tid SERIAL NOT NULL, \n\tname VARCHAR(255) NOT NULL, \n\tcreated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tparams_json JSONB NOT NULL, \n\tprofile_json JSONB, \n\tcsv_dir TEXT, \n\tsummary_json JSONB, \n\tPRIMARY KEY (id)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,984 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.984017+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,988 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN seed_snapshots.name IS ''
{"timestamp": "2026-01-17T06:24:42.988408+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN seed_snapshots.name IS '\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u540d'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,988 INFO sqlalchemy.engine.Engine [no key 0.00017s] {}
{"timestamp": "2026-01-17T06:24:42.988522+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00017s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,988 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN seed_snapshots.created_at IS ''
{"timestamp": "2026-01-17T06:24:42.988867+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN seed_snapshots.created_at IS '\u4f5c\u6210\u65e5\u6642'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,988 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.988936+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,989 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN seed_snapshots.params_json IS 'profile'
{"timestamp": "2026-01-17T06:24:42.989190+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN seed_snapshots.params_json IS '\u5c55\u958b\u5f8c\u306e\u6700\u7d42\u30d1\u30e9\u30e1\u30fc\u30bf\uff08profile\u89e3\u6c7a\u5f8c\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,989 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.989255+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,989 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN seed_snapshots.profile_json IS ''
{"timestamp": "2026-01-17T06:24:42.989524+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN seed_snapshots.profile_json IS '\u4f7f\u7528\u3057\u305f\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u8a2d\u5b9a'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,989 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.989599+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,989 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN seed_snapshots.csv_dir IS 'CSV'
{"timestamp": "2026-01-17T06:24:42.989842+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN seed_snapshots.csv_dir IS 'CSV\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,989 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:42.989910+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,990 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN seed_snapshots.summary_json IS ''
{"timestamp": "2026-01-17T06:24:42.990178+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN seed_snapshots.summary_json IS '\u751f\u6210\u7d50\u679c\u306e\u30b5\u30de\u30ea\uff08\u4ef6\u6570\u3001\u691c\u8a3c\u7d50\u679c\u306a\u3069\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,990 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.990252+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,990 INFO sqlalchemy.engine.Engine 
CREATE TABLE smartread_configs (
	id BIGSERIAL NOT NULL, 
	endpoint TEXT NOT NULL, 
	api_key TEXT NOT NULL, 
	template_ids TEXT, 
	export_type VARCHAR(20) NOT NULL, 
	aggregation_type VARCHAR(50), 
	watch_dir TEXT, 
	export_dir TEXT, 
	input_exts VARCHAR(100), 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id)
)


{"timestamp": "2026-01-17T06:24:42.990748+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE smartread_configs (\n\tid BIGSERIAL NOT NULL, \n\tendpoint TEXT NOT NULL, \n\tapi_key TEXT NOT NULL, \n\ttemplate_ids TEXT, \n\texport_type VARCHAR(20) NOT NULL, \n\taggregation_type VARCHAR(50), \n\twatch_dir TEXT, \n\texport_dir TEXT, \n\tinput_exts VARCHAR(100), \n\tname VARCHAR(100) NOT NULL, \n\tdescription TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,990 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.990824+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,997 INFO sqlalchemy.engine.Engine 
CREATE TABLE system_configs (
	id BIGSERIAL NOT NULL, 
	config_key VARCHAR(100) NOT NULL, 
	config_value TEXT NOT NULL, 
	description TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_system_configs_key UNIQUE (config_key)
)


{"timestamp": "2026-01-17T06:24:42.997314+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE system_configs (\n\tid BIGSERIAL NOT NULL, \n\tconfig_key VARCHAR(100) NOT NULL, \n\tconfig_value TEXT NOT NULL, \n\tdescription TEXT, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_system_configs_key UNIQUE (config_key)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,997 INFO sqlalchemy.engine.Engine [no key 0.00013s] {}
{"timestamp": "2026-01-17T06:24:42.997421+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00013s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,999 INFO sqlalchemy.engine.Engine CREATE INDEX idx_system_configs_key ON system_configs (config_key)
{"timestamp": "2026-01-17T06:24:42.999184+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_system_configs_key ON system_configs (config_key)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:42,999 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:42.999256+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,000 INFO sqlalchemy.engine.Engine 
CREATE TABLE user_supplier_assignments (
	id BIGSERIAL NOT NULL, 
	user_id BIGINT NOT NULL, 
	supplier_id BIGINT NOT NULL, 
	is_primary BOOLEAN DEFAULT FALSE NOT NULL, 
	assigned_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_user_supplier_assignments_user_supplier UNIQUE (user_id, supplier_id), 
	FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.000169+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE user_supplier_assignments (\n\tid BIGSERIAL NOT NULL, \n\tuser_id BIGINT NOT NULL, \n\tsupplier_id BIGINT NOT NULL, \n\tis_primary BOOLEAN DEFAULT FALSE NOT NULL, \n\tassigned_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_user_supplier_assignments_user_supplier UNIQUE (user_id, supplier_id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,000 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:43.000258+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,002 INFO sqlalchemy.engine.Engine CREATE INDEX idx_user_supplier_assignments_user ON user_supplier_assignments (user_id)
{"timestamp": "2026-01-17T06:24:43.002323+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_user_supplier_assignments_user ON user_supplier_assignments (user_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,002 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.002392+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,005 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX uq_user_supplier_primary_per_supplier ON user_supplier_assignments (supplier_id) WHERE is_primary = TRUE
{"timestamp": "2026-01-17T06:24:43.005358+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE UNIQUE INDEX uq_user_supplier_primary_per_supplier ON user_supplier_assignments (supplier_id) WHERE is_primary = TRUE", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,005 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.005428+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,005 INFO sqlalchemy.engine.Engine CREATE INDEX idx_user_supplier_assignments_supplier ON user_supplier_assignments (supplier_id)
{"timestamp": "2026-01-17T06:24:43.005920+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_user_supplier_assignments_supplier ON user_supplier_assignments (supplier_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,005 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.005993+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,006 INFO sqlalchemy.engine.Engine CREATE INDEX idx_user_supplier_assignments_primary ON user_supplier_assignments (is_primary) WHERE is_primary = TRUE
{"timestamp": "2026-01-17T06:24:43.006420+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_user_supplier_assignments_primary ON user_supplier_assignments (is_primary) WHERE is_primary = TRUE", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,006 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.006489+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,007 INFO sqlalchemy.engine.Engine 
CREATE TABLE user_roles (
	user_id BIGINT NOT NULL, 
	role_id BIGINT NOT NULL, 
	assigned_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (user_id, role_id), 
	FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, 
	FOREIGN KEY(role_id) REFERENCES roles (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.007027+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE user_roles (\n\tuser_id BIGINT NOT NULL, \n\trole_id BIGINT NOT NULL, \n\tassigned_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (user_id, role_id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(role_id) REFERENCES roles (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,007 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.007097+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,011 INFO sqlalchemy.engine.Engine CREATE INDEX idx_user_roles_user ON user_roles (user_id)
{"timestamp": "2026-01-17T06:24:43.011224+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_user_roles_user ON user_roles (user_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,011 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.011297+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,011 INFO sqlalchemy.engine.Engine CREATE INDEX idx_user_roles_role ON user_roles (role_id)
{"timestamp": "2026-01-17T06:24:43.011728+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_user_roles_role ON user_roles (role_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,011 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.011799+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,012 INFO sqlalchemy.engine.Engine 
CREATE TABLE cloud_flow_jobs (
	id BIGSERIAL NOT NULL, 
	job_type VARCHAR(50) NOT NULL, 
	status VARCHAR(30) DEFAULT 'pending' NOT NULL, 
	start_date DATE NOT NULL, 
	end_date DATE NOT NULL, 
	requested_by_user_id BIGINT, 
	requested_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	started_at TIMESTAMP WITHOUT TIME ZONE, 
	completed_at TIMESTAMP WITHOUT TIME ZONE, 
	result_message TEXT, 
	error_message TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(requested_by_user_id) REFERENCES users (id) ON DELETE SET NULL
)


{"timestamp": "2026-01-17T06:24:43.012504+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE cloud_flow_jobs (\n\tid BIGSERIAL NOT NULL, \n\tjob_type VARCHAR(50) NOT NULL, \n\tstatus VARCHAR(30) DEFAULT 'pending' NOT NULL, \n\tstart_date DATE NOT NULL, \n\tend_date DATE NOT NULL, \n\trequested_by_user_id BIGINT, \n\trequested_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tstarted_at TIMESTAMP WITHOUT TIME ZONE, \n\tcompleted_at TIMESTAMP WITHOUT TIME ZONE, \n\tresult_message TEXT, \n\terror_message TEXT, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(requested_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,012 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.012580+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,014 INFO sqlalchemy.engine.Engine CREATE INDEX idx_cloud_flow_jobs_status ON cloud_flow_jobs (status)
{"timestamp": "2026-01-17T06:24:43.014210+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_cloud_flow_jobs_status ON cloud_flow_jobs (status)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,014 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.014279+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,014 INFO sqlalchemy.engine.Engine CREATE INDEX idx_cloud_flow_jobs_type ON cloud_flow_jobs (job_type)
{"timestamp": "2026-01-17T06:24:43.014720+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_cloud_flow_jobs_type ON cloud_flow_jobs (job_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,014 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.014788+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,015 INFO sqlalchemy.engine.Engine CREATE INDEX idx_cloud_flow_jobs_requested_at ON cloud_flow_jobs (requested_at)
{"timestamp": "2026-01-17T06:24:43.015192+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_cloud_flow_jobs_requested_at ON cloud_flow_jobs (requested_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,015 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.015267+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,015 INFO sqlalchemy.engine.Engine 
CREATE TABLE inbound_plans (
	id BIGSERIAL NOT NULL, 
	plan_number VARCHAR(50) NOT NULL, 
	sap_po_number VARCHAR(20), 
	supplier_id BIGINT NOT NULL, 
	planned_arrival_date DATE NOT NULL, 
	status VARCHAR(20) DEFAULT 'planned' NOT NULL, 
	notes TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_inbound_plans_plan_number UNIQUE (plan_number), 
	CONSTRAINT uq_inbound_plans_sap_po_number UNIQUE (sap_po_number), 
	CONSTRAINT chk_inbound_plans_status CHECK (status IN ('planned','partially_received','received','cancelled')), 
	UNIQUE (sap_po_number), 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.015917+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE inbound_plans (\n\tid BIGSERIAL NOT NULL, \n\tplan_number VARCHAR(50) NOT NULL, \n\tsap_po_number VARCHAR(20), \n\tsupplier_id BIGINT NOT NULL, \n\tplanned_arrival_date DATE NOT NULL, \n\tstatus VARCHAR(20) DEFAULT 'planned' NOT NULL, \n\tnotes TEXT, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_inbound_plans_plan_number UNIQUE (plan_number), \n\tCONSTRAINT uq_inbound_plans_sap_po_number UNIQUE (sap_po_number), \n\tCONSTRAINT chk_inbound_plans_status CHECK (status IN ('planned','partially_received','received','cancelled')), \n\tUNIQUE (sap_po_number), \n\tFOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,015 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.015999+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,018 INFO sqlalchemy.engine.Engine CREATE INDEX idx_inbound_plans_date ON inbound_plans (planned_arrival_date)
{"timestamp": "2026-01-17T06:24:43.018212+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_inbound_plans_date ON inbound_plans (planned_arrival_date)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,018 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.018288+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,018 INFO sqlalchemy.engine.Engine CREATE INDEX idx_inbound_plans_supplier ON inbound_plans (supplier_id)
{"timestamp": "2026-01-17T06:24:43.018731+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_inbound_plans_supplier ON inbound_plans (supplier_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,018 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.018800+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,019 INFO sqlalchemy.engine.Engine CREATE INDEX idx_inbound_plans_status ON inbound_plans (status)
{"timestamp": "2026-01-17T06:24:43.019210+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_inbound_plans_status ON inbound_plans (status)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,019 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.019278+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,019 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN inbound_plans.sap_po_number IS 'SAP'
{"timestamp": "2026-01-17T06:24:43.019682+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN inbound_plans.sap_po_number IS 'SAP\u8cfc\u8cb7\u767a\u6ce8\u756a\u53f7\uff08\u696d\u52d9\u30ad\u30fc\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,019 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.019758+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,020 INFO sqlalchemy.engine.Engine 
CREATE TABLE operation_logs (
	id BIGSERIAL NOT NULL, 
	user_id BIGINT, 
	operation_type VARCHAR(50) NOT NULL, 
	target_table VARCHAR(50) NOT NULL, 
	target_id BIGINT, 
	changes JSONB, 
	ip_address VARCHAR(50), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_operation_logs_type CHECK (operation_type IN ('create', 'update', 'delete', 'login', 'logout', 'export')), 
	FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL
)


{"timestamp": "2026-01-17T06:24:43.020236+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE operation_logs (\n\tid BIGSERIAL NOT NULL, \n\tuser_id BIGINT, \n\toperation_type VARCHAR(50) NOT NULL, \n\ttarget_table VARCHAR(50) NOT NULL, \n\ttarget_id BIGINT, \n\tchanges JSONB, \n\tip_address VARCHAR(50), \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_operation_logs_type CHECK (operation_type IN ('create', 'update', 'delete', 'login', 'logout', 'export')), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,020 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.020312+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,024 INFO sqlalchemy.engine.Engine CREATE INDEX idx_operation_logs_created ON operation_logs (created_at)
{"timestamp": "2026-01-17T06:24:43.024500+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_operation_logs_created ON operation_logs (created_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,024 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.024575+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,024 INFO sqlalchemy.engine.Engine CREATE INDEX idx_operation_logs_type ON operation_logs (operation_type)
{"timestamp": "2026-01-17T06:24:43.024995+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_operation_logs_type ON operation_logs (operation_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,025 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.025069+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,025 INFO sqlalchemy.engine.Engine CREATE INDEX idx_operation_logs_user ON operation_logs (user_id)
{"timestamp": "2026-01-17T06:24:43.025592+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_operation_logs_user ON operation_logs (user_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,025 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.025662+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,026 INFO sqlalchemy.engine.Engine CREATE INDEX idx_operation_logs_table ON operation_logs (target_table)
{"timestamp": "2026-01-17T06:24:43.026107+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_operation_logs_table ON operation_logs (target_table)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,026 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.026177+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,026 INFO sqlalchemy.engine.Engine 
CREATE TABLE master_change_logs (
	id BIGSERIAL NOT NULL, 
	table_name VARCHAR(50) NOT NULL, 
	record_id BIGINT NOT NULL, 
	change_type VARCHAR(20) NOT NULL, 
	old_values JSONB, 
	new_values JSONB, 
	changed_by BIGINT NOT NULL, 
	changed_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_master_change_logs_type CHECK (change_type IN ('insert', 'update', 'delete')), 
	FOREIGN KEY(changed_by) REFERENCES users (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.026746+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE master_change_logs (\n\tid BIGSERIAL NOT NULL, \n\ttable_name VARCHAR(50) NOT NULL, \n\trecord_id BIGINT NOT NULL, \n\tchange_type VARCHAR(20) NOT NULL, \n\told_values JSONB, \n\tnew_values JSONB, \n\tchanged_by BIGINT NOT NULL, \n\tchanged_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_master_change_logs_type CHECK (change_type IN ('insert', 'update', 'delete')), \n\tFOREIGN KEY(changed_by) REFERENCES users (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,026 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.026823+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,030 INFO sqlalchemy.engine.Engine CREATE INDEX idx_master_change_logs_user ON master_change_logs (changed_by)
{"timestamp": "2026-01-17T06:24:43.030862+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_master_change_logs_user ON master_change_logs (changed_by)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,030 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.030943+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,031 INFO sqlalchemy.engine.Engine CREATE INDEX idx_master_change_logs_table ON master_change_logs (table_name)
{"timestamp": "2026-01-17T06:24:43.031386+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_master_change_logs_table ON master_change_logs (table_name)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,031 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.031455+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,031 INFO sqlalchemy.engine.Engine CREATE INDEX idx_master_change_logs_record ON master_change_logs (record_id)
{"timestamp": "2026-01-17T06:24:43.031912+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_master_change_logs_record ON master_change_logs (record_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,031 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.031980+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,032 INFO sqlalchemy.engine.Engine CREATE INDEX idx_master_change_logs_changed ON master_change_logs (changed_at)
{"timestamp": "2026-01-17T06:24:43.032394+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_master_change_logs_changed ON master_change_logs (changed_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,032 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.032463+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,033 INFO sqlalchemy.engine.Engine 
CREATE TABLE lot_master (
	id BIGSERIAL NOT NULL, 
	lot_number VARCHAR(100) NOT NULL, 
	product_id BIGINT NOT NULL, 
	supplier_id BIGINT, 
	total_quantity NUMERIC(15, 3) DEFAULT 0 NOT NULL, 
	first_receipt_date DATE, 
	latest_expiry_date DATE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_lot_master_number_product UNIQUE (lot_number, product_id), 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL
)


{"timestamp": "2026-01-17T06:24:43.033254+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE lot_master (\n\tid BIGSERIAL NOT NULL, \n\tlot_number VARCHAR(100) NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\tsupplier_id BIGINT, \n\ttotal_quantity NUMERIC(15, 3) DEFAULT 0 NOT NULL, \n\tfirst_receipt_date DATE, \n\tlatest_expiry_date DATE, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_lot_master_number_product UNIQUE (lot_number, product_id), \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,033 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.033333+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,035 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_master_supplier ON lot_master (supplier_id)
{"timestamp": "2026-01-17T06:24:43.035521+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_master_supplier ON lot_master (supplier_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,035 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.035590+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,035 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_master_product ON lot_master (product_id)
{"timestamp": "2026-01-17T06:24:43.035997+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_master_product ON lot_master (product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,036 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.036062+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,036 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_master_lot_number ON lot_master (lot_number)
{"timestamp": "2026-01-17T06:24:43.036478+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_master_lot_number ON lot_master (lot_number)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,036 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.036545+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,036 INFO sqlalchemy.engine.Engine COMMENT ON TABLE lot_master IS ' - '
{"timestamp": "2026-01-17T06:24:43.036970+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON TABLE lot_master IS '\u30ed\u30c3\u30c8\u756a\u53f7\u540d\u5bc4\u305b\u30de\u30b9\u30bf - \u540c\u4e00\u30ed\u30c3\u30c8\u756a\u53f7\u306e\u8907\u6570\u5165\u8377\u3092\u8a31\u53ef'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,037 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.037039+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,037 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_master.lot_number IS ''
{"timestamp": "2026-01-17T06:24:43.037324+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_master.lot_number IS '\u30ed\u30c3\u30c8\u756a\u53f7\uff08\u4ed5\u5165\u5148\u767a\u756a\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,037 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.037390+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,037 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_master.total_quantity IS ''
{"timestamp": "2026-01-17T06:24:43.037654+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_master.total_quantity IS '\u5408\u8a08\u5165\u8377\u6570\u91cf\uff08\u53d7\u3051\u5165\u308c\u6642\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,037 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.037717+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,037 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_master.first_receipt_date IS ''
{"timestamp": "2026-01-17T06:24:43.037976+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_master.first_receipt_date IS '\u521d\u56de\u5165\u8377\u65e5\uff08\u81ea\u52d5\u66f4\u65b0\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,038 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.038041+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,038 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_master.latest_expiry_date IS 'receipt'
{"timestamp": "2026-01-17T06:24:43.038307+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_master.latest_expiry_date IS '\u5098\u4e0breceipt\u306e\u6700\u9577\u6709\u52b9\u671f\u9650\uff08\u8868\u793a\u7528\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,038 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.038372+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,038 INFO sqlalchemy.engine.Engine 
CREATE TABLE delivery_places (
	id BIGSERIAL NOT NULL, 
	jiku_code VARCHAR(50) DEFAULT '' NOT NULL, 
	delivery_place_code VARCHAR(50) NOT NULL, 
	delivery_place_name VARCHAR(200) NOT NULL, 
	customer_id BIGINT NOT NULL, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_delivery_places_code UNIQUE (delivery_place_code), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.038751+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE delivery_places (\n\tid BIGSERIAL NOT NULL, \n\tjiku_code VARCHAR(50) DEFAULT '' NOT NULL, \n\tdelivery_place_code VARCHAR(50) NOT NULL, \n\tdelivery_place_name VARCHAR(200) NOT NULL, \n\tcustomer_id BIGINT NOT NULL, \n\tvalid_to DATE DEFAULT '9999-12-31' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_delivery_places_code UNIQUE (delivery_place_code), \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,038 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.038821+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,046 INFO sqlalchemy.engine.Engine CREATE INDEX idx_delivery_places_valid_to ON delivery_places (valid_to)
{"timestamp": "2026-01-17T06:24:43.046168+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_delivery_places_valid_to ON delivery_places (valid_to)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,046 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.046234+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,046 INFO sqlalchemy.engine.Engine CREATE INDEX idx_delivery_places_customer ON delivery_places (customer_id)
{"timestamp": "2026-01-17T06:24:43.046678+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_delivery_places_customer ON delivery_places (customer_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,046 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.046753+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,047 INFO sqlalchemy.engine.Engine 
CREATE TABLE customer_items (
	customer_id BIGINT NOT NULL, 
	external_product_code VARCHAR(100) NOT NULL, 
	product_id BIGINT NOT NULL, 
	supplier_id BIGINT, 
	base_unit VARCHAR(20) NOT NULL, 
	pack_unit VARCHAR(20), 
	pack_quantity INTEGER, 
	special_instructions TEXT, 
	shipping_document_template TEXT, 
	sap_notes TEXT, 
	maker_part_no VARCHAR(100), 
	order_category VARCHAR(50), 
	is_procurement_required BOOLEAN DEFAULT true NOT NULL, 
	shipping_slip_text TEXT, 
	ocr_conversion_notes TEXT, 
	sap_supplier_code VARCHAR(50), 
	sap_warehouse_code VARCHAR(50), 
	sap_shipping_warehouse VARCHAR(50), 
	sap_uom VARCHAR(20), 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (customer_id, external_product_code), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL
)


{"timestamp": "2026-01-17T06:24:43.047388+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE customer_items (\n\tcustomer_id BIGINT NOT NULL, \n\texternal_product_code VARCHAR(100) NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\tsupplier_id BIGINT, \n\tbase_unit VARCHAR(20) NOT NULL, \n\tpack_unit VARCHAR(20), \n\tpack_quantity INTEGER, \n\tspecial_instructions TEXT, \n\tshipping_document_template TEXT, \n\tsap_notes TEXT, \n\tmaker_part_no VARCHAR(100), \n\torder_category VARCHAR(50), \n\tis_procurement_required BOOLEAN DEFAULT true NOT NULL, \n\tshipping_slip_text TEXT, \n\tocr_conversion_notes TEXT, \n\tsap_supplier_code VARCHAR(50), \n\tsap_warehouse_code VARCHAR(50), \n\tsap_shipping_warehouse VARCHAR(50), \n\tsap_uom VARCHAR(20), \n\tvalid_to DATE DEFAULT '9999-12-31' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (customer_id, external_product_code), \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,047 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.047469+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,049 INFO sqlalchemy.engine.Engine CREATE INDEX idx_customer_items_supplier ON customer_items (supplier_id)
{"timestamp": "2026-01-17T06:24:43.049308+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_customer_items_supplier ON customer_items (supplier_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,049 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
{"timestamp": "2026-01-17T06:24:43.049409+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00011s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,049 INFO sqlalchemy.engine.Engine CREATE INDEX idx_customer_items_product ON customer_items (product_id)
{"timestamp": "2026-01-17T06:24:43.049928+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_customer_items_product ON customer_items (product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,049 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.049992+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,050 INFO sqlalchemy.engine.Engine CREATE INDEX idx_customer_items_valid_to ON customer_items (valid_to)
{"timestamp": "2026-01-17T06:24:43.050473+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_customer_items_valid_to ON customer_items (valid_to)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,050 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.050536+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,050 INFO sqlalchemy.engine.Engine CREATE INDEX idx_customer_items_order_category ON customer_items (order_category)
{"timestamp": "2026-01-17T06:24:43.050938+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_customer_items_order_category ON customer_items (order_category)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,050 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.051002+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,051 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_items.maker_part_no IS ''
{"timestamp": "2026-01-17T06:24:43.051438+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_items.maker_part_no IS '\u30e1\u30fc\u30ab\u30fc\u54c1\u756a'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,051 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.051498+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,051 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_items.order_category IS '/'
{"timestamp": "2026-01-17T06:24:43.051764+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_items.order_category IS '\u767a\u6ce8\u533a\u5206\uff08\u6307\u793a/\u304b\u3093\u3070\u3093\u7b49\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,051 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.051826+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,052 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_items.is_procurement_required IS ''
{"timestamp": "2026-01-17T06:24:43.052085+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_items.is_procurement_required IS '\u767a\u6ce8\u306e\u6709\u7121'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,052 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.052145+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,052 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_items.shipping_slip_text IS ''
{"timestamp": "2026-01-17T06:24:43.052409+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_items.shipping_slip_text IS '\u51fa\u8377\u7968\u30c6\u30ad\u30b9\u30c8'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,052 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.052472+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,052 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_items.ocr_conversion_notes IS 'OCR'
{"timestamp": "2026-01-17T06:24:43.052749+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_items.ocr_conversion_notes IS 'OCR\u5909\u63db\u7528\u5099\u8003'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,052 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.052811+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,053 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_items.sap_supplier_code IS 'SAP'
{"timestamp": "2026-01-17T06:24:43.053084+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_items.sap_supplier_code IS 'SAP\u4ed5\u5165\u5148\u30b3\u30fc\u30c9\uff08\u30ad\u30e3\u30c3\u30b7\u30e5\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,053 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.053144+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,053 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_items.sap_warehouse_code IS 'SAP'
{"timestamp": "2026-01-17T06:24:43.053508+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_items.sap_warehouse_code IS 'SAP\u5009\u5eab\u30b3\u30fc\u30c9\uff08\u30ad\u30e3\u30c3\u30b7\u30e5\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,053 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.053574+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,053 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_items.sap_shipping_warehouse IS 'SAP'
{"timestamp": "2026-01-17T06:24:43.053834+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_items.sap_shipping_warehouse IS 'SAP\u51fa\u8377\u5009\u5eab\uff08\u30ad\u30e3\u30c3\u30b7\u30e5\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,053 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.053902+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,054 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_items.sap_uom IS 'SAP'
{"timestamp": "2026-01-17T06:24:43.054181+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_items.sap_uom IS 'SAP\u5358\u4f4d\uff08\u30ad\u30e3\u30c3\u30b7\u30e5\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,054 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.054241+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,054 INFO sqlalchemy.engine.Engine 
CREATE TABLE product_mappings (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	customer_part_code VARCHAR(100) NOT NULL, 
	supplier_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	base_unit VARCHAR(20) NOT NULL, 
	pack_unit VARCHAR(20), 
	pack_quantity INTEGER, 
	special_instructions TEXT, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_product_mappings_cust_part_supp UNIQUE (customer_id, customer_part_code, supplier_id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE CASCADE, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.054736+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE product_mappings (\n\tid BIGSERIAL NOT NULL, \n\tcustomer_id BIGINT NOT NULL, \n\tcustomer_part_code VARCHAR(100) NOT NULL, \n\tsupplier_id BIGINT NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\tbase_unit VARCHAR(20) NOT NULL, \n\tpack_unit VARCHAR(20), \n\tpack_quantity INTEGER, \n\tspecial_instructions TEXT, \n\tvalid_to DATE DEFAULT '9999-12-31' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_product_mappings_cust_part_supp UNIQUE (customer_id, customer_part_code, supplier_id), \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,054 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.054806+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,060 INFO sqlalchemy.engine.Engine CREATE INDEX idx_product_mappings_product ON product_mappings (product_id)
{"timestamp": "2026-01-17T06:24:43.060456+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_product_mappings_product ON product_mappings (product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,060 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.060521+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,061 INFO sqlalchemy.engine.Engine CREATE INDEX idx_product_mappings_valid_to ON product_mappings (valid_to)
{"timestamp": "2026-01-17T06:24:43.061111+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_product_mappings_valid_to ON product_mappings (valid_to)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,061 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.061171+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,061 INFO sqlalchemy.engine.Engine CREATE INDEX idx_product_mappings_supplier ON product_mappings (supplier_id)
{"timestamp": "2026-01-17T06:24:43.061708+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_product_mappings_supplier ON product_mappings (supplier_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,061 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.061763+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,062 INFO sqlalchemy.engine.Engine CREATE INDEX idx_product_mappings_customer ON product_mappings (customer_id)
{"timestamp": "2026-01-17T06:24:43.062151+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_product_mappings_customer ON product_mappings (customer_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,062 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.062211+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,062 INFO sqlalchemy.engine.Engine 
CREATE TABLE product_uom_conversions (
	conversion_id BIGSERIAL NOT NULL, 
	product_id BIGINT NOT NULL, 
	external_unit VARCHAR(20) NOT NULL, 
	factor NUMERIC(15, 3) NOT NULL, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (conversion_id), 
	CONSTRAINT uq_uom_conversions_product_unit UNIQUE (product_id, external_unit), 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.062729+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE product_uom_conversions (\n\tconversion_id BIGSERIAL NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\texternal_unit VARCHAR(20) NOT NULL, \n\tfactor NUMERIC(15, 3) NOT NULL, \n\tvalid_to DATE DEFAULT '9999-12-31' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (conversion_id), \n\tCONSTRAINT uq_uom_conversions_product_unit UNIQUE (product_id, external_unit), \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,062 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.062803+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,064 INFO sqlalchemy.engine.Engine CREATE INDEX idx_product_uom_conversions_valid_to ON product_uom_conversions (valid_to)
{"timestamp": "2026-01-17T06:24:43.064138+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_product_uom_conversions_valid_to ON product_uom_conversions (valid_to)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,064 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.064194+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,064 INFO sqlalchemy.engine.Engine 
CREATE TABLE missing_mapping_events (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT, 
	product_id BIGINT, 
	supplier_id BIGINT, 
	event_type VARCHAR(50) NOT NULL, 
	occurred_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	context_json JSONB, 
	created_by BIGINT, 
	resolved_at TIMESTAMP WITHOUT TIME ZONE, 
	resolved_by BIGINT, 
	resolution_note TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE SET NULL, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE SET NULL, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL, 
	FOREIGN KEY(created_by) REFERENCES users (id) ON DELETE SET NULL, 
	FOREIGN KEY(resolved_by) REFERENCES users (id) ON DELETE SET NULL
)


{"timestamp": "2026-01-17T06:24:43.064850+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE missing_mapping_events (\n\tid BIGSERIAL NOT NULL, \n\tcustomer_id BIGINT, \n\tproduct_id BIGINT, \n\tsupplier_id BIGINT, \n\tevent_type VARCHAR(50) NOT NULL, \n\toccurred_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tcontext_json JSONB, \n\tcreated_by BIGINT, \n\tresolved_at TIMESTAMP WITHOUT TIME ZONE, \n\tresolved_by BIGINT, \n\tresolution_note TEXT, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE SET NULL, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE SET NULL, \n\tFOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL, \n\tFOREIGN KEY(created_by) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(resolved_by) REFERENCES users (id) ON DELETE SET NULL\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,064 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.064930+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,070 INFO sqlalchemy.engine.Engine CREATE INDEX idx_missing_mapping_events_customer ON missing_mapping_events (customer_id)
{"timestamp": "2026-01-17T06:24:43.070062+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_missing_mapping_events_customer ON missing_mapping_events (customer_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,070 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
{"timestamp": "2026-01-17T06:24:43.070147+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00011s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,070 INFO sqlalchemy.engine.Engine CREATE INDEX idx_missing_mapping_events_product ON missing_mapping_events (product_id)
{"timestamp": "2026-01-17T06:24:43.070770+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_missing_mapping_events_product ON missing_mapping_events (product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,070 INFO sqlalchemy.engine.Engine [no key 0.00012s] {}
{"timestamp": "2026-01-17T06:24:43.070864+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00012s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,071 INFO sqlalchemy.engine.Engine CREATE INDEX idx_missing_mapping_events_occurred ON missing_mapping_events (occurred_at)
{"timestamp": "2026-01-17T06:24:43.071437+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_missing_mapping_events_occurred ON missing_mapping_events (occurred_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,071 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.071501+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,071 INFO sqlalchemy.engine.Engine CREATE INDEX idx_missing_mapping_events_unresolved ON missing_mapping_events (event_type, occurred_at) WHERE resolved_at IS NULL
{"timestamp": "2026-01-17T06:24:43.071961+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_missing_mapping_events_unresolved ON missing_mapping_events (event_type, occurred_at) WHERE resolved_at IS NULL", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,072 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.072027+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,072 INFO sqlalchemy.engine.Engine COMMENT ON TABLE missing_mapping_events IS ' - '
{"timestamp": "2026-01-17T06:24:43.072567+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON TABLE missing_mapping_events IS '\u672a\u8a2d\u5b9a\u30a4\u30d9\u30f3\u30c8 - \u81ea\u52d5\u30bb\u30c3\u30c8\u5931\u6557\u6642\u306e\u8b66\u544a\u8a18\u9332'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,072 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.072643+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,072 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN missing_mapping_events.event_type IS ': delivery_place_not_found, jiku_mapping_not_found '
{"timestamp": "2026-01-17T06:24:43.072937+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN missing_mapping_events.event_type IS '\u30a4\u30d9\u30f3\u30c8\u7a2e\u5225: delivery_place_not_found, jiku_mapping_not_found \u7b49'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,072 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.072996+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,073 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN missing_mapping_events.context_json IS ''
{"timestamp": "2026-01-17T06:24:43.073265+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN missing_mapping_events.context_json IS '\u30a8\u30e9\u30fc\u767a\u751f\u6642\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\uff08\u30ea\u30af\u30a8\u30b9\u30c8\u5185\u5bb9\u7b49\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,073 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.073324+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,073 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN missing_mapping_events.resolved_at IS 'NULL = '
{"timestamp": "2026-01-17T06:24:43.073600+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN missing_mapping_events.resolved_at IS '\u89e3\u6c7a\u65e5\u6642\uff08NULL = \u672a\u89e3\u6c7a\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,073 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.073662+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,074 INFO sqlalchemy.engine.Engine 
CREATE TABLE order_groups (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	order_date DATE NOT NULL, 
	source_file_name VARCHAR(255), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_order_groups_business_key UNIQUE (customer_id, product_id, order_date), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.074065+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE order_groups (\n\tid BIGSERIAL NOT NULL, \n\tcustomer_id BIGINT NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\torder_date DATE NOT NULL, \n\tsource_file_name VARCHAR(255), \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_order_groups_business_key UNIQUE (customer_id, product_id, order_date), \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,074 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.074128+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,075 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_groups_customer ON order_groups (customer_id)
{"timestamp": "2026-01-17T06:24:43.075688+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_groups_customer ON order_groups (customer_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,075 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.075751+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,076 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_groups_product ON order_groups (product_id)
{"timestamp": "2026-01-17T06:24:43.076319+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_groups_product ON order_groups (product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,076 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.076385+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,076 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_groups_date ON order_groups (order_date)
{"timestamp": "2026-01-17T06:24:43.076896+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_groups_date ON order_groups (order_date)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,076 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.076962+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,077 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_groups.source_file_name IS ''
{"timestamp": "2026-01-17T06:24:43.077469+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_groups.source_file_name IS '\u53d6\u308a\u8fbc\u307f\u5143\u30d5\u30a1\u30a4\u30eb\u540d'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,077 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.077526+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,077 INFO sqlalchemy.engine.Engine 
CREATE TABLE orders (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	order_date DATE NOT NULL, 
	status VARCHAR(20) DEFAULT 'open' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	locked_by_user_id INTEGER, 
	locked_at TIMESTAMP WITHOUT TIME ZONE, 
	lock_expires_at TIMESTAMP WITHOUT TIME ZONE, 
	ocr_source_filename VARCHAR(255), 
	cancel_reason VARCHAR(255), 
	PRIMARY KEY (id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, 
	FOREIGN KEY(locked_by_user_id) REFERENCES users (id) ON DELETE SET NULL
)


{"timestamp": "2026-01-17T06:24:43.077931+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE orders (\n\tid BIGSERIAL NOT NULL, \n\tcustomer_id BIGINT NOT NULL, \n\torder_date DATE NOT NULL, \n\tstatus VARCHAR(20) DEFAULT 'open' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tlocked_by_user_id INTEGER, \n\tlocked_at TIMESTAMP WITHOUT TIME ZONE, \n\tlock_expires_at TIMESTAMP WITHOUT TIME ZONE, \n\tocr_source_filename VARCHAR(255), \n\tcancel_reason VARCHAR(255), \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(locked_by_user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,077 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.077995+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,079 INFO sqlalchemy.engine.Engine CREATE INDEX idx_orders_locked_by ON orders (locked_by_user_id)
{"timestamp": "2026-01-17T06:24:43.079587+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_orders_locked_by ON orders (locked_by_user_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,079 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.079642+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,080 INFO sqlalchemy.engine.Engine CREATE INDEX idx_orders_lock_expires ON orders (lock_expires_at) WHERE lock_expires_at IS NOT NULL
{"timestamp": "2026-01-17T06:24:43.080049+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_orders_lock_expires ON orders (lock_expires_at) WHERE lock_expires_at IS NOT NULL", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,080 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.080109+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,080 INFO sqlalchemy.engine.Engine CREATE INDEX idx_orders_customer ON orders (customer_id)
{"timestamp": "2026-01-17T06:24:43.080513+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_orders_customer ON orders (customer_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,080 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.080571+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,080 INFO sqlalchemy.engine.Engine CREATE INDEX idx_orders_date ON orders (order_date)
{"timestamp": "2026-01-17T06:24:43.080975+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_orders_date ON orders (order_date)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,081 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.081035+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,081 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN orders.ocr_source_filename IS 'OCR'
{"timestamp": "2026-01-17T06:24:43.081445+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN orders.ocr_source_filename IS 'OCR\u53d6\u8fbc\u5143\u30d5\u30a1\u30a4\u30eb\u540d'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,081 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.081504+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,081 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN orders.cancel_reason IS ''
{"timestamp": "2026-01-17T06:24:43.081772+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN orders.cancel_reason IS '\u30ad\u30e3\u30f3\u30bb\u30eb\u30fb\u4fdd\u7559\u7406\u7531'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,081 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.081835+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,082 INFO sqlalchemy.engine.Engine 
CREATE TABLE product_suppliers (
	id BIGSERIAL NOT NULL, 
	product_id BIGINT NOT NULL, 
	supplier_id BIGINT NOT NULL, 
	is_primary BOOLEAN NOT NULL, 
	lead_time_days INTEGER, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_product_supplier UNIQUE (product_id, supplier_id), 
	FOREIGN KEY(product_id) REFERENCES products (id), 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id)
)


{"timestamp": "2026-01-17T06:24:43.082240+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE product_suppliers (\n\tid BIGSERIAL NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\tsupplier_id BIGINT NOT NULL, \n\tis_primary BOOLEAN NOT NULL, \n\tlead_time_days INTEGER, \n\tvalid_to DATE DEFAULT '9999-12-31' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT uq_product_supplier UNIQUE (product_id, supplier_id), \n\tFOREIGN KEY(product_id) REFERENCES products (id), \n\tFOREIGN KEY(supplier_id) REFERENCES suppliers (id)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,082 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.082314+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,085 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX uq_product_primary_supplier ON product_suppliers (product_id) WHERE is_primary = true
{"timestamp": "2026-01-17T06:24:43.085314+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE UNIQUE INDEX uq_product_primary_supplier ON product_suppliers (product_id) WHERE is_primary = true", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,085 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.085374+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,086 INFO sqlalchemy.engine.Engine CREATE INDEX idx_product_suppliers_valid_to ON product_suppliers (valid_to)
{"timestamp": "2026-01-17T06:24:43.086203+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_product_suppliers_valid_to ON product_suppliers (valid_to)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,086 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.086270+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,086 INFO sqlalchemy.engine.Engine 
CREATE TABLE product_warehouse (
	product_id BIGINT NOT NULL, 
	warehouse_id BIGINT NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (product_id, warehouse_id), 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE, 
	FOREIGN KEY(warehouse_id) REFERENCES warehouses (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.087010+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE product_warehouse (\n\tproduct_id BIGINT NOT NULL, \n\twarehouse_id BIGINT NOT NULL, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tPRIMARY KEY (product_id, warehouse_id), \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE, \n\tFOREIGN KEY(warehouse_id) REFERENCES warehouses (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,087 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.087078+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,088 INFO sqlalchemy.engine.Engine 
CREATE TABLE rpa_runs (
	id BIGSERIAL NOT NULL, 
	rpa_type VARCHAR(50) DEFAULT 'material_delivery_note' NOT NULL, 
	status VARCHAR(30) DEFAULT 'downloaded' NOT NULL, 
	data_start_date DATE, 
	data_end_date DATE, 
	started_at TIMESTAMP WITHOUT TIME ZONE, 
	started_by_user_id BIGINT, 
	step2_executed_at TIMESTAMP WITHOUT TIME ZONE, 
	step2_executed_by_user_id BIGINT, 
	external_done_at TIMESTAMP WITHOUT TIME ZONE, 
	external_done_by_user_id BIGINT, 
	step4_executed_at TIMESTAMP WITHOUT TIME ZONE, 
	customer_id BIGINT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(started_by_user_id) REFERENCES users (id) ON DELETE SET NULL, 
	FOREIGN KEY(step2_executed_by_user_id) REFERENCES users (id) ON DELETE SET NULL, 
	FOREIGN KEY(external_done_by_user_id) REFERENCES users (id) ON DELETE SET NULL, 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE SET NULL
)


{"timestamp": "2026-01-17T06:24:43.088290+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE rpa_runs (\n\tid BIGSERIAL NOT NULL, \n\trpa_type VARCHAR(50) DEFAULT 'material_delivery_note' NOT NULL, \n\tstatus VARCHAR(30) DEFAULT 'downloaded' NOT NULL, \n\tdata_start_date DATE, \n\tdata_end_date DATE, \n\tstarted_at TIMESTAMP WITHOUT TIME ZONE, \n\tstarted_by_user_id BIGINT, \n\tstep2_executed_at TIMESTAMP WITHOUT TIME ZONE, \n\tstep2_executed_by_user_id BIGINT, \n\texternal_done_at TIMESTAMP WITHOUT TIME ZONE, \n\texternal_done_by_user_id BIGINT, \n\tstep4_executed_at TIMESTAMP WITHOUT TIME ZONE, \n\tcustomer_id BIGINT, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(started_by_user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(step2_executed_by_user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(external_done_by_user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE SET NULL\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,088 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.088357+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,103 INFO sqlalchemy.engine.Engine CREATE INDEX idx_rpa_runs_type ON rpa_runs (rpa_type)
{"timestamp": "2026-01-17T06:24:43.103195+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_rpa_runs_type ON rpa_runs (rpa_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,103 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.103259+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,103 INFO sqlalchemy.engine.Engine CREATE INDEX idx_rpa_runs_status ON rpa_runs (status)
{"timestamp": "2026-01-17T06:24:43.103674+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_rpa_runs_status ON rpa_runs (status)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,103 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.103741+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,104 INFO sqlalchemy.engine.Engine CREATE INDEX idx_rpa_runs_created_at ON rpa_runs (created_at)
{"timestamp": "2026-01-17T06:24:43.104268+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_rpa_runs_created_at ON rpa_runs (created_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,104 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.104336+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,104 INFO sqlalchemy.engine.Engine CREATE INDEX idx_rpa_runs_customer_id ON rpa_runs (customer_id)
{"timestamp": "2026-01-17T06:24:43.104870+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_rpa_runs_customer_id ON rpa_runs (customer_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,104 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.104940+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,105 INFO sqlalchemy.engine.Engine 
CREATE TABLE system_client_logs (
	id BIGSERIAL NOT NULL, 
	user_id BIGINT, 
	level VARCHAR(20) DEFAULT 'info' NOT NULL, 
	message TEXT NOT NULL, 
	user_agent VARCHAR(255), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL
)


{"timestamp": "2026-01-17T06:24:43.105447+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE system_client_logs (\n\tid BIGSERIAL NOT NULL, \n\tuser_id BIGINT, \n\tlevel VARCHAR(20) DEFAULT 'info' NOT NULL, \n\tmessage TEXT NOT NULL, \n\tuser_agent VARCHAR(255), \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,105 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.105513+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,109 INFO sqlalchemy.engine.Engine CREATE INDEX idx_system_client_logs_user_id ON system_client_logs (user_id)
{"timestamp": "2026-01-17T06:24:43.109097+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_system_client_logs_user_id ON system_client_logs (user_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,109 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.109153+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,109 INFO sqlalchemy.engine.Engine CREATE INDEX idx_system_client_logs_created_at ON system_client_logs (created_at)
{"timestamp": "2026-01-17T06:24:43.109545+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_system_client_logs_created_at ON system_client_logs (created_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,109 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.109601+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,110 INFO sqlalchemy.engine.Engine 
CREATE TABLE forecast_current (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	forecast_date DATE NOT NULL, 
	forecast_quantity NUMERIC(15, 3) NOT NULL, 
	unit VARCHAR, 
	forecast_period VARCHAR(7) NOT NULL, 
	snapshot_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE RESTRICT, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.110152+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE forecast_current (\n\tid BIGSERIAL NOT NULL, \n\tcustomer_id BIGINT NOT NULL, \n\tdelivery_place_id BIGINT NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\tforecast_date DATE NOT NULL, \n\tforecast_quantity NUMERIC(15, 3) NOT NULL, \n\tunit VARCHAR, \n\tforecast_period VARCHAR(7) NOT NULL, \n\tsnapshot_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,110 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.110215+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,111 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX ux_forecast_current_unique ON forecast_current (customer_id, delivery_place_id, product_id, forecast_date, forecast_period)
{"timestamp": "2026-01-17T06:24:43.111824+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE UNIQUE INDEX ux_forecast_current_unique ON forecast_current (customer_id, delivery_place_id, product_id, forecast_date, forecast_period)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,111 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.111883+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,112 INFO sqlalchemy.engine.Engine CREATE INDEX idx_forecast_current_unique ON forecast_current (customer_id, delivery_place_id, product_id)
{"timestamp": "2026-01-17T06:24:43.112370+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_forecast_current_unique ON forecast_current (customer_id, delivery_place_id, product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,112 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.112429+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,112 INFO sqlalchemy.engine.Engine 
CREATE TABLE inbound_plan_lines (
	id BIGSERIAL NOT NULL, 
	inbound_plan_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	planned_quantity NUMERIC(15, 3) NOT NULL, 
	unit VARCHAR(20) NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(inbound_plan_id) REFERENCES inbound_plans (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.112960+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE inbound_plan_lines (\n\tid BIGSERIAL NOT NULL, \n\tinbound_plan_id BIGINT NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\tplanned_quantity NUMERIC(15, 3) NOT NULL, \n\tunit VARCHAR(20) NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inbound_plan_id) REFERENCES inbound_plans (id) ON DELETE CASCADE, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,113 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.113026+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,116 INFO sqlalchemy.engine.Engine CREATE INDEX idx_inbound_plan_lines_product ON inbound_plan_lines (product_id)
{"timestamp": "2026-01-17T06:24:43.116611+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_inbound_plan_lines_product ON inbound_plan_lines (product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,116 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.116667+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,117 INFO sqlalchemy.engine.Engine CREATE INDEX idx_inbound_plan_lines_plan ON inbound_plan_lines (inbound_plan_id)
{"timestamp": "2026-01-17T06:24:43.117087+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_inbound_plan_lines_plan ON inbound_plan_lines (inbound_plan_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,117 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.117142+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,117 INFO sqlalchemy.engine.Engine 
CREATE TABLE customer_item_jiku_mappings (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	external_product_code VARCHAR(100) NOT NULL, 
	jiku_code VARCHAR(50) NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	is_default BOOLEAN DEFAULT 'FALSE', 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP, 
	PRIMARY KEY (id), 
	CONSTRAINT fk_customer_item_jiku_mappings_customer_item FOREIGN KEY(customer_id, external_product_code) REFERENCES customer_items (customer_id, external_product_code) ON DELETE CASCADE, 
	CONSTRAINT uq_customer_item_jiku UNIQUE (customer_id, external_product_code, jiku_code), 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.117661+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE customer_item_jiku_mappings (\n\tid BIGSERIAL NOT NULL, \n\tcustomer_id BIGINT NOT NULL, \n\texternal_product_code VARCHAR(100) NOT NULL, \n\tjiku_code VARCHAR(50) NOT NULL, \n\tdelivery_place_id BIGINT NOT NULL, \n\tis_default BOOLEAN DEFAULT 'FALSE', \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_customer_item_jiku_mappings_customer_item FOREIGN KEY(customer_id, external_product_code) REFERENCES customer_items (customer_id, external_product_code) ON DELETE CASCADE, \n\tCONSTRAINT uq_customer_item_jiku UNIQUE (customer_id, external_product_code, jiku_code), \n\tFOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,117 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.117724+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,122 INFO sqlalchemy.engine.Engine 
CREATE TABLE customer_item_delivery_settings (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	external_product_code VARCHAR(100) NOT NULL, 
	delivery_place_id BIGINT, 
	jiku_code VARCHAR(50), 
	shipment_text TEXT, 
	packing_note TEXT, 
	lead_time_days INTEGER, 
	is_default BOOLEAN DEFAULT 'FALSE' NOT NULL, 
	valid_from DATE, 
	valid_to DATE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT fk_customer_item_delivery_settings_customer_item FOREIGN KEY(customer_id, external_product_code) REFERENCES customer_items (customer_id, external_product_code) ON DELETE CASCADE, 
	CONSTRAINT uq_customer_item_delivery_settings UNIQUE (customer_id, external_product_code, delivery_place_id, jiku_code), 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE SET NULL
)


{"timestamp": "2026-01-17T06:24:43.122193+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE customer_item_delivery_settings (\n\tid BIGSERIAL NOT NULL, \n\tcustomer_id BIGINT NOT NULL, \n\texternal_product_code VARCHAR(100) NOT NULL, \n\tdelivery_place_id BIGINT, \n\tjiku_code VARCHAR(50), \n\tshipment_text TEXT, \n\tpacking_note TEXT, \n\tlead_time_days INTEGER, \n\tis_default BOOLEAN DEFAULT 'FALSE' NOT NULL, \n\tvalid_from DATE, \n\tvalid_to DATE, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT fk_customer_item_delivery_settings_customer_item FOREIGN KEY(customer_id, external_product_code) REFERENCES customer_items (customer_id, external_product_code) ON DELETE CASCADE, \n\tCONSTRAINT uq_customer_item_delivery_settings UNIQUE (customer_id, external_product_code, delivery_place_id, jiku_code), \n\tFOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE SET NULL\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,122 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.122259+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,123 INFO sqlalchemy.engine.Engine CREATE INDEX idx_cids_customer_item ON customer_item_delivery_settings (customer_id, external_product_code)
{"timestamp": "2026-01-17T06:24:43.123888+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_cids_customer_item ON customer_item_delivery_settings (customer_id, external_product_code)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,123 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.123945+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,124 INFO sqlalchemy.engine.Engine CREATE INDEX idx_cids_delivery_place ON customer_item_delivery_settings (delivery_place_id)
{"timestamp": "2026-01-17T06:24:43.124424+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_cids_delivery_place ON customer_item_delivery_settings (delivery_place_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,124 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.124483+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,124 INFO sqlalchemy.engine.Engine CREATE INDEX idx_cids_jiku_code ON customer_item_delivery_settings (jiku_code)
{"timestamp": "2026-01-17T06:24:43.124861+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_cids_jiku_code ON customer_item_delivery_settings (jiku_code)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,124 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.124921+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,125 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_item_delivery_settings.delivery_place_id IS 'NULL'
{"timestamp": "2026-01-17T06:24:43.125341+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_item_delivery_settings.delivery_place_id IS '\u7d0d\u5165\u5148\uff08NULL\u306e\u5834\u5408\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,125 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.125414+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,125 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_item_delivery_settings.jiku_code IS 'NULL'
{"timestamp": "2026-01-17T06:24:43.125652+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_item_delivery_settings.jiku_code IS '\u6b21\u533a\u30b3\u30fc\u30c9\uff08NULL\u306e\u5834\u5408\u306f\u5168\u6b21\u533a\u5171\u901a\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,125 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.125713+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,125 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_item_delivery_settings.shipment_text IS 'SAP'
{"timestamp": "2026-01-17T06:24:43.125964+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_item_delivery_settings.shipment_text IS '\u51fa\u8377\u8868\u30c6\u30ad\u30b9\u30c8\uff08SAP\u9023\u643a\u7528\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,126 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.126027+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,126 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_item_delivery_settings.packing_note IS ''
{"timestamp": "2026-01-17T06:24:43.126288+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_item_delivery_settings.packing_note IS '\u68b1\u5305\u30fb\u6ce8\u610f\u66f8\u304d'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,126 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.126347+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,126 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_item_delivery_settings.lead_time_days IS ''
{"timestamp": "2026-01-17T06:24:43.126596+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_item_delivery_settings.lead_time_days IS '\u30ea\u30fc\u30c9\u30bf\u30a4\u30e0\uff08\u65e5\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,126 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.126655+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,126 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_item_delivery_settings.is_default IS ''
{"timestamp": "2026-01-17T06:24:43.126899+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_item_delivery_settings.is_default IS '\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u30d5\u30e9\u30b0'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,126 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.126965+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,127 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_item_delivery_settings.valid_from IS ''
{"timestamp": "2026-01-17T06:24:43.127227+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_item_delivery_settings.valid_from IS '\u6709\u52b9\u958b\u59cb\u65e5'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,127 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.127289+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,127 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN customer_item_delivery_settings.valid_to IS ''
{"timestamp": "2026-01-17T06:24:43.127547+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN customer_item_delivery_settings.valid_to IS '\u6709\u52b9\u7d42\u4e86\u65e5'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,127 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.127605+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,127 INFO sqlalchemy.engine.Engine 
CREATE TABLE warehouse_delivery_routes (
	id BIGSERIAL NOT NULL, 
	warehouse_id BIGINT NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	product_id BIGINT, 
	transport_lead_time_days INTEGER NOT NULL, 
	is_active BOOLEAN DEFAULT true NOT NULL, 
	notes TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(warehouse_id) REFERENCES warehouses (id) ON DELETE CASCADE, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.128002+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE warehouse_delivery_routes (\n\tid BIGSERIAL NOT NULL, \n\twarehouse_id BIGINT NOT NULL, \n\tdelivery_place_id BIGINT NOT NULL, \n\tproduct_id BIGINT, \n\ttransport_lead_time_days INTEGER NOT NULL, \n\tis_active BOOLEAN DEFAULT true NOT NULL, \n\tnotes TEXT, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(warehouse_id) REFERENCES warehouses (id) ON DELETE CASCADE, \n\tFOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE CASCADE, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,128 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.128085+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,132 INFO sqlalchemy.engine.Engine CREATE INDEX idx_wdr_delivery_place ON warehouse_delivery_routes (delivery_place_id)
{"timestamp": "2026-01-17T06:24:43.133011+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_wdr_delivery_place ON warehouse_delivery_routes (delivery_place_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,133 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.133071+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,134 INFO sqlalchemy.engine.Engine CREATE INDEX idx_wdr_product ON warehouse_delivery_routes (product_id)
{"timestamp": "2026-01-17T06:24:43.134070+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_wdr_product ON warehouse_delivery_routes (product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,134 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.134139+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,134 INFO sqlalchemy.engine.Engine CREATE INDEX idx_wdr_active ON warehouse_delivery_routes (is_active)
{"timestamp": "2026-01-17T06:24:43.134740+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_wdr_active ON warehouse_delivery_routes (is_active)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,134 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.134804+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,135 INFO sqlalchemy.engine.Engine CREATE INDEX idx_wdr_warehouse ON warehouse_delivery_routes (warehouse_id)
{"timestamp": "2026-01-17T06:24:43.135362+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_wdr_warehouse ON warehouse_delivery_routes (warehouse_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,135 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.135422+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,135 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN warehouse_delivery_routes.product_id IS 'NULL'
{"timestamp": "2026-01-17T06:24:43.135846+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN warehouse_delivery_routes.product_id IS '\u54c1\u756a\uff08NULL\u306e\u5834\u5408\u306f\u7d4c\u8def\u30c7\u30d5\u30a9\u30eb\u30c8\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,135 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:43.135924+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,136 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN warehouse_delivery_routes.transport_lead_time_days IS ''
{"timestamp": "2026-01-17T06:24:43.136199+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN warehouse_delivery_routes.transport_lead_time_days IS '\u8f38\u9001\u30ea\u30fc\u30c9\u30bf\u30a4\u30e0\uff08\u65e5\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,136 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.136256+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,136 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN warehouse_delivery_routes.is_active IS ''
{"timestamp": "2026-01-17T06:24:43.136544+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN warehouse_delivery_routes.is_active IS '\u6709\u52b9\u30d5\u30e9\u30b0'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,136 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.136612+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,136 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN warehouse_delivery_routes.notes IS ''
{"timestamp": "2026-01-17T06:24:43.136872+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN warehouse_delivery_routes.notes IS '\u5099\u8003'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,136 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.136943+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,137 INFO sqlalchemy.engine.Engine 
CREATE TABLE order_lines (
	id BIGSERIAL NOT NULL, 
	order_id BIGINT NOT NULL, 
	order_group_id BIGINT, 
	product_id BIGINT, 
	external_product_code VARCHAR(100), 
	delivery_date DATE NOT NULL, 
	order_quantity NUMERIC(15, 3) NOT NULL, 
	unit VARCHAR(20) NOT NULL, 
	converted_quantity NUMERIC(15, 3), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	customer_order_no VARCHAR(6), 
	customer_order_line_no VARCHAR(10), 
	sap_order_no VARCHAR(20), 
	sap_order_item_no VARCHAR(6), 
	shipping_document_text TEXT, 
	order_type VARCHAR(20) DEFAULT 'ORDER' NOT NULL, 
	forecast_reference VARCHAR(100), 
	status VARCHAR(20) DEFAULT 'pending' NOT NULL, 
	version INTEGER DEFAULT 1 NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_order_lines_status CHECK (status IN ('pending', 'allocated', 'shipped', 'completed', 'cancelled', 'on_hold')), 
	CONSTRAINT chk_order_lines_order_type CHECK (order_type IN ('FORECAST_LINKED', 'KANBAN', 'SPOT', 'ORDER')), 
	CONSTRAINT uq_order_lines_customer_key UNIQUE (order_group_id, customer_order_no), 
	FOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, 
	FOREIGN KEY(order_group_id) REFERENCES order_groups (id) ON DELETE SET NULL, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.137470+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE order_lines (\n\tid BIGSERIAL NOT NULL, \n\torder_id BIGINT NOT NULL, \n\torder_group_id BIGINT, \n\tproduct_id BIGINT, \n\texternal_product_code VARCHAR(100), \n\tdelivery_date DATE NOT NULL, \n\torder_quantity NUMERIC(15, 3) NOT NULL, \n\tunit VARCHAR(20) NOT NULL, \n\tconverted_quantity NUMERIC(15, 3), \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tdelivery_place_id BIGINT NOT NULL, \n\tcustomer_order_no VARCHAR(6), \n\tcustomer_order_line_no VARCHAR(10), \n\tsap_order_no VARCHAR(20), \n\tsap_order_item_no VARCHAR(6), \n\tshipping_document_text TEXT, \n\torder_type VARCHAR(20) DEFAULT 'ORDER' NOT NULL, \n\tforecast_reference VARCHAR(100), \n\tstatus VARCHAR(20) DEFAULT 'pending' NOT NULL, \n\tversion INTEGER DEFAULT 1 NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_order_lines_status CHECK (status IN ('pending', 'allocated', 'shipped', 'completed', 'cancelled', 'on_hold')), \n\tCONSTRAINT chk_order_lines_order_type CHECK (order_type IN ('FORECAST_LINKED', 'KANBAN', 'SPOT', 'ORDER')), \n\tCONSTRAINT uq_order_lines_customer_key UNIQUE (order_group_id, customer_order_no), \n\tFOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, \n\tFOREIGN KEY(order_group_id) REFERENCES order_groups (id) ON DELETE SET NULL, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,137 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.137546+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,145 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_sap_order_no ON order_lines (sap_order_no) WHERE sap_order_no IS NOT NULL
{"timestamp": "2026-01-17T06:24:43.145312+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_sap_order_no ON order_lines (sap_order_no) WHERE sap_order_no IS NOT NULL", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,145 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.145372+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,145 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_customer_order_no ON order_lines (customer_order_no) WHERE customer_order_no IS NOT NULL
{"timestamp": "2026-01-17T06:24:43.145801+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_customer_order_no ON order_lines (customer_order_no) WHERE customer_order_no IS NOT NULL", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,145 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.145860+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,146 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_forecast_reference ON order_lines (forecast_reference) WHERE forecast_reference IS NOT NULL
{"timestamp": "2026-01-17T06:24:43.146300+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_forecast_reference ON order_lines (forecast_reference) WHERE forecast_reference IS NOT NULL", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,146 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.146359+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,146 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_delivery_place ON order_lines (delivery_place_id)
{"timestamp": "2026-01-17T06:24:43.146776+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_delivery_place ON order_lines (delivery_place_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,146 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.146831+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,147 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_order_group ON order_lines (order_group_id)
{"timestamp": "2026-01-17T06:24:43.147233+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_order_group ON order_lines (order_group_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,147 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.147287+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,147 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_status ON order_lines (status)
{"timestamp": "2026-01-17T06:24:43.147709+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_status ON order_lines (status)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,147 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.147766+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,148 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_product ON order_lines (product_id)
{"timestamp": "2026-01-17T06:24:43.148170+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_product ON order_lines (product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,148 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.148231+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,148 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_order ON order_lines (order_id)
{"timestamp": "2026-01-17T06:24:43.148690+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_order ON order_lines (order_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,148 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.148749+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,149 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_order_type ON order_lines (order_type)
{"timestamp": "2026-01-17T06:24:43.149226+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_order_type ON order_lines (order_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,149 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.149294+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,149 INFO sqlalchemy.engine.Engine CREATE INDEX idx_order_lines_date ON order_lines (delivery_date)
{"timestamp": "2026-01-17T06:24:43.149740+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_order_lines_date ON order_lines (delivery_date)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,149 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.149805+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,150 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.order_group_id IS ''
{"timestamp": "2026-01-17T06:24:43.150504+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.order_group_id IS '\u53d7\u6ce8\u30b0\u30eb\u30fc\u30d7\u3078\u306e\u53c2\u7167\uff08\u5f97\u610f\u5148\u00d7\u88fd\u54c1\u00d7\u53d7\u6ce8\u65e5\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,150 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.150580+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,150 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.product_id IS 'IDOCRNULL'
{"timestamp": "2026-01-17T06:24:43.150870+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.product_id IS '\u88fd\u54c1ID\uff08OCR\u53d6\u8fbc\u6642\u306fNULL\u53ef\u3001\u5909\u63db\u5f8c\u306b\u8a2d\u5b9a\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,150 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.150932+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,151 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.external_product_code IS 'OCR'
{"timestamp": "2026-01-17T06:24:43.151178+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.external_product_code IS 'OCR\u5143\u306e\u5148\u65b9\u54c1\u756a\uff08\u5909\u63db\u524d\u306e\u751f\u30c7\u30fc\u30bf\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,151 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.151234+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,151 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.customer_order_no IS '6'
{"timestamp": "2026-01-17T06:24:43.151510+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.customer_order_no IS '\u5f97\u610f\u51486\u6841\u53d7\u6ce8\u756a\u53f7\uff08\u696d\u52d9\u30ad\u30fc\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,151 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.151566+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,151 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.customer_order_line_no IS ''
{"timestamp": "2026-01-17T06:24:43.151822+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.customer_order_line_no IS '\u5f97\u610f\u5148\u5074\u884c\u756a\u53f7'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,151 INFO sqlalchemy.engine.Engine [no key 0.00015s] {}
{"timestamp": "2026-01-17T06:24:43.151964+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00015s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,152 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.sap_order_no IS 'SAP'
{"timestamp": "2026-01-17T06:24:43.152213+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.sap_order_no IS 'SAP\u53d7\u6ce8\u756a\u53f7\uff08\u696d\u52d9\u30ad\u30fc\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,152 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.152269+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,152 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.sap_order_item_no IS 'SAP'
{"timestamp": "2026-01-17T06:24:43.152518+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.sap_order_item_no IS 'SAP\u660e\u7d30\u756a\u53f7\uff08\u696d\u52d9\u30ad\u30fc\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,152 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.152578+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,152 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.shipping_document_text IS ''
{"timestamp": "2026-01-17T06:24:43.152861+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.shipping_document_text IS '\u51fa\u8377\u8868\u30c6\u30ad\u30b9\u30c8'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,152 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.152916+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,153 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.order_type IS ': FORECAST_LINKED / KANBAN / SPOT / ORDER'
{"timestamp": "2026-01-17T06:24:43.153177+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.order_type IS '\u9700\u8981\u7a2e\u5225: FORECAST_LINKED / KANBAN / SPOT / ORDER'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,153 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.153233+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,153 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN order_lines.forecast_reference IS 'Forecast business key reference (replaces forecast_id FK)'
{"timestamp": "2026-01-17T06:24:43.153494+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN order_lines.forecast_reference IS 'Forecast business key reference (replaces forecast_id FK)'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,153 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.153555+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,154 INFO sqlalchemy.engine.Engine 
CREATE TABLE rpa_run_items (
	id BIGSERIAL NOT NULL, 
	run_id BIGINT NOT NULL, 
	row_no INTEGER NOT NULL, 
	status VARCHAR(50), 
	jiku_code VARCHAR(50), 
	layer_code VARCHAR(50), 
	external_product_code VARCHAR(100), 
	delivery_date DATE, 
	delivery_quantity INTEGER, 
	shipping_vehicle VARCHAR(50), 
	issue_flag BOOLEAN DEFAULT false NOT NULL, 
	complete_flag BOOLEAN DEFAULT false NOT NULL, 
	match_result BOOLEAN, 
	sap_registered BOOLEAN, 
	order_no VARCHAR(100), 
	lock_flag BOOLEAN DEFAULT false NOT NULL, 
	item_no VARCHAR(100), 
	lot_no VARCHAR(100), 
	result_status VARCHAR(20), 
	processing_started_at TIMESTAMP WITHOUT TIME ZONE, 
	complement_customer_id BIGINT, 
	complement_external_product_code VARCHAR(100), 
	complement_match_type VARCHAR(10), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(run_id) REFERENCES rpa_runs (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.154054+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE rpa_run_items (\n\tid BIGSERIAL NOT NULL, \n\trun_id BIGINT NOT NULL, \n\trow_no INTEGER NOT NULL, \n\tstatus VARCHAR(50), \n\tjiku_code VARCHAR(50), \n\tlayer_code VARCHAR(50), \n\texternal_product_code VARCHAR(100), \n\tdelivery_date DATE, \n\tdelivery_quantity INTEGER, \n\tshipping_vehicle VARCHAR(50), \n\tissue_flag BOOLEAN DEFAULT false NOT NULL, \n\tcomplete_flag BOOLEAN DEFAULT false NOT NULL, \n\tmatch_result BOOLEAN, \n\tsap_registered BOOLEAN, \n\torder_no VARCHAR(100), \n\tlock_flag BOOLEAN DEFAULT false NOT NULL, \n\titem_no VARCHAR(100), \n\tlot_no VARCHAR(100), \n\tresult_status VARCHAR(20), \n\tprocessing_started_at TIMESTAMP WITHOUT TIME ZONE, \n\tcomplement_customer_id BIGINT, \n\tcomplement_external_product_code VARCHAR(100), \n\tcomplement_match_type VARCHAR(10), \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(run_id) REFERENCES rpa_runs (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,154 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.154124+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,158 INFO sqlalchemy.engine.Engine CREATE INDEX idx_rpa_run_items_run_id ON rpa_run_items (run_id)
{"timestamp": "2026-01-17T06:24:43.158418+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_rpa_run_items_run_id ON rpa_run_items (run_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,158 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.158504+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,158 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX idx_rpa_run_items_run_row ON rpa_run_items (run_id, row_no)
{"timestamp": "2026-01-17T06:24:43.158925+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE UNIQUE INDEX idx_rpa_run_items_run_row ON rpa_run_items (run_id, row_no)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,158 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.158984+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,159 INFO sqlalchemy.engine.Engine CREATE INDEX idx_rri_complement_master ON rpa_run_items (complement_customer_id, complement_external_product_code)
{"timestamp": "2026-01-17T06:24:43.159598+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_rri_complement_master ON rpa_run_items (complement_customer_id, complement_external_product_code)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,159 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.159658+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,160 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN rpa_run_items.complement_customer_id IS 'customer_id'
{"timestamp": "2026-01-17T06:24:43.160102+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN rpa_run_items.complement_customer_id IS '\u53c2\u7167\u3057\u305f\u30de\u30b9\u30bf\u306ecustomer_id'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,160 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.160162+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,160 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN rpa_run_items.complement_external_product_code IS 'external_product_code'
{"timestamp": "2026-01-17T06:24:43.160444+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN rpa_run_items.complement_external_product_code IS '\u53c2\u7167\u3057\u305f\u30de\u30b9\u30bf\u306eexternal_product_code'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,160 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.160511+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,160 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN rpa_run_items.complement_match_type IS 'exact: , prefix: '
{"timestamp": "2026-01-17T06:24:43.160772+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN rpa_run_items.complement_match_type IS '\u691c\u7d22\u7a2e\u5225\uff08exact: \u5b8c\u5168\u4e00\u81f4, prefix: \u524d\u65b9\u4e00\u81f4\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,160 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.160841+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,161 INFO sqlalchemy.engine.Engine 
CREATE TABLE expected_lots (
	id BIGSERIAL NOT NULL, 
	inbound_plan_line_id BIGINT NOT NULL, 
	expected_lot_number VARCHAR(100), 
	expected_quantity NUMERIC(15, 3) NOT NULL, 
	expected_expiry_date DATE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(inbound_plan_line_id) REFERENCES inbound_plan_lines (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.161344+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE expected_lots (\n\tid BIGSERIAL NOT NULL, \n\tinbound_plan_line_id BIGINT NOT NULL, \n\texpected_lot_number VARCHAR(100), \n\texpected_quantity NUMERIC(15, 3) NOT NULL, \n\texpected_expiry_date DATE, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(inbound_plan_line_id) REFERENCES inbound_plan_lines (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,161 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.161414+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,166 INFO sqlalchemy.engine.Engine CREATE INDEX idx_expected_lots_line ON expected_lots (inbound_plan_line_id)
{"timestamp": "2026-01-17T06:24:43.166856+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_expected_lots_line ON expected_lots (inbound_plan_line_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,166 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.166915+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,167 INFO sqlalchemy.engine.Engine CREATE INDEX idx_expected_lots_number ON expected_lots (expected_lot_number)
{"timestamp": "2026-01-17T06:24:43.167295+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_expected_lots_number ON expected_lots (expected_lot_number)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,167 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.167352+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,168 INFO sqlalchemy.engine.Engine 
CREATE TABLE lot_receipts (
	id BIGSERIAL NOT NULL, 
	lot_master_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	warehouse_id BIGINT NOT NULL, 
	supplier_id BIGINT, 
	expected_lot_id BIGINT, 
	received_date DATE NOT NULL, 
	expiry_date DATE, 
	received_quantity NUMERIC(15, 3) DEFAULT 0 NOT NULL, 
	unit VARCHAR(20) NOT NULL, 
	status VARCHAR(20) DEFAULT 'active' NOT NULL, 
	lock_reason TEXT, 
	locked_quantity NUMERIC(15, 3) DEFAULT 0 NOT NULL, 
	inspection_status VARCHAR(20) DEFAULT 'not_required' NOT NULL, 
	inspection_date DATE, 
	inspection_cert_number VARCHAR(100), 
	shipping_date DATE, 
	cost_price NUMERIC(10, 2), 
	sales_price NUMERIC(10, 2), 
	tax_rate NUMERIC(5, 2), 
	version INTEGER DEFAULT 1 NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	origin_type VARCHAR(20) DEFAULT 'adhoc' NOT NULL, 
	origin_reference VARCHAR(255), 
	temporary_lot_key UUID, 
	receipt_key UUID DEFAULT gen_random_uuid() NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_lot_receipts_received_quantity CHECK (received_quantity >= 0), 
	CONSTRAINT chk_lot_receipts_locked_quantity CHECK (locked_quantity >= 0), 
	CONSTRAINT chk_lot_receipts_origin_type CHECK (origin_type IN ('order','forecast','sample','safety_stock','adhoc')), 
	CONSTRAINT uq_lot_receipts_receipt_key UNIQUE (receipt_key), 
	CONSTRAINT uq_lot_receipts_temporary_lot_key UNIQUE (temporary_lot_key), 
	FOREIGN KEY(lot_master_id) REFERENCES lot_master (id) ON DELETE RESTRICT, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, 
	FOREIGN KEY(warehouse_id) REFERENCES warehouses (id) ON DELETE RESTRICT, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL, 
	FOREIGN KEY(expected_lot_id) REFERENCES expected_lots (id) ON DELETE SET NULL, 
	UNIQUE (temporary_lot_key)
)


{"timestamp": "2026-01-17T06:24:43.168086+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE lot_receipts (\n\tid BIGSERIAL NOT NULL, \n\tlot_master_id BIGINT NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\twarehouse_id BIGINT NOT NULL, \n\tsupplier_id BIGINT, \n\texpected_lot_id BIGINT, \n\treceived_date DATE NOT NULL, \n\texpiry_date DATE, \n\treceived_quantity NUMERIC(15, 3) DEFAULT 0 NOT NULL, \n\tunit VARCHAR(20) NOT NULL, \n\tstatus VARCHAR(20) DEFAULT 'active' NOT NULL, \n\tlock_reason TEXT, \n\tlocked_quantity NUMERIC(15, 3) DEFAULT 0 NOT NULL, \n\tinspection_status VARCHAR(20) DEFAULT 'not_required' NOT NULL, \n\tinspection_date DATE, \n\tinspection_cert_number VARCHAR(100), \n\tshipping_date DATE, \n\tcost_price NUMERIC(10, 2), \n\tsales_price NUMERIC(10, 2), \n\ttax_rate NUMERIC(5, 2), \n\tversion INTEGER DEFAULT 1 NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\torigin_type VARCHAR(20) DEFAULT 'adhoc' NOT NULL, \n\torigin_reference VARCHAR(255), \n\ttemporary_lot_key UUID, \n\treceipt_key UUID DEFAULT gen_random_uuid() NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_lot_receipts_received_quantity CHECK (received_quantity >= 0), \n\tCONSTRAINT chk_lot_receipts_locked_quantity CHECK (locked_quantity >= 0), \n\tCONSTRAINT chk_lot_receipts_origin_type CHECK (origin_type IN ('order','forecast','sample','safety_stock','adhoc')), \n\tCONSTRAINT uq_lot_receipts_receipt_key UNIQUE (receipt_key), \n\tCONSTRAINT uq_lot_receipts_temporary_lot_key UNIQUE (temporary_lot_key), \n\tFOREIGN KEY(lot_master_id) REFERENCES lot_master (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(warehouse_id) REFERENCES warehouses (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL, \n\tFOREIGN KEY(expected_lot_id) REFERENCES expected_lots (id) ON DELETE SET NULL, \n\tUNIQUE (temporary_lot_key)\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,168 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.168161+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,173 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_receipts_fefo_allocation ON lot_receipts (product_id, warehouse_id, expiry_date, received_date, id) WHERE status = 'active' AND inspection_status IN ('not_required', 'passed')
{"timestamp": "2026-01-17T06:24:43.173077+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_receipts_fefo_allocation ON lot_receipts (product_id, warehouse_id, expiry_date, received_date, id) WHERE status = 'active' AND inspection_status IN ('not_required', 'passed')", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,173 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.173149+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,173 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_receipts_lot_master_warehouse ON lot_receipts (lot_master_id, warehouse_id)
{"timestamp": "2026-01-17T06:24:43.173702+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_receipts_lot_master_warehouse ON lot_receipts (lot_master_id, warehouse_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,173 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.173762+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,174 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_receipts_supplier ON lot_receipts (supplier_id)
{"timestamp": "2026-01-17T06:24:43.174200+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_receipts_supplier ON lot_receipts (supplier_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,174 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.174256+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,174 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_receipts_expiry_date ON lot_receipts (expiry_date) WHERE expiry_date IS NOT NULL
{"timestamp": "2026-01-17T06:24:43.174692+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_receipts_expiry_date ON lot_receipts (expiry_date) WHERE expiry_date IS NOT NULL", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,174 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:43.174783+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,175 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_receipts_warehouse ON lot_receipts (warehouse_id)
{"timestamp": "2026-01-17T06:24:43.175216+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_receipts_warehouse ON lot_receipts (warehouse_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,175 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.175276+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,175 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_receipts_status ON lot_receipts (status)
{"timestamp": "2026-01-17T06:24:43.175679+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_receipts_status ON lot_receipts (status)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,175 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.175745+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,176 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_receipts_temporary_lot_key ON lot_receipts (temporary_lot_key) WHERE temporary_lot_key IS NOT NULL
{"timestamp": "2026-01-17T06:24:43.176115+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_receipts_temporary_lot_key ON lot_receipts (temporary_lot_key) WHERE temporary_lot_key IS NOT NULL", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,176 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.176177+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,176 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_receipts_origin_type ON lot_receipts (origin_type)
{"timestamp": "2026-01-17T06:24:43.176607+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_receipts_origin_type ON lot_receipts (origin_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,176 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.176680+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,177 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_receipts_product_warehouse ON lot_receipts (product_id, warehouse_id)
{"timestamp": "2026-01-17T06:24:43.177192+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_receipts_product_warehouse ON lot_receipts (product_id, warehouse_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,177 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.177259+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,177 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_receipts.lot_master_id IS 'lot_masterFK'
{"timestamp": "2026-01-17T06:24:43.177783+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_receipts.lot_master_id IS 'lot_master\u3078\u306eFK'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,177 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.177848+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,178 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_receipts.received_quantity IS ''
{"timestamp": "2026-01-17T06:24:43.178308+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_receipts.received_quantity IS '\u5165\u8377\u6570\u91cf\uff08\u521d\u671f\u5165\u8377\u6642\u306e\u6570\u91cf\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,178 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:43.178400+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,178 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_receipts.shipping_date IS ''
{"timestamp": "2026-01-17T06:24:43.178893+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_receipts.shipping_date IS '\u51fa\u8377\u4e88\u5b9a\u65e5'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,178 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.178961+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,179 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_receipts.cost_price IS ''
{"timestamp": "2026-01-17T06:24:43.179201+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_receipts.cost_price IS '\u4ed5\u5165\u5358\u4fa1'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,179 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.179270+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,179 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_receipts.sales_price IS ''
{"timestamp": "2026-01-17T06:24:43.179500+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_receipts.sales_price IS '\u8ca9\u58f2\u5358\u4fa1'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,179 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.179569+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,179 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_receipts.tax_rate IS ''
{"timestamp": "2026-01-17T06:24:43.179788+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_receipts.tax_rate IS '\u9069\u7528\u7a0e\u7387'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,179 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.179848+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,180 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_receipts.temporary_lot_key IS 'UUID'
{"timestamp": "2026-01-17T06:24:43.180054+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_receipts.temporary_lot_key IS '\u4eee\u5165\u5eab\u6642\u306e\u4e00\u610f\u8b58\u5225\u30ad\u30fc\uff08UUID\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,180 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.180118+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,180 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_receipts.receipt_key IS 'UUIDNOT NULL'
{"timestamp": "2026-01-17T06:24:43.180330+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_receipts.receipt_key IS '\u5165\u8377\u8b58\u5225UUID\uff08\u91cd\u8907\u9632\u6b62\u3001NOT NULL\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,180 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.180388+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,180 INFO sqlalchemy.engine.Engine 
CREATE TABLE stock_history (
	id BIGSERIAL NOT NULL, 
	lot_id BIGINT NOT NULL, 
	transaction_type VARCHAR(20) NOT NULL, 
	quantity_change NUMERIC(15, 3) NOT NULL, 
	quantity_after NUMERIC(15, 3) NOT NULL, 
	reference_type VARCHAR(50), 
	reference_id BIGINT, 
	transaction_date TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_stock_history_type CHECK (transaction_type IN ('inbound','allocation','shipment','adjustment','return','allocation_hold','allocation_release','withdrawal')), 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.180759+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE stock_history (\n\tid BIGSERIAL NOT NULL, \n\tlot_id BIGINT NOT NULL, \n\ttransaction_type VARCHAR(20) NOT NULL, \n\tquantity_change NUMERIC(15, 3) NOT NULL, \n\tquantity_after NUMERIC(15, 3) NOT NULL, \n\treference_type VARCHAR(50), \n\treference_id BIGINT, \n\ttransaction_date TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_stock_history_type CHECK (transaction_type IN ('inbound','allocation','shipment','adjustment','return','allocation_hold','allocation_release','withdrawal')), \n\tFOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,180 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.180830+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,182 INFO sqlalchemy.engine.Engine CREATE INDEX idx_stock_history_lot ON stock_history (lot_id)
{"timestamp": "2026-01-17T06:24:43.182166+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_stock_history_lot ON stock_history (lot_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,182 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.182229+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,182 INFO sqlalchemy.engine.Engine CREATE INDEX idx_stock_history_date ON stock_history (transaction_date)
{"timestamp": "2026-01-17T06:24:43.182632+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_stock_history_date ON stock_history (transaction_date)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,182 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.182690+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,183 INFO sqlalchemy.engine.Engine CREATE INDEX idx_stock_history_type ON stock_history (transaction_type)
{"timestamp": "2026-01-17T06:24:43.183028+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_stock_history_type ON stock_history (transaction_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,183 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.183086+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,183 INFO sqlalchemy.engine.Engine 
CREATE TABLE adjustments (
	id BIGSERIAL NOT NULL, 
	lot_id BIGINT NOT NULL, 
	adjustment_type VARCHAR(20) NOT NULL, 
	adjusted_quantity NUMERIC(15, 3) NOT NULL, 
	reason TEXT NOT NULL, 
	adjusted_by BIGINT NOT NULL, 
	adjusted_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_adjustments_type CHECK (adjustment_type IN ('physical_count','damage','loss','found','other')), 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT, 
	FOREIGN KEY(adjusted_by) REFERENCES users (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.183686+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE adjustments (\n\tid BIGSERIAL NOT NULL, \n\tlot_id BIGINT NOT NULL, \n\tadjustment_type VARCHAR(20) NOT NULL, \n\tadjusted_quantity NUMERIC(15, 3) NOT NULL, \n\treason TEXT NOT NULL, \n\tadjusted_by BIGINT NOT NULL, \n\tadjusted_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_adjustments_type CHECK (adjustment_type IN ('physical_count','damage','loss','found','other')), \n\tFOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(adjusted_by) REFERENCES users (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,183 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.183758+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,185 INFO sqlalchemy.engine.Engine CREATE INDEX idx_adjustments_date ON adjustments (adjusted_at)
{"timestamp": "2026-01-17T06:24:43.185785+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_adjustments_date ON adjustments (adjusted_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,185 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.185843+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,186 INFO sqlalchemy.engine.Engine CREATE INDEX idx_adjustments_lot ON adjustments (lot_id)
{"timestamp": "2026-01-17T06:24:43.186293+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_adjustments_lot ON adjustments (lot_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,186 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.186350+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,186 INFO sqlalchemy.engine.Engine 
CREATE TABLE allocation_suggestions (
	id BIGSERIAL NOT NULL, 
	order_line_id BIGINT, 
	forecast_period VARCHAR(7) NOT NULL, 
	forecast_id BIGINT, 
	customer_id BIGINT NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	lot_id BIGINT NOT NULL, 
	quantity NUMERIC(15, 3) NOT NULL, 
	priority INTEGER DEFAULT 0 NOT NULL, 
	allocation_type VARCHAR(10) NOT NULL, 
	source VARCHAR(32) NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(forecast_id) REFERENCES forecast_current (id) ON DELETE CASCADE, 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE CASCADE, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE, 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.186988+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE allocation_suggestions (\n\tid BIGSERIAL NOT NULL, \n\torder_line_id BIGINT, \n\tforecast_period VARCHAR(7) NOT NULL, \n\tforecast_id BIGINT, \n\tcustomer_id BIGINT NOT NULL, \n\tdelivery_place_id BIGINT NOT NULL, \n\tproduct_id BIGINT NOT NULL, \n\tlot_id BIGINT NOT NULL, \n\tquantity NUMERIC(15, 3) NOT NULL, \n\tpriority INTEGER DEFAULT 0 NOT NULL, \n\tallocation_type VARCHAR(10) NOT NULL, \n\tsource VARCHAR(32) NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(forecast_id) REFERENCES forecast_current (id) ON DELETE CASCADE, \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE CASCADE, \n\tFOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE CASCADE, \n\tFOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE, \n\tFOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,187 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.187060+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,189 INFO sqlalchemy.engine.Engine CREATE INDEX idx_allocation_suggestions_forecast ON allocation_suggestions (forecast_id)
{"timestamp": "2026-01-17T06:24:43.189613+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_allocation_suggestions_forecast ON allocation_suggestions (forecast_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,189 INFO sqlalchemy.engine.Engine [no key 0.00012s] {}
{"timestamp": "2026-01-17T06:24:43.189698+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00012s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,190 INFO sqlalchemy.engine.Engine CREATE INDEX idx_allocation_suggestions_customer ON allocation_suggestions (customer_id)
{"timestamp": "2026-01-17T06:24:43.190132+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_allocation_suggestions_customer ON allocation_suggestions (customer_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,190 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.190203+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,190 INFO sqlalchemy.engine.Engine CREATE INDEX idx_allocation_suggestions_product ON allocation_suggestions (product_id)
{"timestamp": "2026-01-17T06:24:43.190645+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_allocation_suggestions_product ON allocation_suggestions (product_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,190 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.190710+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,191 INFO sqlalchemy.engine.Engine CREATE INDEX idx_allocation_suggestions_period ON allocation_suggestions (forecast_period)
{"timestamp": "2026-01-17T06:24:43.191140+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_allocation_suggestions_period ON allocation_suggestions (forecast_period)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,191 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.191197+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,191 INFO sqlalchemy.engine.Engine CREATE INDEX idx_allocation_suggestions_lot ON allocation_suggestions (lot_id)
{"timestamp": "2026-01-17T06:24:43.191624+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_allocation_suggestions_lot ON allocation_suggestions (lot_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,191 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.191690+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,192 INFO sqlalchemy.engine.Engine 
CREATE TABLE allocation_traces (
	id BIGSERIAL NOT NULL, 
	order_line_id BIGINT NOT NULL, 
	lot_id BIGINT, 
	score NUMERIC(15, 6), 
	decision VARCHAR(20) NOT NULL, 
	reason VARCHAR(255) NOT NULL, 
	allocated_qty NUMERIC(15, 3), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_allocation_traces_decision CHECK (decision IN ('adopted', 'rejected', 'partial')), 
	FOREIGN KEY(order_line_id) REFERENCES order_lines (id) ON DELETE CASCADE, 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE CASCADE
)


{"timestamp": "2026-01-17T06:24:43.192219+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE allocation_traces (\n\tid BIGSERIAL NOT NULL, \n\torder_line_id BIGINT NOT NULL, \n\tlot_id BIGINT, \n\tscore NUMERIC(15, 6), \n\tdecision VARCHAR(20) NOT NULL, \n\treason VARCHAR(255) NOT NULL, \n\tallocated_qty NUMERIC(15, 3), \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_allocation_traces_decision CHECK (decision IN ('adopted', 'rejected', 'partial')), \n\tFOREIGN KEY(order_line_id) REFERENCES order_lines (id) ON DELETE CASCADE, \n\tFOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE CASCADE\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,192 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.192291+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,193 INFO sqlalchemy.engine.Engine CREATE INDEX idx_allocation_traces_lot ON allocation_traces (lot_id)
{"timestamp": "2026-01-17T06:24:43.193718+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_allocation_traces_lot ON allocation_traces (lot_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,193 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.193783+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,194 INFO sqlalchemy.engine.Engine CREATE INDEX idx_allocation_traces_order_line ON allocation_traces (order_line_id)
{"timestamp": "2026-01-17T06:24:43.194214+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_allocation_traces_order_line ON allocation_traces (order_line_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,194 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.194286+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,194 INFO sqlalchemy.engine.Engine CREATE INDEX idx_allocation_traces_created_at ON allocation_traces (created_at)
{"timestamp": "2026-01-17T06:24:43.194673+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_allocation_traces_created_at ON allocation_traces (created_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,194 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:43.194770+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,195 INFO sqlalchemy.engine.Engine 
CREATE TABLE lot_reservations (
	id BIGSERIAL NOT NULL, 
	lot_id BIGINT NOT NULL, 
	source_type VARCHAR(20) NOT NULL, 
	source_id BIGINT, 
	reserved_qty NUMERIC(15, 3) NOT NULL, 
	status VARCHAR(20) DEFAULT 'active' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	expires_at TIMESTAMP WITHOUT TIME ZONE, 
	confirmed_at TIMESTAMP WITHOUT TIME ZONE, 
	confirmed_by VARCHAR(50), 
	released_at TIMESTAMP WITHOUT TIME ZONE, 
	cancel_reason VARCHAR(50), 
	cancel_note VARCHAR(500), 
	cancelled_by VARCHAR(50), 
	sap_document_no VARCHAR(20), 
	sap_registered_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_lot_reservations_qty_positive CHECK (reserved_qty > 0), 
	CONSTRAINT chk_lot_reservations_source_type CHECK (source_type IN ('forecast', 'order', 'manual')), 
	CONSTRAINT chk_lot_reservations_status CHECK (status IN ('temporary', 'active', 'confirmed', 'released')), 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.195368+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE lot_reservations (\n\tid BIGSERIAL NOT NULL, \n\tlot_id BIGINT NOT NULL, \n\tsource_type VARCHAR(20) NOT NULL, \n\tsource_id BIGINT, \n\treserved_qty NUMERIC(15, 3) NOT NULL, \n\tstatus VARCHAR(20) DEFAULT 'active' NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tupdated_at TIMESTAMP WITHOUT TIME ZONE, \n\texpires_at TIMESTAMP WITHOUT TIME ZONE, \n\tconfirmed_at TIMESTAMP WITHOUT TIME ZONE, \n\tconfirmed_by VARCHAR(50), \n\treleased_at TIMESTAMP WITHOUT TIME ZONE, \n\tcancel_reason VARCHAR(50), \n\tcancel_note VARCHAR(500), \n\tcancelled_by VARCHAR(50), \n\tsap_document_no VARCHAR(20), \n\tsap_registered_at TIMESTAMP WITHOUT TIME ZONE, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_lot_reservations_qty_positive CHECK (reserved_qty > 0), \n\tCONSTRAINT chk_lot_reservations_source_type CHECK (source_type IN ('forecast', 'order', 'manual')), \n\tCONSTRAINT chk_lot_reservations_status CHECK (status IN ('temporary', 'active', 'confirmed', 'released')), \n\tFOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,195 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.195435+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,198 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_reservations_source ON lot_reservations (source_type, source_id)
{"timestamp": "2026-01-17T06:24:43.198146+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_reservations_source ON lot_reservations (source_type, source_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,198 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
{"timestamp": "2026-01-17T06:24:43.198238+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00011s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,198 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_reservations_expires_at ON lot_reservations (expires_at) WHERE expires_at IS NOT NULL
{"timestamp": "2026-01-17T06:24:43.198735+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_reservations_expires_at ON lot_reservations (expires_at) WHERE expires_at IS NOT NULL", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,198 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.198800+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,199 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_reservations_status ON lot_reservations (status)
{"timestamp": "2026-01-17T06:24:43.199377+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_reservations_status ON lot_reservations (status)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,199 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.199435+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,199 INFO sqlalchemy.engine.Engine CREATE INDEX idx_lot_reservations_lot_status ON lot_reservations (lot_id, status)
{"timestamp": "2026-01-17T06:24:43.199948+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_lot_reservations_lot_status ON lot_reservations (lot_id, status)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,199 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.200012+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,200 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.source_type IS 'Reservation source: ''forecast'' | ''order'' | ''manual'''
{"timestamp": "2026-01-17T06:24:43.200443+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.source_type IS 'Reservation source: ''forecast'' | ''order'' | ''manual'''", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,200 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.200513+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,200 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.source_id IS 'ID of the source entity (order_line_id, forecast_group_id, etc.)'
{"timestamp": "2026-01-17T06:24:43.200746+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.source_id IS 'ID of the source entity (order_line_id, forecast_group_id, etc.)'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,200 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.200805+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,201 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.reserved_qty IS 'Reserved quantity (must be positive)'
{"timestamp": "2026-01-17T06:24:43.201050+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.reserved_qty IS 'Reserved quantity (must be positive)'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,201 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.201115+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,201 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.status IS 'Reservation status: ''temporary'' | ''active'' | ''confirmed'' | ''released'''
{"timestamp": "2026-01-17T06:24:43.201378+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.status IS 'Reservation status: ''temporary'' | ''active'' | ''confirmed'' | ''released'''", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,201 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.201453+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,201 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.updated_at IS 'Timestamp of last update'
{"timestamp": "2026-01-17T06:24:43.201727+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.updated_at IS 'Timestamp of last update'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,201 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.201783+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,202 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.expires_at IS 'Expiration time for temporary reservations'
{"timestamp": "2026-01-17T06:24:43.202055+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.expires_at IS 'Expiration time for temporary reservations'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,202 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.202114+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,202 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.confirmed_at IS 'Timestamp when reservation was confirmed'
{"timestamp": "2026-01-17T06:24:43.202373+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.confirmed_at IS 'Timestamp when reservation was confirmed'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,202 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.202436+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,202 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.confirmed_by IS 'User who confirmed the reservation'
{"timestamp": "2026-01-17T06:24:43.202691+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.confirmed_by IS 'User who confirmed the reservation'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,202 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.202752+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,202 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.released_at IS 'Timestamp when reservation was released'
{"timestamp": "2026-01-17T06:24:43.203004+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.released_at IS 'Timestamp when reservation was released'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,203 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.203076+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,203 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.cancel_reason IS 'Reason for cancellation (input_error, wrong_quantity, etc.)'
{"timestamp": "2026-01-17T06:24:43.203338+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.cancel_reason IS 'Reason for cancellation (input_error, wrong_quantity, etc.)'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,203 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.203405+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,203 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.cancel_note IS 'Additional notes for cancellation'
{"timestamp": "2026-01-17T06:24:43.203662+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.cancel_note IS 'Additional notes for cancellation'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,203 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.203721+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,203 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.cancelled_by IS 'User who cancelled the reservation'
{"timestamp": "2026-01-17T06:24:43.203974+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.cancelled_by IS 'User who cancelled the reservation'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,204 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.204036+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,204 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.sap_document_no IS 'SAP document number (set on successful SAP registration)'
{"timestamp": "2026-01-17T06:24:43.204278+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.sap_document_no IS 'SAP document number (set on successful SAP registration)'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,204 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.204334+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,204 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN lot_reservations.sap_registered_at IS 'Timestamp when reservation was registered in SAP'
{"timestamp": "2026-01-17T06:24:43.204601+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN lot_reservations.sap_registered_at IS 'Timestamp when reservation was registered in SAP'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,204 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.204682+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,205 INFO sqlalchemy.engine.Engine 
CREATE TABLE withdrawals (
	id BIGSERIAL NOT NULL, 
	lot_id BIGINT, 
	quantity NUMERIC(15, 3), 
	withdrawal_type VARCHAR(20) NOT NULL, 
	customer_id BIGINT, 
	delivery_place_id BIGINT, 
	ship_date DATE NOT NULL, 
	due_date DATE NOT NULL, 
	planned_ship_date DATE, 
	reason TEXT, 
	reference_number VARCHAR(100), 
	withdrawn_by BIGINT, 
	withdrawn_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	cancelled_at TIMESTAMP WITHOUT TIME ZONE, 
	cancelled_by BIGINT, 
	cancel_reason VARCHAR(50), 
	cancel_note TEXT, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_withdrawals_quantity CHECK (quantity > 0), 
	CONSTRAINT chk_withdrawals_type CHECK (withdrawal_type IN ('order_manual','internal_use','disposal','return','sample','other')), 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT, 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE RESTRICT, 
	FOREIGN KEY(withdrawn_by) REFERENCES users (id) ON DELETE RESTRICT, 
	FOREIGN KEY(cancelled_by) REFERENCES users (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.205178+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE withdrawals (\n\tid BIGSERIAL NOT NULL, \n\tlot_id BIGINT, \n\tquantity NUMERIC(15, 3), \n\twithdrawal_type VARCHAR(20) NOT NULL, \n\tcustomer_id BIGINT, \n\tdelivery_place_id BIGINT, \n\tship_date DATE NOT NULL, \n\tdue_date DATE NOT NULL, \n\tplanned_ship_date DATE, \n\treason TEXT, \n\treference_number VARCHAR(100), \n\twithdrawn_by BIGINT, \n\twithdrawn_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tcancelled_at TIMESTAMP WITHOUT TIME ZONE, \n\tcancelled_by BIGINT, \n\tcancel_reason VARCHAR(50), \n\tcancel_note TEXT, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_withdrawals_quantity CHECK (quantity > 0), \n\tCONSTRAINT chk_withdrawals_type CHECK (withdrawal_type IN ('order_manual','internal_use','disposal','return','sample','other')), \n\tFOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(withdrawn_by) REFERENCES users (id) ON DELETE RESTRICT, \n\tFOREIGN KEY(cancelled_by) REFERENCES users (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,205 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.205255+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,208 INFO sqlalchemy.engine.Engine CREATE INDEX idx_withdrawals_lot ON withdrawals (lot_id)
{"timestamp": "2026-01-17T06:24:43.208452+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_withdrawals_lot ON withdrawals (lot_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,208 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
{"timestamp": "2026-01-17T06:24:43.208540+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00011s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,208 INFO sqlalchemy.engine.Engine CREATE INDEX idx_withdrawals_type ON withdrawals (withdrawal_type)
{"timestamp": "2026-01-17T06:24:43.208979+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_withdrawals_type ON withdrawals (withdrawal_type)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,209 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.209040+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,209 INFO sqlalchemy.engine.Engine CREATE INDEX idx_withdrawals_due_date ON withdrawals (due_date)
{"timestamp": "2026-01-17T06:24:43.209504+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_withdrawals_due_date ON withdrawals (due_date)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,209 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.209563+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,209 INFO sqlalchemy.engine.Engine CREATE INDEX idx_withdrawals_customer ON withdrawals (customer_id)
{"timestamp": "2026-01-17T06:24:43.209996+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_withdrawals_customer ON withdrawals (customer_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,210 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.210052+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,210 INFO sqlalchemy.engine.Engine CREATE INDEX idx_withdrawals_date ON withdrawals (ship_date)
{"timestamp": "2026-01-17T06:24:43.210466+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_withdrawals_date ON withdrawals (ship_date)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,210 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.210524+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,210 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN withdrawals.lot_id IS ': withdrawal_lines '
{"timestamp": "2026-01-17T06:24:43.210940+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN withdrawals.lot_id IS '\u30ec\u30ac\u30b7\u30fc: withdrawal_lines \u79fb\u884c\u5f8c\u306f\u672a\u4f7f\u7528'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,210 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.210996+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,211 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN withdrawals.quantity IS ': withdrawal_lines '
{"timestamp": "2026-01-17T06:24:43.211254+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN withdrawals.quantity IS '\u30ec\u30ac\u30b7\u30fc: withdrawal_lines \u79fb\u884c\u5f8c\u306f\u672a\u4f7f\u7528'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,211 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.211321+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,211 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN withdrawals.due_date IS ''
{"timestamp": "2026-01-17T06:24:43.211621+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN withdrawals.due_date IS '\u7d0d\u671f\uff08\u5fc5\u9808\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,211 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.211684+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,211 INFO sqlalchemy.engine.Engine COMMENT ON COLUMN withdrawals.planned_ship_date IS 'LT'
{"timestamp": "2026-01-17T06:24:43.211939+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON COLUMN withdrawals.planned_ship_date IS '\u4e88\u5b9a\u51fa\u8377\u65e5\uff08\u4efb\u610f\u3001LT\u8a08\u7b97\u7528\uff09'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,211 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.211999+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,212 INFO sqlalchemy.engine.Engine 
CREATE TABLE withdrawal_lines (
	id BIGSERIAL NOT NULL, 
	withdrawal_id BIGINT NOT NULL, 
	lot_receipt_id BIGINT NOT NULL, 
	quantity NUMERIC(15, 3) NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_withdrawal_lines_quantity CHECK (quantity > 0), 
	FOREIGN KEY(withdrawal_id) REFERENCES withdrawals (id) ON DELETE CASCADE, 
	FOREIGN KEY(lot_receipt_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT
)


{"timestamp": "2026-01-17T06:24:43.212365+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nCREATE TABLE withdrawal_lines (\n\tid BIGSERIAL NOT NULL, \n\twithdrawal_id BIGINT NOT NULL, \n\tlot_receipt_id BIGINT NOT NULL, \n\tquantity NUMERIC(15, 3) NOT NULL, \n\tcreated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, \n\tPRIMARY KEY (id), \n\tCONSTRAINT chk_withdrawal_lines_quantity CHECK (quantity > 0), \n\tFOREIGN KEY(withdrawal_id) REFERENCES withdrawals (id) ON DELETE CASCADE, \n\tFOREIGN KEY(lot_receipt_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT\n)\n\n", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,212 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.212433+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,213 INFO sqlalchemy.engine.Engine CREATE INDEX idx_withdrawal_lines_receipt_date ON withdrawal_lines (lot_receipt_id, created_at)
{"timestamp": "2026-01-17T06:24:43.213596+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_withdrawal_lines_receipt_date ON withdrawal_lines (lot_receipt_id, created_at)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,213 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.213656+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,214 INFO sqlalchemy.engine.Engine CREATE INDEX idx_withdrawal_lines_lot_receipt ON withdrawal_lines (lot_receipt_id)
{"timestamp": "2026-01-17T06:24:43.214111+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_withdrawal_lines_lot_receipt ON withdrawal_lines (lot_receipt_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,214 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.214173+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,214 INFO sqlalchemy.engine.Engine CREATE INDEX idx_withdrawal_lines_withdrawal ON withdrawal_lines (withdrawal_id)
{"timestamp": "2026-01-17T06:24:43.214592+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "CREATE INDEX idx_withdrawal_lines_withdrawal ON withdrawal_lines (withdrawal_id)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,214 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.214651+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,215 INFO sqlalchemy.engine.Engine COMMENT ON TABLE withdrawal_lines IS ' - receipt'
{"timestamp": "2026-01-17T06:24:43.215027+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMENT ON TABLE withdrawal_lines IS '\u51fa\u5eab\u660e\u7d30 - \u3069\u306ereceipt\u304b\u3089\u4f55\u500b\u51fa\u5eab\u3057\u305f\u304b'", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,215 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.215084+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,215 INFO sqlalchemy.engine.Engine COMMIT
{"timestamp": "2026-01-17T06:24:43.215343+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMIT", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2716", "function": "_connection_commit_impl", "environment": "development"}
2026-01-17 15:24:43,250 INFO sqlalchemy.engine.Engine BEGIN (implicit)
{"timestamp": "2026-01-17T06:24:43.250820+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2710", "function": "_connection_begin_impl", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.252042+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\ude80 \u30ed\u30c3\u30c8\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0 v2.0.0 \u3092\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059...", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:145", "function": "lifespan", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.252161+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\udce6 \u74b0\u5883: development", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:146", "function": "lifespan", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.252215+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\udcbe \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9: postgresql://admin:dev_password@localhost:5432/lot_management", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:147", "function": "lifespan", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.252270+00:00", "level": "INFO", "name": "app.core.database", "message": "\u23ed\ufe0f init_db: skipping Alembic migrations (handled manually via SQL)", "logger": "app.core.database", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/core/database.py:103", "function": "init_db", "environment": "development"}
------------------------------ Captured log setup ------------------------------
INFO     sqlalchemy.engine.Engine:base.py:1846 select pg_catalog.version()
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 select current_schema()
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 show standard_conforming_strings
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] {}
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00015s] {'table_name': 'user_supplier_assignments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.003507s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.004714s ago] {'table_name': 'roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.005796s ago] {'table_name': 'user_roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.006562s ago] {'table_name': 'cloud_flow_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.007315s ago] {'table_name': 'cloud_flow_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.00806s ago] {'table_name': 'forecast_current', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.008956s ago] {'table_name': 'forecast_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.00965s ago] {'table_name': 'inbound_plans', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.01044s ago] {'table_name': 'inbound_plan_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.01138s ago] {'table_name': 'expected_lots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.01254s ago] {'table_name': 'lot_receipts', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.0134s ago] {'table_name': 'stock_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.01421s ago] {'table_name': 'adjustments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.0153s ago] {'table_name': 'allocation_suggestions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.01693s ago] {'table_name': 'allocation_traces', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.01769s ago] {'table_name': 'layer_code_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.01853s ago] {'table_name': 'operation_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.01937s ago] {'table_name': 'master_change_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.0201s ago] {'table_name': 'business_rules', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02083s ago] {'table_name': 'batch_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.0215s ago] {'table_name': 'lot_master', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02225s ago] {'table_name': 'lot_reservation_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02323s ago] {'table_name': 'lot_reservations', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02412s ago] {'table_name': 'warehouses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02484s ago] {'table_name': 'suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02546s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02611s ago] {'table_name': 'delivery_places', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02678s ago] {'table_name': 'products', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02752s ago] {'table_name': 'customer_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.0285s ago] {'table_name': 'product_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02931s ago] {'table_name': 'product_uom_conversions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.02995s ago] {'table_name': 'customer_item_jiku_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03048s ago] {'table_name': 'customer_item_delivery_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.0309s ago] {'table_name': 'warehouse_delivery_routes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03138s ago] {'table_name': 'missing_mapping_events', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03183s ago] {'table_name': 'order_groups', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03225s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03267s ago] {'table_name': 'order_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.0331s ago] {'table_name': 'product_suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03349s ago] {'table_name': 'product_warehouse', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03394s ago] {'table_name': 'rpa_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03438s ago] {'table_name': 'rpa_run_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03482s ago] {'table_name': 'seed_snapshots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03526s ago] {'table_name': 'smartread_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03575s ago] {'table_name': 'system_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03618s ago] {'table_name': 'system_client_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03676s ago] {'table_name': 'withdrawal_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.03757s ago] {'table_name': 'withdrawals', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE users (
	id BIGSERIAL NOT NULL, 
	username VARCHAR(50) NOT NULL, 
	email VARCHAR(255) NOT NULL, 
	auth_provider VARCHAR(50) DEFAULT 'local' NOT NULL, 
	azure_object_id VARCHAR(100), 
	password_hash VARCHAR(255), 
	display_name VARCHAR(100) NOT NULL, 
	is_active BOOLEAN DEFAULT true NOT NULL, 
	last_login_at TIMESTAMP WITHOUT TIME ZONE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_users_username UNIQUE (username), 
	CONSTRAINT uq_users_email UNIQUE (email), 
	CONSTRAINT uq_users_azure_object_id UNIQUE (azure_object_id), 
	UNIQUE (azure_object_id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_users_email ON users (email)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_users_username ON users (username)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_users_auth_provider ON users (auth_provider)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_users_active ON users (is_active) WHERE is_active = TRUE
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE roles (
	id BIGSERIAL NOT NULL, 
	role_code VARCHAR(50) NOT NULL, 
	role_name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_roles_role_code UNIQUE (role_code)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE cloud_flow_configs (
	id BIGSERIAL NOT NULL, 
	config_key VARCHAR(100) NOT NULL, 
	config_value TEXT NOT NULL, 
	description TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (config_key)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE forecast_history (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	forecast_date DATE NOT NULL, 
	forecast_quantity NUMERIC NOT NULL, 
	unit VARCHAR, 
	forecast_period VARCHAR(7) NOT NULL, 
	snapshot_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	archived_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_forecast_history_key ON forecast_history (customer_id, delivery_place_id, product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE layer_code_mappings (
	layer_code VARCHAR(50) NOT NULL, 
	maker_name VARCHAR(100) NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (layer_code)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_layer_code_mappings_maker ON layer_code_mappings (maker_name)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE business_rules (
	id BIGSERIAL NOT NULL, 
	rule_code VARCHAR(50) NOT NULL, 
	rule_name VARCHAR(100) NOT NULL, 
	rule_type VARCHAR(50) NOT NULL, 
	rule_parameters JSONB NOT NULL, 
	is_active BOOLEAN DEFAULT true NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_business_rules_type CHECK (rule_type IN ('allocation', 'expiry_warning', 'kanban', 'inventory_sync_alert', 'other')), 
	CONSTRAINT uq_business_rules_rule_code UNIQUE (rule_code), 
	UNIQUE (rule_code)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_business_rules_active ON business_rules (is_active) WHERE is_active = TRUE
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_business_rules_type ON business_rules (rule_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE batch_jobs (
	id BIGSERIAL NOT NULL, 
	job_name VARCHAR(100) NOT NULL, 
	job_type VARCHAR(50) NOT NULL, 
	status VARCHAR(20) DEFAULT 'pending' NOT NULL, 
	parameters JSONB, 
	result_message TEXT, 
	started_at TIMESTAMP WITHOUT TIME ZONE, 
	completed_at TIMESTAMP WITHOUT TIME ZONE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_batch_jobs_status CHECK (status IN ('pending', 'running', 'completed', 'failed')), 
	CONSTRAINT chk_batch_jobs_type CHECK (job_type IN ('allocation_suggestion', 'allocation_finalize', 'inventory_sync', 'data_import', 'report_generation'))
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_batch_jobs_created ON batch_jobs (created_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_batch_jobs_status ON batch_jobs (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_batch_jobs_type ON batch_jobs (job_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE lot_reservation_history (
	id BIGSERIAL NOT NULL, 
	reservation_id BIGINT NOT NULL, 
	operation VARCHAR(10) NOT NULL, 
	lot_id BIGINT, 
	source_type VARCHAR(20), 
	source_id BIGINT, 
	reserved_qty NUMERIC(15, 3), 
	status VARCHAR(20), 
	sap_document_no VARCHAR(20), 
	old_lot_id BIGINT, 
	old_source_type VARCHAR(20), 
	old_source_id BIGINT, 
	old_reserved_qty NUMERIC(15, 3), 
	old_status VARCHAR(20), 
	old_sap_document_no VARCHAR(20), 
	changed_by VARCHAR(100), 
	changed_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	change_reason VARCHAR(255), 
	PRIMARY KEY (id), 
	CONSTRAINT chk_lot_reservation_history_operation CHECK (operation IN ('INSERT', 'UPDATE', 'DELETE'))
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_reservation_history_lot ON lot_reservation_history (lot_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_reservation_history_reservation ON lot_reservation_history (reservation_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_reservation_history_changed_at ON lot_reservation_history (changed_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE warehouses (
	id BIGSERIAL NOT NULL, 
	warehouse_code VARCHAR(50) NOT NULL, 
	warehouse_name VARCHAR(200) NOT NULL, 
	warehouse_type VARCHAR(20) NOT NULL, 
	default_transport_lead_time_days INTEGER, 
	short_name VARCHAR(50), 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_warehouses_warehouse_code UNIQUE (warehouse_code), 
	CONSTRAINT chk_warehouse_type CHECK (warehouse_type IN ('internal', 'external', 'supplier'))
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_warehouses_valid_to ON warehouses (valid_to)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_warehouses_type ON warehouses (warehouse_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN warehouses.default_transport_lead_time_days IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN warehouses.short_name IS 'UI'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00029s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE suppliers (
	id BIGSERIAL NOT NULL, 
	supplier_code VARCHAR(50) NOT NULL, 
	supplier_name VARCHAR(200) NOT NULL, 
	short_name VARCHAR(50), 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_suppliers_supplier_code UNIQUE (supplier_code)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_suppliers_valid_to ON suppliers (valid_to)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN suppliers.short_name IS 'UI'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE customers (
	id BIGSERIAL NOT NULL, 
	customer_code VARCHAR(50) NOT NULL, 
	customer_name VARCHAR(200) NOT NULL, 
	address VARCHAR(500), 
	contact_name VARCHAR(100), 
	phone VARCHAR(50), 
	email VARCHAR(200), 
	short_name VARCHAR(50), 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_customers_customer_code UNIQUE (customer_code)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_customers_valid_to ON customers (valid_to)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customers.short_name IS 'UI'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE products (
	id BIGSERIAL NOT NULL, 
	maker_part_code VARCHAR(100) NOT NULL, 
	product_name VARCHAR(200) NOT NULL, 
	base_unit VARCHAR(20) NOT NULL, 
	consumption_limit_days INTEGER, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	internal_unit VARCHAR(20) DEFAULT 'CAN' NOT NULL, 
	external_unit VARCHAR(20) DEFAULT 'KG' NOT NULL, 
	qty_per_internal_unit NUMERIC(10, 4) DEFAULT '1.0' NOT NULL, 
	customer_part_no VARCHAR(100), 
	maker_item_code VARCHAR(100), 
	PRIMARY KEY (id), 
	CONSTRAINT uq_products_maker_part_code UNIQUE (maker_part_code)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_products_valid_to ON products (valid_to)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_products_name ON products (product_name)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN products.customer_part_no IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN products.maker_item_code IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE seed_snapshots (
	id SERIAL NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	created_at TIMESTAMP WITH TIME ZONE NOT NULL, 
	params_json JSONB NOT NULL, 
	profile_json JSONB, 
	csv_dir TEXT, 
	summary_json JSONB, 
	PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN seed_snapshots.name IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN seed_snapshots.created_at IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN seed_snapshots.params_json IS 'profile'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN seed_snapshots.profile_json IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN seed_snapshots.csv_dir IS 'CSV'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN seed_snapshots.summary_json IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE smartread_configs (
	id BIGSERIAL NOT NULL, 
	endpoint TEXT NOT NULL, 
	api_key TEXT NOT NULL, 
	template_ids TEXT, 
	export_type VARCHAR(20) NOT NULL, 
	aggregation_type VARCHAR(50), 
	watch_dir TEXT, 
	export_dir TEXT, 
	input_exts VARCHAR(100), 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE system_configs (
	id BIGSERIAL NOT NULL, 
	config_key VARCHAR(100) NOT NULL, 
	config_value TEXT NOT NULL, 
	description TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_system_configs_key UNIQUE (config_key)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_system_configs_key ON system_configs (config_key)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE user_supplier_assignments (
	id BIGSERIAL NOT NULL, 
	user_id BIGINT NOT NULL, 
	supplier_id BIGINT NOT NULL, 
	is_primary BOOLEAN DEFAULT FALSE NOT NULL, 
	assigned_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_user_supplier_assignments_user_supplier UNIQUE (user_id, supplier_id), 
	FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_user_supplier_assignments_user ON user_supplier_assignments (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX uq_user_supplier_primary_per_supplier ON user_supplier_assignments (supplier_id) WHERE is_primary = TRUE
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_user_supplier_assignments_supplier ON user_supplier_assignments (supplier_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_user_supplier_assignments_primary ON user_supplier_assignments (is_primary) WHERE is_primary = TRUE
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE user_roles (
	user_id BIGINT NOT NULL, 
	role_id BIGINT NOT NULL, 
	assigned_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (user_id, role_id), 
	FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, 
	FOREIGN KEY(role_id) REFERENCES roles (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_user_roles_user ON user_roles (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_user_roles_role ON user_roles (role_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE cloud_flow_jobs (
	id BIGSERIAL NOT NULL, 
	job_type VARCHAR(50) NOT NULL, 
	status VARCHAR(30) DEFAULT 'pending' NOT NULL, 
	start_date DATE NOT NULL, 
	end_date DATE NOT NULL, 
	requested_by_user_id BIGINT, 
	requested_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	started_at TIMESTAMP WITHOUT TIME ZONE, 
	completed_at TIMESTAMP WITHOUT TIME ZONE, 
	result_message TEXT, 
	error_message TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(requested_by_user_id) REFERENCES users (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_cloud_flow_jobs_status ON cloud_flow_jobs (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_cloud_flow_jobs_type ON cloud_flow_jobs (job_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_cloud_flow_jobs_requested_at ON cloud_flow_jobs (requested_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE inbound_plans (
	id BIGSERIAL NOT NULL, 
	plan_number VARCHAR(50) NOT NULL, 
	sap_po_number VARCHAR(20), 
	supplier_id BIGINT NOT NULL, 
	planned_arrival_date DATE NOT NULL, 
	status VARCHAR(20) DEFAULT 'planned' NOT NULL, 
	notes TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_inbound_plans_plan_number UNIQUE (plan_number), 
	CONSTRAINT uq_inbound_plans_sap_po_number UNIQUE (sap_po_number), 
	CONSTRAINT chk_inbound_plans_status CHECK (status IN ('planned','partially_received','received','cancelled')), 
	UNIQUE (sap_po_number), 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_inbound_plans_date ON inbound_plans (planned_arrival_date)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_inbound_plans_supplier ON inbound_plans (supplier_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_inbound_plans_status ON inbound_plans (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN inbound_plans.sap_po_number IS 'SAP'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE operation_logs (
	id BIGSERIAL NOT NULL, 
	user_id BIGINT, 
	operation_type VARCHAR(50) NOT NULL, 
	target_table VARCHAR(50) NOT NULL, 
	target_id BIGINT, 
	changes JSONB, 
	ip_address VARCHAR(50), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_operation_logs_type CHECK (operation_type IN ('create', 'update', 'delete', 'login', 'logout', 'export')), 
	FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_operation_logs_created ON operation_logs (created_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_operation_logs_type ON operation_logs (operation_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_operation_logs_user ON operation_logs (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_operation_logs_table ON operation_logs (target_table)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE master_change_logs (
	id BIGSERIAL NOT NULL, 
	table_name VARCHAR(50) NOT NULL, 
	record_id BIGINT NOT NULL, 
	change_type VARCHAR(20) NOT NULL, 
	old_values JSONB, 
	new_values JSONB, 
	changed_by BIGINT NOT NULL, 
	changed_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_master_change_logs_type CHECK (change_type IN ('insert', 'update', 'delete')), 
	FOREIGN KEY(changed_by) REFERENCES users (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_master_change_logs_user ON master_change_logs (changed_by)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_master_change_logs_table ON master_change_logs (table_name)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_master_change_logs_record ON master_change_logs (record_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_master_change_logs_changed ON master_change_logs (changed_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE lot_master (
	id BIGSERIAL NOT NULL, 
	lot_number VARCHAR(100) NOT NULL, 
	product_id BIGINT NOT NULL, 
	supplier_id BIGINT, 
	total_quantity NUMERIC(15, 3) DEFAULT 0 NOT NULL, 
	first_receipt_date DATE, 
	latest_expiry_date DATE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_lot_master_number_product UNIQUE (lot_number, product_id), 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_master_supplier ON lot_master (supplier_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_master_product ON lot_master (product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_master_lot_number ON lot_master (lot_number)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON TABLE lot_master IS ' - '
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_master.lot_number IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_master.total_quantity IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_master.first_receipt_date IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_master.latest_expiry_date IS 'receipt'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE delivery_places (
	id BIGSERIAL NOT NULL, 
	jiku_code VARCHAR(50) DEFAULT '' NOT NULL, 
	delivery_place_code VARCHAR(50) NOT NULL, 
	delivery_place_name VARCHAR(200) NOT NULL, 
	customer_id BIGINT NOT NULL, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_delivery_places_code UNIQUE (delivery_place_code), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_delivery_places_valid_to ON delivery_places (valid_to)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_delivery_places_customer ON delivery_places (customer_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE customer_items (
	customer_id BIGINT NOT NULL, 
	external_product_code VARCHAR(100) NOT NULL, 
	product_id BIGINT NOT NULL, 
	supplier_id BIGINT, 
	base_unit VARCHAR(20) NOT NULL, 
	pack_unit VARCHAR(20), 
	pack_quantity INTEGER, 
	special_instructions TEXT, 
	shipping_document_template TEXT, 
	sap_notes TEXT, 
	maker_part_no VARCHAR(100), 
	order_category VARCHAR(50), 
	is_procurement_required BOOLEAN DEFAULT true NOT NULL, 
	shipping_slip_text TEXT, 
	ocr_conversion_notes TEXT, 
	sap_supplier_code VARCHAR(50), 
	sap_warehouse_code VARCHAR(50), 
	sap_shipping_warehouse VARCHAR(50), 
	sap_uom VARCHAR(20), 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (customer_id, external_product_code), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_customer_items_supplier ON customer_items (supplier_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_customer_items_product ON customer_items (product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_customer_items_valid_to ON customer_items (valid_to)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_customer_items_order_category ON customer_items (order_category)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_items.maker_part_no IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_items.order_category IS '/'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_items.is_procurement_required IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_items.shipping_slip_text IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_items.ocr_conversion_notes IS 'OCR'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_items.sap_supplier_code IS 'SAP'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_items.sap_warehouse_code IS 'SAP'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_items.sap_shipping_warehouse IS 'SAP'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_items.sap_uom IS 'SAP'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE product_mappings (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	customer_part_code VARCHAR(100) NOT NULL, 
	supplier_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	base_unit VARCHAR(20) NOT NULL, 
	pack_unit VARCHAR(20), 
	pack_quantity INTEGER, 
	special_instructions TEXT, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_product_mappings_cust_part_supp UNIQUE (customer_id, customer_part_code, supplier_id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE CASCADE, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_product_mappings_product ON product_mappings (product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_product_mappings_valid_to ON product_mappings (valid_to)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_product_mappings_supplier ON product_mappings (supplier_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_product_mappings_customer ON product_mappings (customer_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE product_uom_conversions (
	conversion_id BIGSERIAL NOT NULL, 
	product_id BIGINT NOT NULL, 
	external_unit VARCHAR(20) NOT NULL, 
	factor NUMERIC(15, 3) NOT NULL, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (conversion_id), 
	CONSTRAINT uq_uom_conversions_product_unit UNIQUE (product_id, external_unit), 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_product_uom_conversions_valid_to ON product_uom_conversions (valid_to)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE missing_mapping_events (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT, 
	product_id BIGINT, 
	supplier_id BIGINT, 
	event_type VARCHAR(50) NOT NULL, 
	occurred_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	context_json JSONB, 
	created_by BIGINT, 
	resolved_at TIMESTAMP WITHOUT TIME ZONE, 
	resolved_by BIGINT, 
	resolution_note TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE SET NULL, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE SET NULL, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL, 
	FOREIGN KEY(created_by) REFERENCES users (id) ON DELETE SET NULL, 
	FOREIGN KEY(resolved_by) REFERENCES users (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_missing_mapping_events_customer ON missing_mapping_events (customer_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_missing_mapping_events_product ON missing_mapping_events (product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_missing_mapping_events_occurred ON missing_mapping_events (occurred_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_missing_mapping_events_unresolved ON missing_mapping_events (event_type, occurred_at) WHERE resolved_at IS NULL
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON TABLE missing_mapping_events IS ' - '
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN missing_mapping_events.event_type IS ': delivery_place_not_found, jiku_mapping_not_found '
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN missing_mapping_events.context_json IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN missing_mapping_events.resolved_at IS 'NULL = '
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE order_groups (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	order_date DATE NOT NULL, 
	source_file_name VARCHAR(255), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_order_groups_business_key UNIQUE (customer_id, product_id, order_date), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_groups_customer ON order_groups (customer_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_groups_product ON order_groups (product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_groups_date ON order_groups (order_date)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_groups.source_file_name IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE orders (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	order_date DATE NOT NULL, 
	status VARCHAR(20) DEFAULT 'open' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	locked_by_user_id INTEGER, 
	locked_at TIMESTAMP WITHOUT TIME ZONE, 
	lock_expires_at TIMESTAMP WITHOUT TIME ZONE, 
	ocr_source_filename VARCHAR(255), 
	cancel_reason VARCHAR(255), 
	PRIMARY KEY (id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, 
	FOREIGN KEY(locked_by_user_id) REFERENCES users (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_orders_locked_by ON orders (locked_by_user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_orders_lock_expires ON orders (lock_expires_at) WHERE lock_expires_at IS NOT NULL
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_orders_customer ON orders (customer_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_orders_date ON orders (order_date)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN orders.ocr_source_filename IS 'OCR'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN orders.cancel_reason IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE product_suppliers (
	id BIGSERIAL NOT NULL, 
	product_id BIGINT NOT NULL, 
	supplier_id BIGINT NOT NULL, 
	is_primary BOOLEAN NOT NULL, 
	lead_time_days INTEGER, 
	valid_to DATE DEFAULT '9999-12-31' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT uq_product_supplier UNIQUE (product_id, supplier_id), 
	FOREIGN KEY(product_id) REFERENCES products (id), 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX uq_product_primary_supplier ON product_suppliers (product_id) WHERE is_primary = true
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_product_suppliers_valid_to ON product_suppliers (valid_to)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE product_warehouse (
	product_id BIGINT NOT NULL, 
	warehouse_id BIGINT NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (product_id, warehouse_id), 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE, 
	FOREIGN KEY(warehouse_id) REFERENCES warehouses (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE rpa_runs (
	id BIGSERIAL NOT NULL, 
	rpa_type VARCHAR(50) DEFAULT 'material_delivery_note' NOT NULL, 
	status VARCHAR(30) DEFAULT 'downloaded' NOT NULL, 
	data_start_date DATE, 
	data_end_date DATE, 
	started_at TIMESTAMP WITHOUT TIME ZONE, 
	started_by_user_id BIGINT, 
	step2_executed_at TIMESTAMP WITHOUT TIME ZONE, 
	step2_executed_by_user_id BIGINT, 
	external_done_at TIMESTAMP WITHOUT TIME ZONE, 
	external_done_by_user_id BIGINT, 
	step4_executed_at TIMESTAMP WITHOUT TIME ZONE, 
	customer_id BIGINT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(started_by_user_id) REFERENCES users (id) ON DELETE SET NULL, 
	FOREIGN KEY(step2_executed_by_user_id) REFERENCES users (id) ON DELETE SET NULL, 
	FOREIGN KEY(external_done_by_user_id) REFERENCES users (id) ON DELETE SET NULL, 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_rpa_runs_type ON rpa_runs (rpa_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_rpa_runs_status ON rpa_runs (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_rpa_runs_created_at ON rpa_runs (created_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_rpa_runs_customer_id ON rpa_runs (customer_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE system_client_logs (
	id BIGSERIAL NOT NULL, 
	user_id BIGINT, 
	level VARCHAR(20) DEFAULT 'info' NOT NULL, 
	message TEXT NOT NULL, 
	user_agent VARCHAR(255), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_system_client_logs_user_id ON system_client_logs (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_system_client_logs_created_at ON system_client_logs (created_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE forecast_current (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	forecast_date DATE NOT NULL, 
	forecast_quantity NUMERIC(15, 3) NOT NULL, 
	unit VARCHAR, 
	forecast_period VARCHAR(7) NOT NULL, 
	snapshot_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE RESTRICT, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ux_forecast_current_unique ON forecast_current (customer_id, delivery_place_id, product_id, forecast_date, forecast_period)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_forecast_current_unique ON forecast_current (customer_id, delivery_place_id, product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE inbound_plan_lines (
	id BIGSERIAL NOT NULL, 
	inbound_plan_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	planned_quantity NUMERIC(15, 3) NOT NULL, 
	unit VARCHAR(20) NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(inbound_plan_id) REFERENCES inbound_plans (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_inbound_plan_lines_product ON inbound_plan_lines (product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_inbound_plan_lines_plan ON inbound_plan_lines (inbound_plan_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE customer_item_jiku_mappings (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	external_product_code VARCHAR(100) NOT NULL, 
	jiku_code VARCHAR(50) NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	is_default BOOLEAN DEFAULT 'FALSE', 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP, 
	PRIMARY KEY (id), 
	CONSTRAINT fk_customer_item_jiku_mappings_customer_item FOREIGN KEY(customer_id, external_product_code) REFERENCES customer_items (customer_id, external_product_code) ON DELETE CASCADE, 
	CONSTRAINT uq_customer_item_jiku UNIQUE (customer_id, external_product_code, jiku_code), 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE customer_item_delivery_settings (
	id BIGSERIAL NOT NULL, 
	customer_id BIGINT NOT NULL, 
	external_product_code VARCHAR(100) NOT NULL, 
	delivery_place_id BIGINT, 
	jiku_code VARCHAR(50), 
	shipment_text TEXT, 
	packing_note TEXT, 
	lead_time_days INTEGER, 
	is_default BOOLEAN DEFAULT 'FALSE' NOT NULL, 
	valid_from DATE, 
	valid_to DATE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT fk_customer_item_delivery_settings_customer_item FOREIGN KEY(customer_id, external_product_code) REFERENCES customer_items (customer_id, external_product_code) ON DELETE CASCADE, 
	CONSTRAINT uq_customer_item_delivery_settings UNIQUE (customer_id, external_product_code, delivery_place_id, jiku_code), 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_cids_customer_item ON customer_item_delivery_settings (customer_id, external_product_code)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_cids_delivery_place ON customer_item_delivery_settings (delivery_place_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_cids_jiku_code ON customer_item_delivery_settings (jiku_code)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_item_delivery_settings.delivery_place_id IS 'NULL'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_item_delivery_settings.jiku_code IS 'NULL'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_item_delivery_settings.shipment_text IS 'SAP'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_item_delivery_settings.packing_note IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_item_delivery_settings.lead_time_days IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_item_delivery_settings.is_default IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_item_delivery_settings.valid_from IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN customer_item_delivery_settings.valid_to IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE warehouse_delivery_routes (
	id BIGSERIAL NOT NULL, 
	warehouse_id BIGINT NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	product_id BIGINT, 
	transport_lead_time_days INTEGER NOT NULL, 
	is_active BOOLEAN DEFAULT true NOT NULL, 
	notes TEXT, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(warehouse_id) REFERENCES warehouses (id) ON DELETE CASCADE, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_wdr_delivery_place ON warehouse_delivery_routes (delivery_place_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_wdr_product ON warehouse_delivery_routes (product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_wdr_active ON warehouse_delivery_routes (is_active)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_wdr_warehouse ON warehouse_delivery_routes (warehouse_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN warehouse_delivery_routes.product_id IS 'NULL'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN warehouse_delivery_routes.transport_lead_time_days IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN warehouse_delivery_routes.is_active IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN warehouse_delivery_routes.notes IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE order_lines (
	id BIGSERIAL NOT NULL, 
	order_id BIGINT NOT NULL, 
	order_group_id BIGINT, 
	product_id BIGINT, 
	external_product_code VARCHAR(100), 
	delivery_date DATE NOT NULL, 
	order_quantity NUMERIC(15, 3) NOT NULL, 
	unit VARCHAR(20) NOT NULL, 
	converted_quantity NUMERIC(15, 3), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	customer_order_no VARCHAR(6), 
	customer_order_line_no VARCHAR(10), 
	sap_order_no VARCHAR(20), 
	sap_order_item_no VARCHAR(6), 
	shipping_document_text TEXT, 
	order_type VARCHAR(20) DEFAULT 'ORDER' NOT NULL, 
	forecast_reference VARCHAR(100), 
	status VARCHAR(20) DEFAULT 'pending' NOT NULL, 
	version INTEGER DEFAULT 1 NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_order_lines_status CHECK (status IN ('pending', 'allocated', 'shipped', 'completed', 'cancelled', 'on_hold')), 
	CONSTRAINT chk_order_lines_order_type CHECK (order_type IN ('FORECAST_LINKED', 'KANBAN', 'SPOT', 'ORDER')), 
	CONSTRAINT uq_order_lines_customer_key UNIQUE (order_group_id, customer_order_no), 
	FOREIGN KEY(order_id) REFERENCES orders (id) ON DELETE CASCADE, 
	FOREIGN KEY(order_group_id) REFERENCES order_groups (id) ON DELETE SET NULL, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_sap_order_no ON order_lines (sap_order_no) WHERE sap_order_no IS NOT NULL
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_customer_order_no ON order_lines (customer_order_no) WHERE customer_order_no IS NOT NULL
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_forecast_reference ON order_lines (forecast_reference) WHERE forecast_reference IS NOT NULL
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_delivery_place ON order_lines (delivery_place_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_order_group ON order_lines (order_group_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_status ON order_lines (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_product ON order_lines (product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_order ON order_lines (order_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_order_type ON order_lines (order_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_order_lines_date ON order_lines (delivery_date)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.order_group_id IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.product_id IS 'IDOCRNULL'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.external_product_code IS 'OCR'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.customer_order_no IS '6'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.customer_order_line_no IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.sap_order_no IS 'SAP'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.sap_order_item_no IS 'SAP'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.shipping_document_text IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.order_type IS ': FORECAST_LINKED / KANBAN / SPOT / ORDER'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN order_lines.forecast_reference IS 'Forecast business key reference (replaces forecast_id FK)'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE rpa_run_items (
	id BIGSERIAL NOT NULL, 
	run_id BIGINT NOT NULL, 
	row_no INTEGER NOT NULL, 
	status VARCHAR(50), 
	jiku_code VARCHAR(50), 
	layer_code VARCHAR(50), 
	external_product_code VARCHAR(100), 
	delivery_date DATE, 
	delivery_quantity INTEGER, 
	shipping_vehicle VARCHAR(50), 
	issue_flag BOOLEAN DEFAULT false NOT NULL, 
	complete_flag BOOLEAN DEFAULT false NOT NULL, 
	match_result BOOLEAN, 
	sap_registered BOOLEAN, 
	order_no VARCHAR(100), 
	lock_flag BOOLEAN DEFAULT false NOT NULL, 
	item_no VARCHAR(100), 
	lot_no VARCHAR(100), 
	result_status VARCHAR(20), 
	processing_started_at TIMESTAMP WITHOUT TIME ZONE, 
	complement_customer_id BIGINT, 
	complement_external_product_code VARCHAR(100), 
	complement_match_type VARCHAR(10), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(run_id) REFERENCES rpa_runs (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_rpa_run_items_run_id ON rpa_run_items (run_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX idx_rpa_run_items_run_row ON rpa_run_items (run_id, row_no)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_rri_complement_master ON rpa_run_items (complement_customer_id, complement_external_product_code)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN rpa_run_items.complement_customer_id IS 'customer_id'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN rpa_run_items.complement_external_product_code IS 'external_product_code'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN rpa_run_items.complement_match_type IS 'exact: , prefix: '
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE expected_lots (
	id BIGSERIAL NOT NULL, 
	inbound_plan_line_id BIGINT NOT NULL, 
	expected_lot_number VARCHAR(100), 
	expected_quantity NUMERIC(15, 3) NOT NULL, 
	expected_expiry_date DATE, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(inbound_plan_line_id) REFERENCES inbound_plan_lines (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_expected_lots_line ON expected_lots (inbound_plan_line_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_expected_lots_number ON expected_lots (expected_lot_number)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE lot_receipts (
	id BIGSERIAL NOT NULL, 
	lot_master_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	warehouse_id BIGINT NOT NULL, 
	supplier_id BIGINT, 
	expected_lot_id BIGINT, 
	received_date DATE NOT NULL, 
	expiry_date DATE, 
	received_quantity NUMERIC(15, 3) DEFAULT 0 NOT NULL, 
	unit VARCHAR(20) NOT NULL, 
	status VARCHAR(20) DEFAULT 'active' NOT NULL, 
	lock_reason TEXT, 
	locked_quantity NUMERIC(15, 3) DEFAULT 0 NOT NULL, 
	inspection_status VARCHAR(20) DEFAULT 'not_required' NOT NULL, 
	inspection_date DATE, 
	inspection_cert_number VARCHAR(100), 
	shipping_date DATE, 
	cost_price NUMERIC(10, 2), 
	sales_price NUMERIC(10, 2), 
	tax_rate NUMERIC(5, 2), 
	version INTEGER DEFAULT 1 NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	origin_type VARCHAR(20) DEFAULT 'adhoc' NOT NULL, 
	origin_reference VARCHAR(255), 
	temporary_lot_key UUID, 
	receipt_key UUID DEFAULT gen_random_uuid() NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_lot_receipts_received_quantity CHECK (received_quantity >= 0), 
	CONSTRAINT chk_lot_receipts_locked_quantity CHECK (locked_quantity >= 0), 
	CONSTRAINT chk_lot_receipts_origin_type CHECK (origin_type IN ('order','forecast','sample','safety_stock','adhoc')), 
	CONSTRAINT uq_lot_receipts_receipt_key UNIQUE (receipt_key), 
	CONSTRAINT uq_lot_receipts_temporary_lot_key UNIQUE (temporary_lot_key), 
	FOREIGN KEY(lot_master_id) REFERENCES lot_master (id) ON DELETE RESTRICT, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE RESTRICT, 
	FOREIGN KEY(warehouse_id) REFERENCES warehouses (id) ON DELETE RESTRICT, 
	FOREIGN KEY(supplier_id) REFERENCES suppliers (id) ON DELETE SET NULL, 
	FOREIGN KEY(expected_lot_id) REFERENCES expected_lots (id) ON DELETE SET NULL, 
	UNIQUE (temporary_lot_key)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_receipts_fefo_allocation ON lot_receipts (product_id, warehouse_id, expiry_date, received_date, id) WHERE status = 'active' AND inspection_status IN ('not_required', 'passed')
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_receipts_lot_master_warehouse ON lot_receipts (lot_master_id, warehouse_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_receipts_supplier ON lot_receipts (supplier_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_receipts_expiry_date ON lot_receipts (expiry_date) WHERE expiry_date IS NOT NULL
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_receipts_warehouse ON lot_receipts (warehouse_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_receipts_status ON lot_receipts (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_receipts_temporary_lot_key ON lot_receipts (temporary_lot_key) WHERE temporary_lot_key IS NOT NULL
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_receipts_origin_type ON lot_receipts (origin_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_receipts_product_warehouse ON lot_receipts (product_id, warehouse_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_receipts.lot_master_id IS 'lot_masterFK'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_receipts.received_quantity IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_receipts.shipping_date IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_receipts.cost_price IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_receipts.sales_price IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_receipts.tax_rate IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_receipts.temporary_lot_key IS 'UUID'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_receipts.receipt_key IS 'UUIDNOT NULL'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE stock_history (
	id BIGSERIAL NOT NULL, 
	lot_id BIGINT NOT NULL, 
	transaction_type VARCHAR(20) NOT NULL, 
	quantity_change NUMERIC(15, 3) NOT NULL, 
	quantity_after NUMERIC(15, 3) NOT NULL, 
	reference_type VARCHAR(50), 
	reference_id BIGINT, 
	transaction_date TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_stock_history_type CHECK (transaction_type IN ('inbound','allocation','shipment','adjustment','return','allocation_hold','allocation_release','withdrawal')), 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_stock_history_lot ON stock_history (lot_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_stock_history_date ON stock_history (transaction_date)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_stock_history_type ON stock_history (transaction_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE adjustments (
	id BIGSERIAL NOT NULL, 
	lot_id BIGINT NOT NULL, 
	adjustment_type VARCHAR(20) NOT NULL, 
	adjusted_quantity NUMERIC(15, 3) NOT NULL, 
	reason TEXT NOT NULL, 
	adjusted_by BIGINT NOT NULL, 
	adjusted_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_adjustments_type CHECK (adjustment_type IN ('physical_count','damage','loss','found','other')), 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT, 
	FOREIGN KEY(adjusted_by) REFERENCES users (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_adjustments_date ON adjustments (adjusted_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_adjustments_lot ON adjustments (lot_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE allocation_suggestions (
	id BIGSERIAL NOT NULL, 
	order_line_id BIGINT, 
	forecast_period VARCHAR(7) NOT NULL, 
	forecast_id BIGINT, 
	customer_id BIGINT NOT NULL, 
	delivery_place_id BIGINT NOT NULL, 
	product_id BIGINT NOT NULL, 
	lot_id BIGINT NOT NULL, 
	quantity NUMERIC(15, 3) NOT NULL, 
	priority INTEGER DEFAULT 0 NOT NULL, 
	allocation_type VARCHAR(10) NOT NULL, 
	source VARCHAR(32) NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(forecast_id) REFERENCES forecast_current (id) ON DELETE CASCADE, 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE CASCADE, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES products (id) ON DELETE CASCADE, 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_allocation_suggestions_forecast ON allocation_suggestions (forecast_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_allocation_suggestions_customer ON allocation_suggestions (customer_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_allocation_suggestions_product ON allocation_suggestions (product_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_allocation_suggestions_period ON allocation_suggestions (forecast_period)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_allocation_suggestions_lot ON allocation_suggestions (lot_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE allocation_traces (
	id BIGSERIAL NOT NULL, 
	order_line_id BIGINT NOT NULL, 
	lot_id BIGINT, 
	score NUMERIC(15, 6), 
	decision VARCHAR(20) NOT NULL, 
	reason VARCHAR(255) NOT NULL, 
	allocated_qty NUMERIC(15, 3), 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_allocation_traces_decision CHECK (decision IN ('adopted', 'rejected', 'partial')), 
	FOREIGN KEY(order_line_id) REFERENCES order_lines (id) ON DELETE CASCADE, 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE CASCADE
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_allocation_traces_lot ON allocation_traces (lot_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_allocation_traces_order_line ON allocation_traces (order_line_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_allocation_traces_created_at ON allocation_traces (created_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE lot_reservations (
	id BIGSERIAL NOT NULL, 
	lot_id BIGINT NOT NULL, 
	source_type VARCHAR(20) NOT NULL, 
	source_id BIGINT, 
	reserved_qty NUMERIC(15, 3) NOT NULL, 
	status VARCHAR(20) DEFAULT 'active' NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE, 
	expires_at TIMESTAMP WITHOUT TIME ZONE, 
	confirmed_at TIMESTAMP WITHOUT TIME ZONE, 
	confirmed_by VARCHAR(50), 
	released_at TIMESTAMP WITHOUT TIME ZONE, 
	cancel_reason VARCHAR(50), 
	cancel_note VARCHAR(500), 
	cancelled_by VARCHAR(50), 
	sap_document_no VARCHAR(20), 
	sap_registered_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_lot_reservations_qty_positive CHECK (reserved_qty > 0), 
	CONSTRAINT chk_lot_reservations_source_type CHECK (source_type IN ('forecast', 'order', 'manual')), 
	CONSTRAINT chk_lot_reservations_status CHECK (status IN ('temporary', 'active', 'confirmed', 'released')), 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_reservations_source ON lot_reservations (source_type, source_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_reservations_expires_at ON lot_reservations (expires_at) WHERE expires_at IS NOT NULL
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_reservations_status ON lot_reservations (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_lot_reservations_lot_status ON lot_reservations (lot_id, status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.source_type IS 'Reservation source: ''forecast'' | ''order'' | ''manual'''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.source_id IS 'ID of the source entity (order_line_id, forecast_group_id, etc.)'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.reserved_qty IS 'Reserved quantity (must be positive)'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.status IS 'Reservation status: ''temporary'' | ''active'' | ''confirmed'' | ''released'''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.updated_at IS 'Timestamp of last update'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.expires_at IS 'Expiration time for temporary reservations'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.confirmed_at IS 'Timestamp when reservation was confirmed'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.confirmed_by IS 'User who confirmed the reservation'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.released_at IS 'Timestamp when reservation was released'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.cancel_reason IS 'Reason for cancellation (input_error, wrong_quantity, etc.)'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.cancel_note IS 'Additional notes for cancellation'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.cancelled_by IS 'User who cancelled the reservation'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.sap_document_no IS 'SAP document number (set on successful SAP registration)'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN lot_reservations.sap_registered_at IS 'Timestamp when reservation was registered in SAP'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE withdrawals (
	id BIGSERIAL NOT NULL, 
	lot_id BIGINT, 
	quantity NUMERIC(15, 3), 
	withdrawal_type VARCHAR(20) NOT NULL, 
	customer_id BIGINT, 
	delivery_place_id BIGINT, 
	ship_date DATE NOT NULL, 
	due_date DATE NOT NULL, 
	planned_ship_date DATE, 
	reason TEXT, 
	reference_number VARCHAR(100), 
	withdrawn_by BIGINT, 
	withdrawn_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	cancelled_at TIMESTAMP WITHOUT TIME ZONE, 
	cancelled_by BIGINT, 
	cancel_reason VARCHAR(50), 
	cancel_note TEXT, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_withdrawals_quantity CHECK (quantity > 0), 
	CONSTRAINT chk_withdrawals_type CHECK (withdrawal_type IN ('order_manual','internal_use','disposal','return','sample','other')), 
	FOREIGN KEY(lot_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT, 
	FOREIGN KEY(customer_id) REFERENCES customers (id) ON DELETE RESTRICT, 
	FOREIGN KEY(delivery_place_id) REFERENCES delivery_places (id) ON DELETE RESTRICT, 
	FOREIGN KEY(withdrawn_by) REFERENCES users (id) ON DELETE RESTRICT, 
	FOREIGN KEY(cancelled_by) REFERENCES users (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_withdrawals_lot ON withdrawals (lot_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_withdrawals_type ON withdrawals (withdrawal_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_withdrawals_due_date ON withdrawals (due_date)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_withdrawals_customer ON withdrawals (customer_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_withdrawals_date ON withdrawals (ship_date)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN withdrawals.lot_id IS ': withdrawal_lines '
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN withdrawals.quantity IS ': withdrawal_lines '
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN withdrawals.due_date IS ''
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON COLUMN withdrawals.planned_ship_date IS 'LT'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE withdrawal_lines (
	id BIGSERIAL NOT NULL, 
	withdrawal_id BIGINT NOT NULL, 
	lot_receipt_id BIGINT NOT NULL, 
	quantity NUMERIC(15, 3) NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CONSTRAINT chk_withdrawal_lines_quantity CHECK (quantity > 0), 
	FOREIGN KEY(withdrawal_id) REFERENCES withdrawals (id) ON DELETE CASCADE, 
	FOREIGN KEY(lot_receipt_id) REFERENCES lot_receipts (id) ON DELETE RESTRICT
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_withdrawal_lines_receipt_date ON withdrawal_lines (lot_receipt_id, created_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_withdrawal_lines_lot_receipt ON withdrawal_lines (lot_receipt_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX idx_withdrawal_lines_withdrawal ON withdrawal_lines (withdrawal_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 COMMENT ON TABLE withdrawal_lines IS ' - receipt'
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     app.main:main.py:145   v2.0.0 ...
INFO     app.main:main.py:146  : development
INFO     app.main:main.py:147  : postgresql://admin:dev_password@localhost:5432/lot_management
INFO     app.core.database:database.py:103  init_db: skipping Alembic migrations (handled manually via SQL)
----------------------------- Captured stdout call -----------------------------
{"timestamp": "2026-01-17T06:24:43.253325+00:00", "level": "INFO", "name": "app.middleware.logging", "message": "Request started", "method": "GET", "path": "/api/rpa/material-delivery-note/runs", "query_params": {}, "headers": {"host": "testserver", "accept": "*/*", "accept-encoding": "gzip, deflate", "connection": "keep-alive", "user-agent": "testclient"}, "client_ip": "testclient", "body": null, "logger": "app.middleware.logging", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py:270", "function": "dispatch", "request_id": "8542206d-c137-4d5f-a80b-9e0309ce55d5", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.262784+00:00", "level": "ERROR", "name": "app.middleware.logging", "message": "Request failed with exception", "exc_info": "  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 79, in collapse_excgroups\n  |     yield\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 192, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 783, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    |     result = context.run(func, *args)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 210, in list_runs\n    |     service = MaterialDeliveryNoteOrchestrator(uow)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py\", line 30, in __init__\n    |     self.db: Session = uow.session\n    |                        ^^^^^^^^^^^\n    | AttributeError: 'NoneType' object has no attribute 'session'\n    +------------------------------------\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    result = context.run(func, *args)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 210, in list_runs\n    service = MaterialDeliveryNoteOrchestrator(uow)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py\", line 30, in __init__\n    self.db: Session = uow.session\n                       ^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'session'", "method": "GET", "path": "/api/rpa/material-delivery-note/runs", "duration_ms": 1.78, "error_type": "AttributeError", "error_message": "'NoneType' object has no attribute 'session'", "logger": "app.middleware.logging", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py:288", "function": "dispatch", "request_id": "8542206d-c137-4d5f-a80b-9e0309ce55d5", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.280974+00:00", "level": "ERROR", "name": "app.core.errors", "message": "Unhandled exception: AttributeError", "exc_info": "  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 79, in collapse_excgroups\n  |     yield\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 192, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 783, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py\", line 179, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    |     result = context.run(func, *args)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 210, in list_runs\n    |     service = MaterialDeliveryNoteOrchestrator(uow)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py\", line 30, in __init__\n    |     self.db: Session = uow.session\n    |                        ^^^^^^^^^^^\n    | AttributeError: 'NoneType' object has no attribute 'session'\n    +------------------------------------\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py\", line 179, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    result = context.run(func, *args)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 210, in list_runs\n    service = MaterialDeliveryNoteOrchestrator(uow)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py\", line 30, in __init__\n    self.db: Session = uow.session\n                       ^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'session'", "exception_type": "AttributeError", "exception_message": "'NoneType' object has no attribute 'session'", "path": "/api/rpa/material-delivery-note/runs", "method": "GET", "query_params": {}, "headers": {"host": "testserver", "accept": "*/*", "accept-encoding": "gzip, deflate", "connection": "keep-alive", "user-agent": "testclient"}, "request_body": "<unavailable>", "traceback": "  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 79, in collapse_excgroups\n  |     yield\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 192, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 783, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py\", line 179, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    |     result = context.run(func, *args)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 210, in list_runs\n    |     service = MaterialDeliveryNoteOrchestrator(uow)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py\", line 30, in __init__\n    |     self.db: Session = uow.session\n    |                        ^^^^^^^^^^^\n    | AttributeError: 'NoneType' object has no attribute 'session'\n    +------------------------------------\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py\", line 179, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    result = context.run(func, *args)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 210, in list_runs\n    service = MaterialDeliveryNoteOrchestrator(uow)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py\", line 30, in __init__\n    self.db: Session = uow.session\n                       ^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'session'\n", "logger": "app.core.errors", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/core/errors.py:315", "function": "generic_exception_handler", "environment": "development"}
------------------------------ Captured log call -------------------------------
INFO     app.middleware.logging:logging.py:270 Request started
ERROR    app.middleware.logging:logging.py:288 Request failed with exception
  + Exception Group Traceback (most recent call last):
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    |     result = context.run(func, *args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 210, in list_runs
    |     service = MaterialDeliveryNoteOrchestrator(uow)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py", line 30, in __init__
    |     self.db: Session = uow.session
    |                        ^^^^^^^^^^^
    | AttributeError: 'NoneType' object has no attribute 'session'
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 210, in list_runs
    service = MaterialDeliveryNoteOrchestrator(uow)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py", line 30, in __init__
    self.db: Session = uow.session
                       ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'session'
ERROR    app.core.errors:errors.py:315 Unhandled exception: AttributeError
  + Exception Group Traceback (most recent call last):
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py", line 179, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    |     result = context.run(func, *args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 210, in list_runs
    |     service = MaterialDeliveryNoteOrchestrator(uow)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py", line 30, in __init__
    |     self.db: Session = uow.session
    |                        ^^^^^^^^^^^
    | AttributeError: 'NoneType' object has no attribute 'session'
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py", line 179, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 210, in list_runs
    service = MaterialDeliveryNoteOrchestrator(uow)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py", line 30, in __init__
    self.db: Session = uow.session
                       ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'session'
--------------------------- Captured stdout teardown ---------------------------
{"timestamp": "2026-01-17T06:24:43.588240+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\udc4b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u7d42\u4e86\u3057\u3066\u3044\u307e\u3059...", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:151", "function": "lifespan", "environment": "development"}
2026-01-17 15:24:43,588 INFO sqlalchemy.engine.Engine ROLLBACK
{"timestamp": "2026-01-17T06:24:43.588985+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2713", "function": "_connection_rollback_impl", "environment": "development"}
---------------------------- Captured log teardown -----------------------------
INFO     app.main:main.py:151  ...
INFO     sqlalchemy.engine.Engine:base.py:2713 ROLLBACK
___________________________ test_create_run_from_csv ___________________________
  + Exception Group Traceback (most recent call last):
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/runner.py", line 353, in from_call
    |     result: TResult | None = func()
    |                              ~~~~^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/runner.py", line 245, in <lambda>
    |     lambda: runtest_hook(item=item, **kwds),
    |             ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/logging.py", line 850, in pytest_runtest_call
    |     yield
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/capture.py", line 900, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/skipping.py", line 268, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/runner.py", line 179, in pytest_runtest_call
    |     item.runtest()
    |     ~~~~~~~~~~~~^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/python.py", line 1720, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |     ~~~~~~~~~~~~~~^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/_pytest/python.py", line 166, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/tests/api/test_rpa_material_delivery.py", line 25, in test_create_run_from_csv
    |     response = client.post(
    |         "/api/rpa/material-delivery-note/runs",
    |         files=files,
    |         data={"import_type": "material_delivery_note"},
    |     )
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 546, in post
    |     return super().post(
    |            ~~~~~~~~~~~~^
    |         url,
    |         ^^^^
    |     ...<10 lines>...
    |         extensions=extensions,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1144, in post
    |     return self.request(
    |            ~~~~~~~~~~~~^
    |         "POST",
    |         ^^^^^^^
    |     ...<11 lines>...
    |         extensions=extensions,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 445, in request
    |     return super().request(
    |            ~~~~~~~~~~~~~~~^
    |         method,
    |         ^^^^^^^
    |     ...<11 lines>...
    |         extensions=extensions,
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 825, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    |     response = self._send_handling_auth(
    |         request,
    |     ...<2 lines>...
    |         history=[],
    |     )
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |         request,
    |         follow_redirects=follow_redirects,
    |         history=history,
    |     )
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    |     response = transport.handle_request(request)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 348, in handle_request
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 345, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/from_thread.py", line 334, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/from_thread.py", line 259, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py", line 179, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    |     result = context.run(func, *args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 150, in create_run
    |     with uow:
    |          ^^^
    | TypeError: 'NoneType' object does not support the context manager protocol
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kazuya/dev/projects/lot-management-system/backend/tests/api/test_rpa_material_delivery.py", line 25, in test_create_run_from_csv
    response = client.post(
        "/api/rpa/material-delivery-note/runs",
        files=files,
        data={"import_type": "material_delivery_note"},
    )
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 546, in post
    return super().post(
           ~~~~~~~~~~~~^
        url,
        ^^^^
    ...<10 lines>...
        extensions=extensions,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1144, in post
    return self.request(
           ~~~~~~~~~~~~^
        "POST",
        ^^^^^^^
    ...<11 lines>...
        extensions=extensions,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 445, in request
    return super().request(
           ~~~~~~~~~~~~~~~^
        method,
        ^^^^^^^
    ...<11 lines>...
        extensions=extensions,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 348, in handle_request
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/testclient.py", line 345, in handle_request
    portal.call(self.app, scope, receive, send)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/from_thread.py", line 334, in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py", line 456, in result
    return self.__get_result()
           ~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/from_thread.py", line 259, in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py", line 179, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 150, in create_run
    with uow:
         ^^^
TypeError: 'NoneType' object does not support the context manager protocol

The above exception was the direct cause of the following exception:

client = <starlette.testclient.TestClient object at 0x110477110>
db = <sqlalchemy.orm.session.Session object at 0x110477250>

    def test_create_run_from_csv(client, db: Session):
        # Prepare CSV
        csv_content = (
            ",,,,,,\n"
            ",B509,0902,8891078,2025/12/22,200,B509/\n"
        ).encode("shift_jis")
    
        files = {"file": ("test.csv", csv_content, "text/csv")}
    
>       response = client.post(
            "/api/rpa/material-delivery-note/runs",
            files=files,
            data={"import_type": "material_delivery_note"},
        )

tests/api/test_rpa_material_delivery.py:25: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.13/site-packages/starlette/testclient.py:546: in post
    return super().post(
.venv/lib/python3.13/site-packages/httpx/_client.py:1144: in post
    return self.request(
.venv/lib/python3.13/site-packages/starlette/testclient.py:445: in request
    return super().request(
.venv/lib/python3.13/site-packages/httpx/_client.py:825: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/httpx/_client.py:914: in send
    response = self._send_handling_auth(
.venv/lib/python3.13/site-packages/httpx/_client.py:942: in _send_handling_auth
    response = self._send_handling_redirects(
.venv/lib/python3.13/site-packages/httpx/_client.py:979: in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/httpx/_client.py:1014: in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/testclient.py:348: in handle_request
    raise exc
.venv/lib/python3.13/site-packages/starlette/testclient.py:345: in handle_request
    portal.call(self.app, scope, receive, send)
.venv/lib/python3.13/site-packages/anyio/from_thread.py:334: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py:456: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
.venv/lib/python3.13/site-packages/anyio/from_thread.py:259: in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/contextlib.py:162: in __exit__
    self.gen.throw(value)
.venv/lib/python3.13/site-packages/starlette/_utils.py:85: in collapse_excgroups
    raise exc
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/middleware/request_id.py:179: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/contextlib.py:162: in __exit__
    self.gen.throw(value)
.venv/lib/python3.13/site-packages/starlette/_utils.py:85: in collapse_excgroups
    raise exc
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/middleware/logging.py:284: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
../../../../.pyenv/versions/3.13.9/lib/python3.13/contextlib.py:162: in __exit__
    self.gen.throw(value)
.venv/lib/python3.13/site-packages/starlette/_utils.py:85: in collapse_excgroups
    raise exc
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/middleware/metrics.py:371: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
.venv/lib/python3.13/site-packages/starlette/middleware/base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
.venv/lib/python3.13/site-packages/starlette/middleware/cors.py:85: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py:63: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:736: in app
    await route.handle(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:290: in handle
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/fastapi/routing.py:115: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
.venv/lib/python3.13/site-packages/fastapi/routing.py:101: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:355: in app
    raw_response = await run_endpoint_function(
.venv/lib/python3.13/site-packages/fastapi/routing.py:245: in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/concurrency.py:32: in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/anyio/to_thread.py:63: in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py:2502: in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py:986: in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

file = UploadFile(filename='test.csv', size=105, headers=Headers({'content-disposition': 'form-data; name="file"; filename="test.csv"', 'content-type': 'text/csv'}))
import_type = 'material_delivery_note', customer_code = None, uow = None
user = None

    @router.post(
        "/runs",
        response_model=RpaRunResponse,
        status_code=status.HTTP_201_CREATED,
    )
    def create_run(
        file: UploadFile = File(...),
        import_type: str = Form("material_delivery_note"),
        customer_code: str | None = Form(None),  # 
        uow: UnitOfWork = Depends(get_uow),
        user: User | None = Depends(get_current_user_optional),
    ):
        """CSVRun.
    
        Args:
            file: CSV
            import_type:  (default: material_delivery_note)
            customer_code: 
            uow: UnitOfWork
            user: 
        """
        if not (file.filename and file.filename.endswith(".csv")):
            raise HTTPException(
                status_code=status.HTTP_400_BAD_REQUEST,
                detail="File must be a CSV file",
            )
    
>       with uow:
             ^^^
E       TypeError: 'NoneType' object does not support the context manager protocol

app/presentation/api/routes/rpa/material_delivery_note_router.py:150: TypeError
---------------------------- Captured stdout setup -----------------------------
2026-01-17 15:24:43,590 INFO sqlalchemy.engine.Engine BEGIN (implicit)
{"timestamp": "2026-01-17T06:24:43.590289+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2710", "function": "_connection_begin_impl", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.590953+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\ude80 \u30ed\u30c3\u30c8\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0 v2.0.0 \u3092\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059...", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:145", "function": "lifespan", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.591023+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\udce6 \u74b0\u5883: development", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:146", "function": "lifespan", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.591080+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\udcbe \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9: postgresql://admin:dev_password@localhost:5432/lot_management", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:147", "function": "lifespan", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.591133+00:00", "level": "INFO", "name": "app.core.database", "message": "\u23ed\ufe0f init_db: skipping Alembic migrations (handled manually via SQL)", "logger": "app.core.database", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/core/database.py:103", "function": "init_db", "environment": "development"}
------------------------------ Captured log setup ------------------------------
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     app.main:main.py:145   v2.0.0 ...
INFO     app.main:main.py:146  : development
INFO     app.main:main.py:147  : postgresql://admin:dev_password@localhost:5432/lot_management
INFO     app.core.database:database.py:103  init_db: skipping Alembic migrations (handled manually via SQL)
----------------------------- Captured stdout call -----------------------------
{"timestamp": "2026-01-17T06:24:43.604718+00:00", "level": "INFO", "name": "app.middleware.logging", "message": "Request started", "method": "POST", "path": "/api/rpa/material-delivery-note/runs", "query_params": {}, "headers": {"host": "testserver", "accept": "*/*", "accept-encoding": "gzip, deflate", "connection": "keep-alive", "user-agent": "testclient", "content-length": "387", "content-type": "multipart/form-data; boundary=a3bac2775dd04d8434fc2aa1fd88c002"}, "client_ip": "testclient", "body": "<binary data>", "logger": "app.middleware.logging", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py:270", "function": "dispatch", "request_id": "15001a01-11a1-4099-a09c-27fbf3475cb1", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.609726+00:00", "level": "ERROR", "name": "app.middleware.logging", "message": "Request failed with exception", "exc_info": "  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 79, in collapse_excgroups\n  |     yield\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 192, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 783, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    |     result = context.run(func, *args)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 150, in create_run\n    |     with uow:\n    |          ^^^\n    | TypeError: 'NoneType' object does not support the context manager protocol\n    +------------------------------------\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    result = context.run(func, *args)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 150, in create_run\n    with uow:\n         ^^^\nTypeError: 'NoneType' object does not support the context manager protocol", "method": "POST", "path": "/api/rpa/material-delivery-note/runs", "duration_ms": 3.03, "error_type": "TypeError", "error_message": "'NoneType' object does not support the context manager protocol", "logger": "app.middleware.logging", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py:288", "function": "dispatch", "request_id": "15001a01-11a1-4099-a09c-27fbf3475cb1", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.626587+00:00", "level": "ERROR", "name": "app.core.errors", "message": "Unhandled exception: TypeError", "exc_info": "  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 79, in collapse_excgroups\n  |     yield\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 192, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 783, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py\", line 179, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    |     result = context.run(func, *args)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 150, in create_run\n    |     with uow:\n    |          ^^^\n    | TypeError: 'NoneType' object does not support the context manager protocol\n    +------------------------------------\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py\", line 179, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    result = context.run(func, *args)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 150, in create_run\n    with uow:\n         ^^^\nTypeError: 'NoneType' object does not support the context manager protocol", "exception_type": "TypeError", "exception_message": "'NoneType' object does not support the context manager protocol", "path": "/api/rpa/material-delivery-note/runs", "method": "POST", "query_params": {}, "headers": {"host": "testserver", "accept": "*/*", "accept-encoding": "gzip, deflate", "connection": "keep-alive", "user-agent": "testclient", "content-length": "387", "content-type": "multipart/form-data; boundary=a3bac2775dd04d8434fc2aa1fd88c002"}, "request_body": "<unavailable>", "traceback": "  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 79, in collapse_excgroups\n  |     yield\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 192, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 783, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py\", line 179, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    |     result = context.run(func, *args)\n    |   File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 150, in create_run\n    |     with uow:\n    |          ^^^\n    | TypeError: 'NoneType' object does not support the context manager protocol\n    +------------------------------------\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py\", line 179, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py\", line 284, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py\", line 371, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 115, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 101, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 355, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 245, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 32, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 63, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2502, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 986, in run\n    result = context.run(func, *args)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 150, in create_run\n    with uow:\n         ^^^\nTypeError: 'NoneType' object does not support the context manager protocol\n", "logger": "app.core.errors", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/core/errors.py:315", "function": "generic_exception_handler", "environment": "development"}
------------------------------ Captured log call -------------------------------
INFO     app.middleware.logging:logging.py:270 Request started
ERROR    app.middleware.logging:logging.py:288 Request failed with exception
  + Exception Group Traceback (most recent call last):
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    |     result = context.run(func, *args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 150, in create_run
    |     with uow:
    |          ^^^
    | TypeError: 'NoneType' object does not support the context manager protocol
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 150, in create_run
    with uow:
         ^^^
TypeError: 'NoneType' object does not support the context manager protocol
ERROR    app.core.errors:errors.py:315 Unhandled exception: TypeError
  + Exception Group Traceback (most recent call last):
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py", line 179, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    |     return await run_in_threadpool(dependant.call, **values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    |     return await anyio.to_thread.run_sync(func)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    |     return await get_async_backend().run_sync_in_worker_thread(
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    |     return await future
    |            ^^^^^^^^^^^^
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    |     result = context.run(func, *args)
    |   File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 150, in create_run
    |     with uow:
    |          ^^^
    | TypeError: 'NoneType' object does not support the context manager protocol
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/request_id.py", line 179, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py", line 284, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/Users/kazuya/.pyenv/versions/3.13.9/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/metrics.py", line 371, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 150, in create_run
    with uow:
         ^^^
TypeError: 'NoneType' object does not support the context manager protocol
--------------------------- Captured stdout teardown ---------------------------
{"timestamp": "2026-01-17T06:24:43.811695+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\udc4b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u7d42\u4e86\u3057\u3066\u3044\u307e\u3059...", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:151", "function": "lifespan", "environment": "development"}
2026-01-17 15:24:43,812 INFO sqlalchemy.engine.Engine ROLLBACK
{"timestamp": "2026-01-17T06:24:43.812614+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2713", "function": "_connection_rollback_impl", "environment": "development"}
---------------------------- Captured log teardown -----------------------------
INFO     app.main:main.py:151  ...
INFO     sqlalchemy.engine.Engine:base.py:2713 ROLLBACK
_____________________________ test_update_item_uow _____________________________

client = <starlette.testclient.TestClient object at 0x110662210>
db = <sqlalchemy.orm.session.Session object at 0x110661f90>

    def test_update_item_uow(client, db: Session):
        # Setup Data
        run = RpaRun(status=RpaRunStatus.DRAFT, rpa_type="material_delivery_note", started_at=utcnow())
        db.add(run)
        db.flush()
        item = RpaRunItem(run_id=run.id, row_no=1)
        db.add(item)
        db.commit()
    
        # Update via API
        payload = {"delivery_quantity": 999}
        response = client.patch(
            f"/api/rpa/material-delivery-note/runs/{run.id}/items/{item.id}", json=payload
        )
    
>       assert response.status_code == status.HTTP_200_OK
E       assert 500 == 200
E        +  where 500 = <Response [500 Internal Server Error]>.status_code
E        +  and   200 = status.HTTP_200_OK

tests/api/test_rpa_material_delivery.py:58: AssertionError
---------------------------- Captured stdout setup -----------------------------
2026-01-17 15:24:43,813 INFO sqlalchemy.engine.Engine BEGIN (implicit)
{"timestamp": "2026-01-17T06:24:43.813946+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2710", "function": "_connection_begin_impl", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.814534+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\ude80 \u30ed\u30c3\u30c8\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0 v2.0.0 \u3092\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059...", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:145", "function": "lifespan", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.814599+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\udce6 \u74b0\u5883: development", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:146", "function": "lifespan", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.814644+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\udcbe \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9: postgresql://admin:dev_password@localhost:5432/lot_management", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:147", "function": "lifespan", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.814688+00:00", "level": "INFO", "name": "app.core.database", "message": "\u23ed\ufe0f init_db: skipping Alembic migrations (handled manually via SQL)", "logger": "app.core.database", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/core/database.py:103", "function": "init_db", "environment": "development"}
------------------------------ Captured log setup ------------------------------
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     app.main:main.py:145   v2.0.0 ...
INFO     app.main:main.py:146  : development
INFO     app.main:main.py:147  : postgresql://admin:dev_password@localhost:5432/lot_management
INFO     app.core.database:database.py:103  init_db: skipping Alembic migrations (handled manually via SQL)
----------------------------- Captured stdout call -----------------------------
2026-01-17 15:24:43,860 INFO sqlalchemy.engine.Engine INSERT INTO rpa_runs (rpa_type, status, data_start_date, data_end_date, started_at, started_by_user_id, step2_executed_at, step2_executed_by_user_id, external_done_at, external_done_by_user_id, step4_executed_at, customer_id) VALUES (%(rpa_type)s, %(status)s, %(data_start_date)s, %(data_end_date)s, %(started_at)s, %(started_by_user_id)s, %(step2_executed_at)s, %(step2_executed_by_user_id)s, %(external_done_at)s, %(external_done_by_user_id)s, %(step4_executed_at)s, %(customer_id)s) RETURNING rpa_runs.id, rpa_runs.created_at, rpa_runs.updated_at
{"timestamp": "2026-01-17T06:24:43.860721+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "INSERT INTO rpa_runs (rpa_type, status, data_start_date, data_end_date, started_at, started_by_user_id, step2_executed_at, step2_executed_by_user_id, external_done_at, external_done_by_user_id, step4_executed_at, customer_id) VALUES (%(rpa_type)s, %(status)s, %(data_start_date)s, %(data_end_date)s, %(started_at)s, %(started_by_user_id)s, %(step2_executed_at)s, %(step2_executed_by_user_id)s, %(external_done_at)s, %(external_done_by_user_id)s, %(step4_executed_at)s, %(customer_id)s) RETURNING rpa_runs.id, rpa_runs.created_at, rpa_runs.updated_at", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,860 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {'rpa_type': 'material_delivery_note', 'status': 'step1_done', 'data_start_date': None, 'data_end_date': None, 'started_at': datetime.datetime(2026, 1, 17, 6, 24, 43, 814980, tzinfo=datetime.timezone.utc), 'started_by_user_id': None, 'step2_executed_at': None, 'step2_executed_by_user_id': None, 'external_done_at': None, 'external_done_by_user_id': None, 'step4_executed_at': None, 'customer_id': None}
{"timestamp": "2026-01-17T06:24:43.860843+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[generated in 0.00021s] {'rpa_type': 'material_delivery_note', 'status': 'step1_done', 'data_start_date': None, 'data_end_date': None, 'started_at': datetime.datetime(2026, 1, 17, 6, 24, 43, 814980, tzinfo=datetime.timezone.utc), 'started_by_user_id': None, 'step2_executed_at': None, 'step2_executed_by_user_id': None, 'external_done_at': None, 'external_done_by_user_id': None, 'step4_executed_at': None, 'customer_id': None}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,866 INFO sqlalchemy.engine.Engine INSERT INTO rpa_run_items (run_id, row_no, status, jiku_code, layer_code, external_product_code, delivery_date, delivery_quantity, shipping_vehicle, match_result, sap_registered, order_no, item_no, lot_no, result_status, processing_started_at, complement_customer_id, complement_external_product_code, complement_match_type) VALUES (%(run_id)s, %(row_no)s, %(status)s, %(jiku_code)s, %(layer_code)s, %(external_product_code)s, %(delivery_date)s, %(delivery_quantity)s, %(shipping_vehicle)s, %(match_result)s, %(sap_registered)s, %(order_no)s, %(item_no)s, %(lot_no)s, %(result_status)s, %(processing_started_at)s, %(complement_customer_id)s, %(complement_external_product_code)s, %(complement_match_type)s) RETURNING rpa_run_items.id, rpa_run_items.issue_flag, rpa_run_items.complete_flag, rpa_run_items.lock_flag, rpa_run_items.created_at, rpa_run_items.updated_at
{"timestamp": "2026-01-17T06:24:43.866669+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "INSERT INTO rpa_run_items (run_id, row_no, status, jiku_code, layer_code, external_product_code, delivery_date, delivery_quantity, shipping_vehicle, match_result, sap_registered, order_no, item_no, lot_no, result_status, processing_started_at, complement_customer_id, complement_external_product_code, complement_match_type) VALUES (%(run_id)s, %(row_no)s, %(status)s, %(jiku_code)s, %(layer_code)s, %(external_product_code)s, %(delivery_date)s, %(delivery_quantity)s, %(shipping_vehicle)s, %(match_result)s, %(sap_registered)s, %(order_no)s, %(item_no)s, %(lot_no)s, %(result_status)s, %(processing_started_at)s, %(complement_customer_id)s, %(complement_external_product_code)s, %(complement_match_type)s) RETURNING rpa_run_items.id, rpa_run_items.issue_flag, rpa_run_items.complete_flag, rpa_run_items.lock_flag, rpa_run_items.created_at, rpa_run_items.updated_at", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,866 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'run_id': 1, 'row_no': 1, 'status': None, 'jiku_code': None, 'layer_code': None, 'external_product_code': None, 'delivery_date': None, 'delivery_quantity': None, 'shipping_vehicle': None, 'match_result': None, 'sap_registered': None, 'order_no': None, 'item_no': None, 'lot_no': None, 'result_status': None, 'processing_started_at': None, 'complement_customer_id': None, 'complement_external_product_code': None, 'complement_match_type': None}
{"timestamp": "2026-01-17T06:24:43.866803+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[generated in 0.00020s] {'run_id': 1, 'row_no': 1, 'status': None, 'jiku_code': None, 'layer_code': None, 'external_product_code': None, 'delivery_date': None, 'delivery_quantity': None, 'shipping_vehicle': None, 'match_result': None, 'sap_registered': None, 'order_no': None, 'item_no': None, 'lot_no': None, 'result_status': None, 'processing_started_at': None, 'complement_customer_id': None, 'complement_external_product_code': None, 'complement_match_type': None}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,873 INFO sqlalchemy.engine.Engine SELECT rpa_runs.id AS rpa_runs_id, rpa_runs.rpa_type AS rpa_runs_rpa_type, rpa_runs.status AS rpa_runs_status, rpa_runs.data_start_date AS rpa_runs_data_start_date, rpa_runs.data_end_date AS rpa_runs_data_end_date, rpa_runs.started_at AS rpa_runs_started_at, rpa_runs.started_by_user_id AS rpa_runs_started_by_user_id, rpa_runs.step2_executed_at AS rpa_runs_step2_executed_at, rpa_runs.step2_executed_by_user_id AS rpa_runs_step2_executed_by_user_id, rpa_runs.external_done_at AS rpa_runs_external_done_at, rpa_runs.external_done_by_user_id AS rpa_runs_external_done_by_user_id, rpa_runs.step4_executed_at AS rpa_runs_step4_executed_at, rpa_runs.customer_id AS rpa_runs_customer_id, rpa_runs.created_at AS rpa_runs_created_at, rpa_runs.updated_at AS rpa_runs_updated_at 
FROM rpa_runs 
WHERE rpa_runs.id = %(pk_1)s
{"timestamp": "2026-01-17T06:24:43.873108+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT rpa_runs.id AS rpa_runs_id, rpa_runs.rpa_type AS rpa_runs_rpa_type, rpa_runs.status AS rpa_runs_status, rpa_runs.data_start_date AS rpa_runs_data_start_date, rpa_runs.data_end_date AS rpa_runs_data_end_date, rpa_runs.started_at AS rpa_runs_started_at, rpa_runs.started_by_user_id AS rpa_runs_started_by_user_id, rpa_runs.step2_executed_at AS rpa_runs_step2_executed_at, rpa_runs.step2_executed_by_user_id AS rpa_runs_step2_executed_by_user_id, rpa_runs.external_done_at AS rpa_runs_external_done_at, rpa_runs.external_done_by_user_id AS rpa_runs_external_done_by_user_id, rpa_runs.step4_executed_at AS rpa_runs_step4_executed_at, rpa_runs.customer_id AS rpa_runs_customer_id, rpa_runs.created_at AS rpa_runs_created_at, rpa_runs.updated_at AS rpa_runs_updated_at \nFROM rpa_runs \nWHERE rpa_runs.id = %(pk_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,873 INFO sqlalchemy.engine.Engine [generated in 0.00018s] {'pk_1': 1}
{"timestamp": "2026-01-17T06:24:43.873235+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[generated in 0.00018s] {'pk_1': 1}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,874 INFO sqlalchemy.engine.Engine SELECT rpa_run_items.id AS rpa_run_items_id, rpa_run_items.run_id AS rpa_run_items_run_id, rpa_run_items.row_no AS rpa_run_items_row_no, rpa_run_items.status AS rpa_run_items_status, rpa_run_items.jiku_code AS rpa_run_items_jiku_code, rpa_run_items.layer_code AS rpa_run_items_layer_code, rpa_run_items.external_product_code AS rpa_run_items_external_product_code, rpa_run_items.delivery_date AS rpa_run_items_delivery_date, rpa_run_items.delivery_quantity AS rpa_run_items_delivery_quantity, rpa_run_items.shipping_vehicle AS rpa_run_items_shipping_vehicle, rpa_run_items.issue_flag AS rpa_run_items_issue_flag, rpa_run_items.complete_flag AS rpa_run_items_complete_flag, rpa_run_items.match_result AS rpa_run_items_match_result, rpa_run_items.sap_registered AS rpa_run_items_sap_registered, rpa_run_items.order_no AS rpa_run_items_order_no, rpa_run_items.lock_flag AS rpa_run_items_lock_flag, rpa_run_items.item_no AS rpa_run_items_item_no, rpa_run_items.lot_no AS rpa_run_items_lot_no, rpa_run_items.result_status AS rpa_run_items_result_status, rpa_run_items.processing_started_at AS rpa_run_items_processing_started_at, rpa_run_items.complement_customer_id AS rpa_run_items_complement_customer_id, rpa_run_items.complement_external_product_code AS rpa_run_items_complement_external_product_code, rpa_run_items.complement_match_type AS rpa_run_items_complement_match_type, rpa_run_items.created_at AS rpa_run_items_created_at, rpa_run_items.updated_at AS rpa_run_items_updated_at 
FROM rpa_run_items 
WHERE rpa_run_items.id = %(pk_1)s
{"timestamp": "2026-01-17T06:24:43.874805+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT rpa_run_items.id AS rpa_run_items_id, rpa_run_items.run_id AS rpa_run_items_run_id, rpa_run_items.row_no AS rpa_run_items_row_no, rpa_run_items.status AS rpa_run_items_status, rpa_run_items.jiku_code AS rpa_run_items_jiku_code, rpa_run_items.layer_code AS rpa_run_items_layer_code, rpa_run_items.external_product_code AS rpa_run_items_external_product_code, rpa_run_items.delivery_date AS rpa_run_items_delivery_date, rpa_run_items.delivery_quantity AS rpa_run_items_delivery_quantity, rpa_run_items.shipping_vehicle AS rpa_run_items_shipping_vehicle, rpa_run_items.issue_flag AS rpa_run_items_issue_flag, rpa_run_items.complete_flag AS rpa_run_items_complete_flag, rpa_run_items.match_result AS rpa_run_items_match_result, rpa_run_items.sap_registered AS rpa_run_items_sap_registered, rpa_run_items.order_no AS rpa_run_items_order_no, rpa_run_items.lock_flag AS rpa_run_items_lock_flag, rpa_run_items.item_no AS rpa_run_items_item_no, rpa_run_items.lot_no AS rpa_run_items_lot_no, rpa_run_items.result_status AS rpa_run_items_result_status, rpa_run_items.processing_started_at AS rpa_run_items_processing_started_at, rpa_run_items.complement_customer_id AS rpa_run_items_complement_customer_id, rpa_run_items.complement_external_product_code AS rpa_run_items_complement_external_product_code, rpa_run_items.complement_match_type AS rpa_run_items_complement_match_type, rpa_run_items.created_at AS rpa_run_items_created_at, rpa_run_items.updated_at AS rpa_run_items_updated_at \nFROM rpa_run_items \nWHERE rpa_run_items.id = %(pk_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,874 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'pk_1': 1}
{"timestamp": "2026-01-17T06:24:43.874894+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[generated in 0.00011s] {'pk_1': 1}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.876407+00:00", "level": "INFO", "name": "app.middleware.logging", "message": "Request started", "method": "PATCH", "path": "/api/rpa/material-delivery-note/runs/1/items/1", "query_params": {}, "headers": {"host": "testserver", "accept": "*/*", "accept-encoding": "gzip, deflate", "connection": "keep-alive", "user-agent": "testclient", "content-length": "25", "content-type": "application/json"}, "client_ip": "testclient", "body": {"delivery_quantity": 999}, "logger": "app.middleware.logging", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py:270", "function": "dispatch", "request_id": "7b48a9b3-fd19-49cb-9884-32c7b454cdcf", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.877710+00:00", "level": "ERROR", "name": "app.presentation.api.routes.rpa.material_delivery_note_router", "message": "Unexpected error in update_item", "exc_info": "Traceback (most recent call last):\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py\", line 252, in update_item\n    service = MaterialDeliveryNoteOrchestrator(uow)\n  File \"/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py\", line 30, in __init__\n    self.db: Session = uow.session\n                       ^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'session'", "logger": "app.presentation.api.routes.rpa.material_delivery_note_router", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py:281", "function": "update_item", "request_id": "7b48a9b3-fd19-49cb-9884-32c7b454cdcf", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.878298+00:00", "level": "ERROR", "name": "app.core.errors", "message": "HTTP exception: 500", "status_code": 500, "detail": "Internal server error: 'NoneType' object has no attribute 'session'", "path": "/api/rpa/material-delivery-note/runs/1/items/1", "method": "PATCH", "query_params": {}, "logger": "app.core.errors", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/core/errors.py:216", "function": "http_exception_handler", "request_id": "7b48a9b3-fd19-49cb-9884-32c7b454cdcf", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.878520+00:00", "level": "ERROR", "name": "app.middleware.logging", "message": "Request completed", "method": "PATCH", "path": "/api/rpa/material-delivery-note/runs/1/items/1", "status_code": 500, "duration_ms": 2.32, "response_headers": {"content-length": "195", "content-type": "application/json"}, "logger": "app.middleware.logging", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/middleware/logging.py:308", "function": "dispatch", "environment": "development"}
{"timestamp": "2026-01-17T06:24:43.879007+00:00", "level": "INFO", "name": "httpx", "message": "HTTP Request: PATCH http://testserver/api/rpa/material-delivery-note/runs/1/items/1 \"HTTP/1.1 500 Internal Server Error\"", "logger": "httpx", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/httpx/_client.py:1025", "function": "_send_single_request", "environment": "development"}
------------------------------ Captured log call -------------------------------
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO rpa_runs (rpa_type, status, data_start_date, data_end_date, started_at, started_by_user_id, step2_executed_at, step2_executed_by_user_id, external_done_at, external_done_by_user_id, step4_executed_at, customer_id) VALUES (%(rpa_type)s, %(status)s, %(data_start_date)s, %(data_end_date)s, %(started_at)s, %(started_by_user_id)s, %(step2_executed_at)s, %(step2_executed_by_user_id)s, %(external_done_at)s, %(external_done_by_user_id)s, %(step4_executed_at)s, %(customer_id)s) RETURNING rpa_runs.id, rpa_runs.created_at, rpa_runs.updated_at
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00021s] {'rpa_type': 'material_delivery_note', 'status': 'step1_done', 'data_start_date': None, 'data_end_date': None, 'started_at': datetime.datetime(2026, 1, 17, 6, 24, 43, 814980, tzinfo=datetime.timezone.utc), 'started_by_user_id': None, 'step2_executed_at': None, 'step2_executed_by_user_id': None, 'external_done_at': None, 'external_done_by_user_id': None, 'step4_executed_at': None, 'customer_id': None}
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO rpa_run_items (run_id, row_no, status, jiku_code, layer_code, external_product_code, delivery_date, delivery_quantity, shipping_vehicle, match_result, sap_registered, order_no, item_no, lot_no, result_status, processing_started_at, complement_customer_id, complement_external_product_code, complement_match_type) VALUES (%(run_id)s, %(row_no)s, %(status)s, %(jiku_code)s, %(layer_code)s, %(external_product_code)s, %(delivery_date)s, %(delivery_quantity)s, %(shipping_vehicle)s, %(match_result)s, %(sap_registered)s, %(order_no)s, %(item_no)s, %(lot_no)s, %(result_status)s, %(processing_started_at)s, %(complement_customer_id)s, %(complement_external_product_code)s, %(complement_match_type)s) RETURNING rpa_run_items.id, rpa_run_items.issue_flag, rpa_run_items.complete_flag, rpa_run_items.lock_flag, rpa_run_items.created_at, rpa_run_items.updated_at
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00020s] {'run_id': 1, 'row_no': 1, 'status': None, 'jiku_code': None, 'layer_code': None, 'external_product_code': None, 'delivery_date': None, 'delivery_quantity': None, 'shipping_vehicle': None, 'match_result': None, 'sap_registered': None, 'order_no': None, 'item_no': None, 'lot_no': None, 'result_status': None, 'processing_started_at': None, 'complement_customer_id': None, 'complement_external_product_code': None, 'complement_match_type': None}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT rpa_runs.id AS rpa_runs_id, rpa_runs.rpa_type AS rpa_runs_rpa_type, rpa_runs.status AS rpa_runs_status, rpa_runs.data_start_date AS rpa_runs_data_start_date, rpa_runs.data_end_date AS rpa_runs_data_end_date, rpa_runs.started_at AS rpa_runs_started_at, rpa_runs.started_by_user_id AS rpa_runs_started_by_user_id, rpa_runs.step2_executed_at AS rpa_runs_step2_executed_at, rpa_runs.step2_executed_by_user_id AS rpa_runs_step2_executed_by_user_id, rpa_runs.external_done_at AS rpa_runs_external_done_at, rpa_runs.external_done_by_user_id AS rpa_runs_external_done_by_user_id, rpa_runs.step4_executed_at AS rpa_runs_step4_executed_at, rpa_runs.customer_id AS rpa_runs_customer_id, rpa_runs.created_at AS rpa_runs_created_at, rpa_runs.updated_at AS rpa_runs_updated_at 
FROM rpa_runs 
WHERE rpa_runs.id = %(pk_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00018s] {'pk_1': 1}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT rpa_run_items.id AS rpa_run_items_id, rpa_run_items.run_id AS rpa_run_items_run_id, rpa_run_items.row_no AS rpa_run_items_row_no, rpa_run_items.status AS rpa_run_items_status, rpa_run_items.jiku_code AS rpa_run_items_jiku_code, rpa_run_items.layer_code AS rpa_run_items_layer_code, rpa_run_items.external_product_code AS rpa_run_items_external_product_code, rpa_run_items.delivery_date AS rpa_run_items_delivery_date, rpa_run_items.delivery_quantity AS rpa_run_items_delivery_quantity, rpa_run_items.shipping_vehicle AS rpa_run_items_shipping_vehicle, rpa_run_items.issue_flag AS rpa_run_items_issue_flag, rpa_run_items.complete_flag AS rpa_run_items_complete_flag, rpa_run_items.match_result AS rpa_run_items_match_result, rpa_run_items.sap_registered AS rpa_run_items_sap_registered, rpa_run_items.order_no AS rpa_run_items_order_no, rpa_run_items.lock_flag AS rpa_run_items_lock_flag, rpa_run_items.item_no AS rpa_run_items_item_no, rpa_run_items.lot_no AS rpa_run_items_lot_no, rpa_run_items.result_status AS rpa_run_items_result_status, rpa_run_items.processing_started_at AS rpa_run_items_processing_started_at, rpa_run_items.complement_customer_id AS rpa_run_items_complement_customer_id, rpa_run_items.complement_external_product_code AS rpa_run_items_complement_external_product_code, rpa_run_items.complement_match_type AS rpa_run_items_complement_match_type, rpa_run_items.created_at AS rpa_run_items_created_at, rpa_run_items.updated_at AS rpa_run_items_updated_at 
FROM rpa_run_items 
WHERE rpa_run_items.id = %(pk_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00011s] {'pk_1': 1}
INFO     app.middleware.logging:logging.py:270 Request started
ERROR    app.presentation.api.routes.rpa.material_delivery_note_router:material_delivery_note_router.py:281 Unexpected error in update_item
Traceback (most recent call last):
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/presentation/api/routes/rpa/material_delivery_note_router.py", line 252, in update_item
    service = MaterialDeliveryNoteOrchestrator(uow)
  File "/Users/kazuya/dev/projects/lot-management-system/backend/app/application/services/rpa/orchestrator.py", line 30, in __init__
    self.db: Session = uow.session
                       ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'session'
ERROR    app.core.errors:errors.py:216 HTTP exception: 500
ERROR    app.middleware.logging:logging.py:308 Request completed
INFO     httpx:_client.py:1025 HTTP Request: PATCH http://testserver/api/rpa/material-delivery-note/runs/1/items/1 "HTTP/1.1 500 Internal Server Error"
--------------------------- Captured stdout teardown ---------------------------
{"timestamp": "2026-01-17T06:24:43.880517+00:00", "level": "INFO", "name": "app.main", "message": "\ud83d\udc4b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u7d42\u4e86\u3057\u3066\u3044\u307e\u3059...", "logger": "app.main", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/app/main.py:151", "function": "lifespan", "environment": "development"}
2026-01-17 15:24:43,880 INFO sqlalchemy.engine.Engine ROLLBACK
{"timestamp": "2026-01-17T06:24:43.880980+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2713", "function": "_connection_rollback_impl", "environment": "development"}
2026-01-17 15:24:43,911 INFO sqlalchemy.engine.Engine BEGIN (implicit)
{"timestamp": "2026-01-17T06:24:43.911917+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2710", "function": "_connection_begin_impl", "environment": "development"}
2026-01-17 15:24:43,912 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.912193+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,912 INFO sqlalchemy.engine.Engine [cached since 1.029s ago] {'table_name': 'user_supplier_assignments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.912288+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.029s ago] {'table_name': 'user_supplier_assignments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,913 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.913604+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,913 INFO sqlalchemy.engine.Engine [cached since 1.031s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.913706+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.031s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,914 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.914303+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,914 INFO sqlalchemy.engine.Engine [cached since 1.031s ago] {'table_name': 'roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.914420+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.031s ago] {'table_name': 'roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,914 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.914862+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,914 INFO sqlalchemy.engine.Engine [cached since 1.032s ago] {'table_name': 'user_roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.914978+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.032s ago] {'table_name': 'user_roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,915 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.915404+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,915 INFO sqlalchemy.engine.Engine [cached since 1.033s ago] {'table_name': 'cloud_flow_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.915484+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.033s ago] {'table_name': 'cloud_flow_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,915 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.915918+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,915 INFO sqlalchemy.engine.Engine [cached since 1.033s ago] {'table_name': 'cloud_flow_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.916012+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.033s ago] {'table_name': 'cloud_flow_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,916 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.916442+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,916 INFO sqlalchemy.engine.Engine [cached since 1.034s ago] {'table_name': 'forecast_current', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.916535+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.034s ago] {'table_name': 'forecast_current', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,916 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.917023+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,917 INFO sqlalchemy.engine.Engine [cached since 1.034s ago] {'table_name': 'forecast_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.917149+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.034s ago] {'table_name': 'forecast_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,917 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.917562+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,917 INFO sqlalchemy.engine.Engine [cached since 1.035s ago] {'table_name': 'inbound_plans', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.917653+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.035s ago] {'table_name': 'inbound_plans', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,917 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.918019+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,918 INFO sqlalchemy.engine.Engine [cached since 1.035s ago] {'table_name': 'inbound_plan_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.918119+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.035s ago] {'table_name': 'inbound_plan_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,918 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.918520+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,918 INFO sqlalchemy.engine.Engine [cached since 1.036s ago] {'table_name': 'expected_lots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.918607+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.036s ago] {'table_name': 'expected_lots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,918 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.918981+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,919 INFO sqlalchemy.engine.Engine [cached since 1.036s ago] {'table_name': 'lot_receipts', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.919085+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.036s ago] {'table_name': 'lot_receipts', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,919 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.919474+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,919 INFO sqlalchemy.engine.Engine [cached since 1.037s ago] {'table_name': 'stock_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.919565+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.037s ago] {'table_name': 'stock_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,919 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.919914+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,919 INFO sqlalchemy.engine.Engine [cached since 1.037s ago] {'table_name': 'adjustments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.919991+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.037s ago] {'table_name': 'adjustments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,920 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.920356+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,920 INFO sqlalchemy.engine.Engine [cached since 1.038s ago] {'table_name': 'allocation_suggestions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.920464+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.038s ago] {'table_name': 'allocation_suggestions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,920 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.920868+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,920 INFO sqlalchemy.engine.Engine [cached since 1.038s ago] {'table_name': 'allocation_traces', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.920967+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.038s ago] {'table_name': 'allocation_traces', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,921 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.921375+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,921 INFO sqlalchemy.engine.Engine [cached since 1.039s ago] {'table_name': 'layer_code_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.921466+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.039s ago] {'table_name': 'layer_code_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,921 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.921840+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,921 INFO sqlalchemy.engine.Engine [cached since 1.039s ago] {'table_name': 'operation_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.921949+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.039s ago] {'table_name': 'operation_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,922 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.922324+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,922 INFO sqlalchemy.engine.Engine [cached since 1.039s ago] {'table_name': 'master_change_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.922399+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.039s ago] {'table_name': 'master_change_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,922 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.922752+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,922 INFO sqlalchemy.engine.Engine [cached since 1.04s ago] {'table_name': 'business_rules', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.922834+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.04s ago] {'table_name': 'business_rules', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,923 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.923180+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,923 INFO sqlalchemy.engine.Engine [cached since 1.04s ago] {'table_name': 'batch_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.923262+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.04s ago] {'table_name': 'batch_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,923 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.923614+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,923 INFO sqlalchemy.engine.Engine [cached since 1.041s ago] {'table_name': 'lot_master', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.923685+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.041s ago] {'table_name': 'lot_master', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,923 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.924011+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,924 INFO sqlalchemy.engine.Engine [cached since 1.041s ago] {'table_name': 'lot_reservation_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.924090+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.041s ago] {'table_name': 'lot_reservation_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,924 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.924460+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,924 INFO sqlalchemy.engine.Engine [cached since 1.042s ago] {'table_name': 'lot_reservations', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.924545+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.042s ago] {'table_name': 'lot_reservations', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,924 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.924887+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,924 INFO sqlalchemy.engine.Engine [cached since 1.042s ago] {'table_name': 'warehouses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.924978+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.042s ago] {'table_name': 'warehouses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,925 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.925351+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,925 INFO sqlalchemy.engine.Engine [cached since 1.042s ago] {'table_name': 'suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.925438+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.042s ago] {'table_name': 'suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,925 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.925819+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,925 INFO sqlalchemy.engine.Engine [cached since 1.043s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.925907+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.043s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,926 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.926258+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,926 INFO sqlalchemy.engine.Engine [cached since 1.043s ago] {'table_name': 'delivery_places', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.926349+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.043s ago] {'table_name': 'delivery_places', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,926 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.926728+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,926 INFO sqlalchemy.engine.Engine [cached since 1.044s ago] {'table_name': 'products', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.926811+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.044s ago] {'table_name': 'products', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,927 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.927172+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,927 INFO sqlalchemy.engine.Engine [cached since 1.044s ago] {'table_name': 'customer_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.927266+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.044s ago] {'table_name': 'customer_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,927 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.927658+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,927 INFO sqlalchemy.engine.Engine [cached since 1.045s ago] {'table_name': 'product_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.927727+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.045s ago] {'table_name': 'product_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,928 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.928091+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,928 INFO sqlalchemy.engine.Engine [cached since 1.045s ago] {'table_name': 'product_uom_conversions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.928179+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.045s ago] {'table_name': 'product_uom_conversions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,928 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.928546+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,928 INFO sqlalchemy.engine.Engine [cached since 1.046s ago] {'table_name': 'customer_item_jiku_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.928642+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.046s ago] {'table_name': 'customer_item_jiku_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,929 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.929127+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,929 INFO sqlalchemy.engine.Engine [cached since 1.046s ago] {'table_name': 'customer_item_delivery_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.929201+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.046s ago] {'table_name': 'customer_item_delivery_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,929 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.929762+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,929 INFO sqlalchemy.engine.Engine [cached since 1.047s ago] {'table_name': 'warehouse_delivery_routes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.929834+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.047s ago] {'table_name': 'warehouse_delivery_routes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,930 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.930300+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,930 INFO sqlalchemy.engine.Engine [cached since 1.047s ago] {'table_name': 'missing_mapping_events', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.930367+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.047s ago] {'table_name': 'missing_mapping_events', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,930 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.930737+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,930 INFO sqlalchemy.engine.Engine [cached since 1.048s ago] {'table_name': 'order_groups', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.930826+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.048s ago] {'table_name': 'order_groups', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,931 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.931200+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,931 INFO sqlalchemy.engine.Engine [cached since 1.048s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.931285+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.048s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,931 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.931653+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,931 INFO sqlalchemy.engine.Engine [cached since 1.049s ago] {'table_name': 'order_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.931737+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.049s ago] {'table_name': 'order_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,932 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.932157+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,932 INFO sqlalchemy.engine.Engine [cached since 1.049s ago] {'table_name': 'product_suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.932229+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.049s ago] {'table_name': 'product_suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,932 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.932604+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,932 INFO sqlalchemy.engine.Engine [cached since 1.05s ago] {'table_name': 'product_warehouse', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.932690+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.05s ago] {'table_name': 'product_warehouse', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,933 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.933080+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,933 INFO sqlalchemy.engine.Engine [cached since 1.05s ago] {'table_name': 'rpa_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.933150+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.05s ago] {'table_name': 'rpa_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,933 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.933485+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,933 INFO sqlalchemy.engine.Engine [cached since 1.051s ago] {'table_name': 'rpa_run_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.933552+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.051s ago] {'table_name': 'rpa_run_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,933 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.933879+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,933 INFO sqlalchemy.engine.Engine [cached since 1.051s ago] {'table_name': 'seed_snapshots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.933947+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.051s ago] {'table_name': 'seed_snapshots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,934 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.934261+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,934 INFO sqlalchemy.engine.Engine [cached since 1.051s ago] {'table_name': 'smartread_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.934334+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.051s ago] {'table_name': 'smartread_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,934 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.934645+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,934 INFO sqlalchemy.engine.Engine [cached since 1.052s ago] {'table_name': 'system_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.934714+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.052s ago] {'table_name': 'system_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,935 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.935085+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,935 INFO sqlalchemy.engine.Engine [cached since 1.052s ago] {'table_name': 'system_client_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.935156+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.052s ago] {'table_name': 'system_client_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,935 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.935549+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,935 INFO sqlalchemy.engine.Engine [cached since 1.053s ago] {'table_name': 'withdrawal_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.935631+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.053s ago] {'table_name': 'withdrawal_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,935 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
{"timestamp": "2026-01-17T06:24:43.935980+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "SELECT pg_catalog.pg_class.relname \nFROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace \nWHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,936 INFO sqlalchemy.engine.Engine [cached since 1.053s ago] {'table_name': 'withdrawals', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
{"timestamp": "2026-01-17T06:24:43.936054+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[cached since 1.053s ago] {'table_name': 'withdrawals', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,936 INFO sqlalchemy.engine.Engine 
DROP TABLE withdrawal_lines
{"timestamp": "2026-01-17T06:24:43.936582+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE withdrawal_lines", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,936 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.936657+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,938 INFO sqlalchemy.engine.Engine 
DROP TABLE withdrawals
{"timestamp": "2026-01-17T06:24:43.938422+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE withdrawals", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,938 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.938499+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,942 INFO sqlalchemy.engine.Engine 
DROP TABLE lot_reservations
{"timestamp": "2026-01-17T06:24:43.942122+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE lot_reservations", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,942 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.942201+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,944 INFO sqlalchemy.engine.Engine 
DROP TABLE allocation_traces
{"timestamp": "2026-01-17T06:24:43.944088+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE allocation_traces", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,944 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.944150+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,945 INFO sqlalchemy.engine.Engine 
DROP TABLE allocation_suggestions
{"timestamp": "2026-01-17T06:24:43.945785+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE allocation_suggestions", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,945 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:43.945845+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,950 INFO sqlalchemy.engine.Engine 
DROP TABLE adjustments
{"timestamp": "2026-01-17T06:24:43.950745+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE adjustments", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,950 INFO sqlalchemy.engine.Engine [no key 0.00040s] {}
{"timestamp": "2026-01-17T06:24:43.951063+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00040s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,953 INFO sqlalchemy.engine.Engine 
DROP TABLE stock_history
{"timestamp": "2026-01-17T06:24:43.953600+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE stock_history", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,953 INFO sqlalchemy.engine.Engine [no key 0.00016s] {}
{"timestamp": "2026-01-17T06:24:43.953709+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00016s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,955 INFO sqlalchemy.engine.Engine 
DROP TABLE lot_receipts
{"timestamp": "2026-01-17T06:24:43.955444+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE lot_receipts", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,955 INFO sqlalchemy.engine.Engine [no key 0.00015s] {}
{"timestamp": "2026-01-17T06:24:43.955551+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00015s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,961 INFO sqlalchemy.engine.Engine 
DROP TABLE expected_lots
{"timestamp": "2026-01-17T06:24:43.961323+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE expected_lots", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,961 INFO sqlalchemy.engine.Engine [no key 0.00018s] {}
{"timestamp": "2026-01-17T06:24:43.961434+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00018s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,963 INFO sqlalchemy.engine.Engine 
DROP TABLE rpa_run_items
{"timestamp": "2026-01-17T06:24:43.963692+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE rpa_run_items", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,963 INFO sqlalchemy.engine.Engine [no key 0.00026s] {}
{"timestamp": "2026-01-17T06:24:43.963800+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00026s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,966 INFO sqlalchemy.engine.Engine 
DROP TABLE order_lines
{"timestamp": "2026-01-17T06:24:43.966940+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE order_lines", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,967 INFO sqlalchemy.engine.Engine [no key 0.00014s] {}
{"timestamp": "2026-01-17T06:24:43.967043+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00014s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,971 INFO sqlalchemy.engine.Engine 
DROP TABLE warehouse_delivery_routes
{"timestamp": "2026-01-17T06:24:43.971418+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE warehouse_delivery_routes", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,971 INFO sqlalchemy.engine.Engine [no key 0.00018s] {}
{"timestamp": "2026-01-17T06:24:43.971539+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00018s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,973 INFO sqlalchemy.engine.Engine 
DROP TABLE customer_item_delivery_settings
{"timestamp": "2026-01-17T06:24:43.973753+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE customer_item_delivery_settings", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,973 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.973818+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,975 INFO sqlalchemy.engine.Engine 
DROP TABLE customer_item_jiku_mappings
{"timestamp": "2026-01-17T06:24:43.975746+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE customer_item_jiku_mappings", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,975 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.975813+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,977 INFO sqlalchemy.engine.Engine 
DROP TABLE inbound_plan_lines
{"timestamp": "2026-01-17T06:24:43.977432+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE inbound_plan_lines", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,977 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.977497+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,979 INFO sqlalchemy.engine.Engine 
DROP TABLE forecast_current
{"timestamp": "2026-01-17T06:24:43.979056+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE forecast_current", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,979 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:43.979139+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,981 INFO sqlalchemy.engine.Engine 
DROP TABLE system_client_logs
{"timestamp": "2026-01-17T06:24:43.981211+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE system_client_logs", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,981 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.981287+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,983 INFO sqlalchemy.engine.Engine 
DROP TABLE rpa_runs
{"timestamp": "2026-01-17T06:24:43.983601+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE rpa_runs", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,983 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:43.983682+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,987 INFO sqlalchemy.engine.Engine 
DROP TABLE product_warehouse
{"timestamp": "2026-01-17T06:24:43.987111+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE product_warehouse", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,987 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:43.987184+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,988 INFO sqlalchemy.engine.Engine 
DROP TABLE product_suppliers
{"timestamp": "2026-01-17T06:24:43.988426+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE product_suppliers", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,988 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.988494+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,990 INFO sqlalchemy.engine.Engine 
DROP TABLE orders
{"timestamp": "2026-01-17T06:24:43.990079+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE orders", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,990 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.990148+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,992 INFO sqlalchemy.engine.Engine 
DROP TABLE order_groups
{"timestamp": "2026-01-17T06:24:43.992105+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE order_groups", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,992 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:43.992181+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,993 INFO sqlalchemy.engine.Engine 
DROP TABLE missing_mapping_events
{"timestamp": "2026-01-17T06:24:43.993951+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE missing_mapping_events", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,994 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:43.994019+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,996 INFO sqlalchemy.engine.Engine 
DROP TABLE product_uom_conversions
{"timestamp": "2026-01-17T06:24:43.996914+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE product_uom_conversions", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,996 INFO sqlalchemy.engine.Engine [no key 0.00012s] {}
{"timestamp": "2026-01-17T06:24:43.997008+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00012s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,998 INFO sqlalchemy.engine.Engine 
DROP TABLE product_mappings
{"timestamp": "2026-01-17T06:24:43.998380+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE product_mappings", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:43,998 INFO sqlalchemy.engine.Engine [no key 0.00012s] {}
{"timestamp": "2026-01-17T06:24:43.998490+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00012s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,000 INFO sqlalchemy.engine.Engine 
DROP TABLE customer_items
{"timestamp": "2026-01-17T06:24:44.000817+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE customer_items", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,000 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:44.000892+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,003 INFO sqlalchemy.engine.Engine 
DROP TABLE delivery_places
{"timestamp": "2026-01-17T06:24:44.003610+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE delivery_places", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,003 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.003680+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,005 INFO sqlalchemy.engine.Engine 
DROP TABLE lot_master
{"timestamp": "2026-01-17T06:24:44.005095+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE lot_master", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,005 INFO sqlalchemy.engine.Engine [no key 0.00006s] {}
{"timestamp": "2026-01-17T06:24:44.005155+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00006s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,006 INFO sqlalchemy.engine.Engine 
DROP TABLE master_change_logs
{"timestamp": "2026-01-17T06:24:44.006821+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE master_change_logs", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,006 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:44.006883+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,008 INFO sqlalchemy.engine.Engine 
DROP TABLE operation_logs
{"timestamp": "2026-01-17T06:24:44.008466+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE operation_logs", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,008 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
{"timestamp": "2026-01-17T06:24:44.008557+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00011s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,010 INFO sqlalchemy.engine.Engine 
DROP TABLE inbound_plans
{"timestamp": "2026-01-17T06:24:44.010145+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE inbound_plans", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,010 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.010211+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,011 INFO sqlalchemy.engine.Engine 
DROP TABLE cloud_flow_jobs
{"timestamp": "2026-01-17T06:24:44.011900+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE cloud_flow_jobs", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,011 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:44.011967+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,013 INFO sqlalchemy.engine.Engine 
DROP TABLE user_roles
{"timestamp": "2026-01-17T06:24:44.013579+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE user_roles", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,013 INFO sqlalchemy.engine.Engine [no key 0.00009s] {}
{"timestamp": "2026-01-17T06:24:44.013669+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00009s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,015 INFO sqlalchemy.engine.Engine 
DROP TABLE user_supplier_assignments
{"timestamp": "2026-01-17T06:24:44.015117+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE user_supplier_assignments", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,015 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.015182+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,016 INFO sqlalchemy.engine.Engine 
DROP TABLE system_configs
{"timestamp": "2026-01-17T06:24:44.016921+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE system_configs", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,016 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:44.016991+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,018 INFO sqlalchemy.engine.Engine 
DROP TABLE smartread_configs
{"timestamp": "2026-01-17T06:24:44.018036+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE smartread_configs", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,018 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:44.018097+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,019 INFO sqlalchemy.engine.Engine 
DROP TABLE seed_snapshots
{"timestamp": "2026-01-17T06:24:44.019042+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE seed_snapshots", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,019 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.019112+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,019 INFO sqlalchemy.engine.Engine 
DROP TABLE products
{"timestamp": "2026-01-17T06:24:44.019870+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE products", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,019 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.019939+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,021 INFO sqlalchemy.engine.Engine 
DROP TABLE customers
{"timestamp": "2026-01-17T06:24:44.021443+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE customers", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,021 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:44.021503+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,022 INFO sqlalchemy.engine.Engine 
DROP TABLE suppliers
{"timestamp": "2026-01-17T06:24:44.022571+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE suppliers", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,022 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:44.022644+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,023 INFO sqlalchemy.engine.Engine 
DROP TABLE warehouses
{"timestamp": "2026-01-17T06:24:44.023606+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE warehouses", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,023 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:44.023673+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,024 INFO sqlalchemy.engine.Engine 
DROP TABLE lot_reservation_history
{"timestamp": "2026-01-17T06:24:44.024819+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE lot_reservation_history", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,024 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.024887+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,025 INFO sqlalchemy.engine.Engine 
DROP TABLE batch_jobs
{"timestamp": "2026-01-17T06:24:44.025975+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE batch_jobs", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,026 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.026039+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,027 INFO sqlalchemy.engine.Engine 
DROP TABLE business_rules
{"timestamp": "2026-01-17T06:24:44.027349+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE business_rules", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,027 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.027421+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,028 INFO sqlalchemy.engine.Engine 
DROP TABLE layer_code_mappings
{"timestamp": "2026-01-17T06:24:44.028791+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE layer_code_mappings", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,028 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:44.028869+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,029 INFO sqlalchemy.engine.Engine 
DROP TABLE forecast_history
{"timestamp": "2026-01-17T06:24:44.029591+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE forecast_history", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,029 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
{"timestamp": "2026-01-17T06:24:44.029670+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00010s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,030 INFO sqlalchemy.engine.Engine 
DROP TABLE cloud_flow_configs
{"timestamp": "2026-01-17T06:24:44.030748+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE cloud_flow_configs", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,030 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.030823+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,031 INFO sqlalchemy.engine.Engine 
DROP TABLE roles
{"timestamp": "2026-01-17T06:24:44.031816+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE roles", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,031 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
{"timestamp": "2026-01-17T06:24:44.031884+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00008s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,032 INFO sqlalchemy.engine.Engine 
DROP TABLE users
{"timestamp": "2026-01-17T06:24:44.032875+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "\nDROP TABLE users", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,032 INFO sqlalchemy.engine.Engine [no key 0.00007s] {}
{"timestamp": "2026-01-17T06:24:44.032935+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "[no key 0.00007s] {}", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:1846", "function": "_execute_context", "environment": "development"}
2026-01-17 15:24:44,034 INFO sqlalchemy.engine.Engine COMMIT
{"timestamp": "2026-01-17T06:24:44.034585+00:00", "level": "INFO", "name": "sqlalchemy.engine.Engine", "message": "COMMIT", "logger": "sqlalchemy.engine.Engine", "file": "/Users/kazuya/dev/projects/lot-management-system/backend/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py:2716", "function": "_connection_commit_impl", "environment": "development"}
---------------------------- Captured log teardown -----------------------------
INFO     app.main:main.py:151  ...
INFO     sqlalchemy.engine.Engine:base.py:2713 ROLLBACK
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.029s ago] {'table_name': 'user_supplier_assignments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.031s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.031s ago] {'table_name': 'roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.032s ago] {'table_name': 'user_roles', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.033s ago] {'table_name': 'cloud_flow_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.033s ago] {'table_name': 'cloud_flow_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.034s ago] {'table_name': 'forecast_current', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.034s ago] {'table_name': 'forecast_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.035s ago] {'table_name': 'inbound_plans', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.035s ago] {'table_name': 'inbound_plan_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.036s ago] {'table_name': 'expected_lots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.036s ago] {'table_name': 'lot_receipts', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.037s ago] {'table_name': 'stock_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.037s ago] {'table_name': 'adjustments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.038s ago] {'table_name': 'allocation_suggestions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.038s ago] {'table_name': 'allocation_traces', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.039s ago] {'table_name': 'layer_code_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.039s ago] {'table_name': 'operation_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.039s ago] {'table_name': 'master_change_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.04s ago] {'table_name': 'business_rules', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.04s ago] {'table_name': 'batch_jobs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.041s ago] {'table_name': 'lot_master', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.041s ago] {'table_name': 'lot_reservation_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.042s ago] {'table_name': 'lot_reservations', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.042s ago] {'table_name': 'warehouses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.042s ago] {'table_name': 'suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.043s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.043s ago] {'table_name': 'delivery_places', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.044s ago] {'table_name': 'products', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.044s ago] {'table_name': 'customer_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.045s ago] {'table_name': 'product_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.045s ago] {'table_name': 'product_uom_conversions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.046s ago] {'table_name': 'customer_item_jiku_mappings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.046s ago] {'table_name': 'customer_item_delivery_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.047s ago] {'table_name': 'warehouse_delivery_routes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.047s ago] {'table_name': 'missing_mapping_events', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.048s ago] {'table_name': 'order_groups', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.048s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.049s ago] {'table_name': 'order_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.049s ago] {'table_name': 'product_suppliers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.05s ago] {'table_name': 'product_warehouse', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.05s ago] {'table_name': 'rpa_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.051s ago] {'table_name': 'rpa_run_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.051s ago] {'table_name': 'seed_snapshots', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.051s ago] {'table_name': 'smartread_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.052s ago] {'table_name': 'system_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.052s ago] {'table_name': 'system_client_logs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.053s ago] {'table_name': 'withdrawal_lines', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 1.053s ago] {'table_name': 'withdrawals', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE withdrawal_lines
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE withdrawals
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE lot_reservations
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE allocation_traces
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE allocation_suggestions
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE adjustments
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00040s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE stock_history
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE lot_receipts
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE expected_lots
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE rpa_run_items
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00026s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE order_lines
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE warehouse_delivery_routes
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE customer_item_delivery_settings
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE customer_item_jiku_mappings
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE inbound_plan_lines
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE forecast_current
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE system_client_logs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE rpa_runs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE product_warehouse
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE product_suppliers
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE orders
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE order_groups
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE missing_mapping_events
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE product_uom_conversions
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE product_mappings
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE customer_items
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE delivery_places
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE lot_master
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00006s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE master_change_logs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE operation_logs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE inbound_plans
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE cloud_flow_jobs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE user_roles
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE user_supplier_assignments
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE system_configs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE smartread_configs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE seed_snapshots
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE products
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE customers
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE suppliers
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE warehouses
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE lot_reservation_history
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE batch_jobs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE business_rules
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE layer_code_mappings
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE forecast_history
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE cloud_flow_configs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE roles
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00008s] {}
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE users
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] {}
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
=========================== short test summary info ============================
FAILED tests/api/test_rpa_material_delivery.py::test_get_runs_empty - AttributeError: 'NoneType' object has no attribute 'session'
FAILED tests/api/test_rpa_material_delivery.py::test_create_run_from_csv - TypeError: 'NoneType' object does not support the context manager protocol
FAILED tests/api/test_rpa_material_delivery.py::test_update_item_uow - assert 500 == 200
 +  where 500 = <Response [500 Internal Server Error]>.status_code
 +  and   200 = status.HTTP_200_OK
============================== 3 failed in 1.25s ===============================
