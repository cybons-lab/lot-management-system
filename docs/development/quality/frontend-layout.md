# フロントエンドのレイアウト/テーブル課題と対応方針

本リポジトリのフロントエンドで確認したレイアウトおよびテーブル実装上の課題と、それに対する対応方針をまとめる。

## 課題の概要

- **ページ余白・最大幅のバラつき**
  - 共通コンテナ（`PageContainer`）を使わず、ページ個別で `p-6` などの余白を指定している箇所が散見される。
  - レイアウトによって最大幅の制約が異なり、一覧ページ間で横幅・余白が揺れている。

- **テーブル実装の非統一**
  - Users / Roles などのマスター系ページが、手組みの `<table>` を持っており、スタイル・ソート挙動がページごとに微妙に異なる。
  - 既存の共通テーブル（DataTable）や TanStack Table を活用できておらず、列定義の再利用やスタイリングの一貫性が確保できていない。

- **UI テストの不足**
  - フロントエンドのユニットテストが `App.test.tsx` のプレースホルダーのみで、一覧ページのフィルタやページネーションの回帰検出が難しい。
  - レイアウト崩れやコンポーネント連携の検証が手動頼りになっている。

## 対応方針

- **レイアウトの共通化**: 基本のページシェルは `PageContainer` + `PageHeader` を利用し、最大幅と余白を統一する。
- **テーブルの共通化**: TanStack Table ベースの薄いラッパーを共通コンポーネントとして用意し、マスター系一覧ページから流用する。列定義を分離して再利用しやすくする。
- **テスト強化（別途実装）**: テーブルのフィルタ・ソート・ページネーションを中心にユニット/結合テストを追加し、回帰を防止する。

## 今回の対応（概要）

- マスター系一覧（Users / Roles）を `PageContainer` + `PageHeader` で統一し、余白・横幅を揃えた。
- TanStack Table を下敷きにした共通テーブルコンポーネントを追加し、Users / Roles のテーブル実装を差し替えた。
- 列定義をページ外に切り出し、行アクションも含めて再利用しやすく整理した。
