# OCR結果テーブルの列順・表示名カスタマイズに関するメモ

## 背景
OCR結果一覧の列並び・表示名カスタマイズについて、現状の実装状況と実現方法を整理したメモです。

## 現状の仕様
- `DataTable` は **渡された `columns` 配列の順序通りに列を描画**します。
- `Column` の `id` は内部キー、`header` が表示名です。
- 表示/非表示は `columnVisibility` で管理されていますが、**列順の並び替えUIや保存機能は未実装**です。

## 要件別の実現方法

### 1. 並べ替えリストに従って列名を並べる
- **可能**です。
- 並べ替えリストで `columns` を並べ替えてから `DataTable` に渡せば反映されます。
- 既存の SmartRead CSV 用ユーティリティ（列順定義）を参考に実装可能です。

### 2. ユーザーが並び替えて記憶する
- **現状は未対応**です。
- 実装には以下が必要です。
  - 列並び替えUI（ドラッグ&ドロップ等）
  - 保存先（DB もしくは localStorage）
  - 保存済み順序を読み込んで `columns` に適用する処理

### 3. 元の名前はそのまま、ヘッダー名だけ変更する
- **可能**です。
- `id` を固定し、`header` だけ差し替えることで実現できます。

### 4. 管理ページから全ユーザーに対して表示名を変更する
- **実現可能だが新規実装が必要**です。
- 例:
  - 表示名マッピング用テーブル（`column_display_settings` 等）を新設
  - 管理画面でマッピング編集
  - OCR結果画面で表示名を取得して `header` に反映

## 次回以降の対応候補
- 管理ページ + マッピングテーブルの設計・実装
- OCR結果テーブルでの列順/表示名の適用機構の追加
- 必要に応じてユーザー個別の列順保存
