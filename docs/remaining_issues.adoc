= 残課題リスト
:toc: left
:toc-title: 目次

**最終更新:** 2025-12-05

== 概要

このドキュメントは現在の残課題のみを管理します。
完了した課題は `CHANGELOG.md` に記録されます。

---

== 🟠 高優先度

=== 1. 認証機能（ユーザー識別用）

**ステータス:** 保留（アクセス制限不要のため優先度降格）

社内システムのため、ログイン必須ではありませんが、
「誰が操作したか」の記録があると便利です。

**サブタスク:**

. ユーザー識別方法の決定
. Auth context 実装
. 操作ログへのユーザー関連付け

---

=== 2. 担当者ロック表示（排他制御）

**ステータス:** 未実装 +
**ブロッカー:** 認証機能の実装

別ユーザーが編集中の場合、「🔒 田中太郎さんが編集中」と表示。

---

== 🟡 中優先度

=== 3. SAP連携の本番化

**ステータス:** モック実装済み

* SAP在庫チェック: ✅ モック実装済み
* SAP受注登録: ✅ モック実装済み
* 本番SAP API接続: ❌ 未実装

---

=== 4. 定期バッチジョブのスケジューラ設定

**ステータス:** 手動実行のみ

APScheduler または Celery Beat の導入検討。

---

=== 5. UIレイアウト総点検

長い文字列の表示で一部レイアウト崩れが発生する可能性。
各一覧画面での確認が必要。

---

== 🔵 低優先度

=== 6. Hard Allocation の本格運用

**タイミング:** v3.0予定

現在はSoft Allocation（推奨引当）のみ。

=== 7. レガシー AllocationService の削除

`backend/app/services/allocations/core.py` は孤立コード。

=== 8. mypy attr-defined エラー

17件残（MetricsCollector関連15件、Enum2件）

---

== コード品質課題

=== ESLint

**Critical:** ✅ 全完了（2025-12-05）

**High（将来対応）:**

* アクセシビリティ（ラベル関連付け）: 6件
* 関数長さ違反（80行超過）: 17件
* 複雑度違反: 15件

---

== 更新履歴

[cols="1,2"]
|===
| 日付 | 内容

| 2025-12-05
| ドキュメント構造整理。完了済み課題をCHANGELOGへ移動。

| 2025-12-04
| OpenAPI型統一完了

| 2025-11-28
| 最終精査版作成
|===
