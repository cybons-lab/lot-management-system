# 現在のタスク一覧

**最終更新:** 2025-12-06

> このドキュメントは**現在進行中のタスクと残課題**を一元管理します。
> 完了したタスクは `CHANGELOG.md` に記録され、このファイルから削除されます。

---

## 📊 サマリー

| 優先度 | 件数 | 状態 |
|--------|------|------|
| P1（高） | 2 | ブロッカーあり |
| P2（中） | 2 | 実施可能 |
| P3（低） | 3 | 将来対応 |

---

## P1 - 高優先度

### 認証機能（ユーザー識別用）

**ステータス:** 保留（アクセス制限不要のため優先度降格）

社内システムのためログイン必須ではないが、「誰が操作したか」の記録があると便利。

**サブタスク:**
- [ ] ユーザー識別方法の決定
- [ ] Auth context 実装
- [ ] 操作ログへのユーザー関連付け

### 担当者ロック表示（排他制御）

**ステータス:** 未実装  
**ブロッカー:** 認証機能の実装

別ユーザーが編集中の場合、「🔒 田中太郎さんが編集中」と表示。

---

## P2 - 中優先度

### SAP連携の本番化

**ステータス:** モック実装済み

- SAP在庫チェック: ✅ モック実装済み
- SAP受注登録: ✅ モック実装済み
- 本番SAP API接続: ❌ 未実装

### 定期バッチジョブのスケジューラ設定

**ステータス:** 手動実行のみ

APScheduler または Celery Beat の導入検討。

---

## P3 - 低優先度（将来対応）

### Hard Allocation の本格運用

**ステータス:** v3.0予定

現在はSoft Allocation（推奨引当）のみ。

### テストデータ生成の改善

**ステータス:** 一部完了

対応済み:
- ✅ 在庫量: フォーキャストの70-90%（制約発生）
- ✅ ロット: 60% 1ロット、30% 2ロット、10% 3ロット
- ✅ フォーキャスト種別: 50% 日別、30% 旬別、20% 月別
- ✅ 受注: 90%がフォーキャスト一致、10%のみ変動

残タスク（別ブランチで対応予定）:
- [ ] 全製品に最低1ロット確保
- [ ] エッジケーステスト用データパターン追加

### コード品質課題

**ESLint:**
- eslint-disable コメント: 43件（将来的にリファクタリングして削除）
- 主な違反: max-lines-per-function, complexity, @typescript-eslint/no-explicit-any

**Mypy:**
- type: ignore 使用箇所: 約81箇所
- 要注意ファイル:
  - `backend/app/services/allocations/utils.py`
  - `backend/app/services/inventory/inbound_service.py`
  - `backend/app/api/routes/inventory/lots_router.py`

---

## 参照

- **変更履歴:** `CHANGELOG.md`
- **完了機能:** `docs/COMPLETED_FEATURES.adoc`
- **開発ガイド:** `CLAUDE.md`
