# OCR受注登録機能 実装タスク

## Phase 1: 出荷用マスタデータ管理 (マスタ層)

### バックエンド
- [ ] `shipping_master_raw` テーブル作成（Excelのヘッダ順序を維持した生データ保存用）
- [ ] `shipping_master_curated` テーブル作成（整形済みデータ、キー: 得意先コード × 材質コード × 次区）
- [ ] Alembic マイグレーション作成
- [ ] 出荷用マスタデータ用サービス作成
- [ ] API エンドポイント作成（CRUD + Excel/CSVインポート）
- [ ] ダミーデータ作成スクリプト

### フロントエンド
- [ ] マスタページ内に「出荷用マスタデータ」タブ/サブメニュー追加
- [ ] 一覧表示コンポーネント
- [ ] 編集フォーム
- [ ] Excel/CSVインポート機能

---

## Phase 2: 受注登録結果テーブル

### バックエンド
- [ ] `order_register_rows` テーブル作成（OCR + マスタ参照結果）
- [ ] Alembic マイグレーション作成
- [ ] 受注登録結果サービス作成（OCR縦持ちデータとマスタ結合ロジック）

### フロントエンド
- [ ] API型定義更新

---

## Phase 3: OCR結果ページ

### バックエンド
- [ ] OCR結果取得 API（縦持ちデータ + マスタ参照結果）
- [ ] Excel出力API（受注情報登録_yyyymmddhhMMss.xlsx形式）

### フロントエンド
- [ ] グローバルナビに「OCR結果」メニュー追加
- [ ] OCR結果一覧ページ作成
- [ ] Excel出力ボタン実装

---

## Phase 4: テスト & 検証

- [ ] バックエンドユニットテスト
- [ ] APIテスト
- [ ] Ruff/Mypy チェック
- [ ] フロントエンド Lint/TypeCheck
